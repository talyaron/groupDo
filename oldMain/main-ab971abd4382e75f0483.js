!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){(function(t){"use strict";var e=n(120),i=n(119),r=n(123),o=n(58);n(127),n(135),t.route(document.body,"/mooskal",{"/mooskal":e.Mooskal,"/invitation/:invitationId":i.Invitation,"/selection/:selectionId":r.Selection,"/voting/:votingId":o.Voting})}).call(e,n(11))},function(t,e,n){"use strict";function i(t){var e="FIRESTORE ("+o.SDK_VERSION+") INTERNAL ASSERTION FAILED: "+t;throw a.error(e),new Error(e)}function r(t,e){t||i(e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(36),a=n(5);e.fail=i,e.assert=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10);e.Code={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};var r=function(t){function e(e,n){var i=t.call(this,n)||this;return i.code=e,i.message=n,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return i.__extends(e,t),e}(Error);e.FirestoreError=r},function(t,e,n){"use strict";function i(){return l}function r(){return h}function o(){return d}function a(){return f}Object.defineProperty(e,"__esModule",{value:!0});var s=n(15),u=n(30),c=n(4),l=new s.SortedMap(c.DocumentKey.comparator);e.maybeDocumentMap=i;var h=new s.SortedMap(c.DocumentKey.comparator);e.documentMap=r;var d=new s.SortedMap(c.DocumentKey.comparator);e.documentVersionMap=o;var f=new u.SortedSet(c.DocumentKey.comparator);e.documentKeySet=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(14),o=function(){function t(e){this.path=e,i.assert(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===r.ResourcePath.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return r.ResourcePath.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2===0},t.fromSegments=function(e){return new t(new r.ResourcePath(e.slice()))},t.fromPathString=function(e){return new t(r.ResourcePath.fromString(e))},t.EMPTY=new t(new r.ResourcePath([])),t}();e.DocumentKey=o},function(t,e,n){"use strict";function i(){return d.logLevel===h.LogLevel.DEBUG?u.DEBUG:d.logLevel===h.LogLevel.SILENT?u.SILENT:u.ERROR}function r(t){switch(t){case u.DEBUG:d.logLevel=h.LogLevel.DEBUG;break;case u.ERROR:d.logLevel=h.LogLevel.ERROR;break;case u.SILENT:d.logLevel=h.LogLevel.SILENT;break;default:d.error("Firestore ("+c.SDK_VERSION+"): Invalid value passed to `setLogLevel`")}}function o(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(d.logLevel<=h.LogLevel.DEBUG){var r=n.map(s);d.debug.apply(d,["Firestore ("+c.SDK_VERSION+") ["+t+"]: "+e].concat(r))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(d.logLevel<=h.LogLevel.ERROR){var i=e.map(s);d.error.apply(d,["Firestore ("+c.SDK_VERSION+"): "+t].concat(i))}}function s(t){if("string"==typeof t)return t;var e=l.PlatformSupport.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}Object.defineProperty(e,"__esModule",{value:!0});var u,c=n(36),l=n(13),h=n(101),d=new h.Logger("@firebase/firestore");!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(u=e.LogLevel||(e.LogLevel={})),e.getLogLevel=i,e.setLogLevel=r,e.debug=o,e.error=a},function(t,e,n){"use strict";function i(t,e){return t<e?-1:t>e?1:0}function r(t,e){return null!==t&&void 0!==t?!(!e||!t.isEqual(e)):t===e}function o(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function a(t){var e=t.length-1;return 0===t.length?"":"\0"===t.charAt(e)?t.substring(0,e):t.substring(0,e)+String.fromCharCode(t.charCodeAt(e)-1)}function s(t){return t+"\0"}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),c=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return u.assert(20===e.length,"Invalid auto ID: "+e),e},t}();e.AutoId=c,e.primitiveComparator=i,e.equals=r,e.arrayEquals=o,e.immediatePredecessor=a,e.immediateSuccessor=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&i.fail("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return e.reduce(function(t,e,n){return t.next(function(){return e})},t.resolve())},t.map=function(e){var n=[],i=!0,r=t.resolve(null);return e.reduce(function(t,e){return t.next(function(t){return i||n.push(t),i=!1,e})},r).next(function(t){return n.push(t),n})},t}();e.PersistencePromise=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),r=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6),r=e%1e6*1e3;return new t(new i.Timestamp(n,r))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp.compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanos/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new i.Timestamp(0,0)),t}();e.SnapshotVersion=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(4),o=function(){function t(t,e,n,i){this.key=t,this.version=e,this.data=n,this.hasLocalMutations=i.hasLocalMutations}return t.prototype.field=function(t){return this.data.field(t)},t.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", "+("{hasLocalMutations: "+this.hasLocalMutations+"})")},t.compareByKey=function(t,e){return r.DocumentKey.comparator(t.key,e.key)},t.compareByField=function(t,e,n){var r=e.field(t),o=n.field(t);return void 0!==r&&void 0!==o?r.compareTo(o):i.fail("Trying to compare documents on fields that don't exist")},t}();e.Document=o;var a=function(){function t(t,e){this.key=t,this.version=e}return t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},t.prototype.isEqual=function(t){return t&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},t.compareByKey=function(t,e){return r.DocumentKey.comparator(t.key,e.key)},t}();e.NoDocument=a},function(t,e,n){var i,r;(function(n){/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0
	
	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.
	
	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */
var o,a,s,u,c,l,h,d,f,p,v,m,y,g,b,w,_,E,T;!function(o){function a(t,e){return t!==s&&("function"==typeof Object.create?Object.defineProperty(t,"__esModule",{value:!0}):t.__esModule=!0),function(n,i){return t[n]=e?e(n,i):i}}var s="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:{};i=[e],r=function(t){o(a(s,a(t)))}.apply(e,i),!(void 0!==r&&(t.exports=r))}(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};o=function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)},a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},s=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]]);return n},u=function(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},c=function(t,e){return function(n,i){e(n,i,t)}},l=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(t){o(t)}}function s(t){try{u(i.throw(t))}catch(t){o(t)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,e||[])).next())})},d=function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},f=function(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])},p=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},v=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},m=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t},y=function(t){return this instanceof y?(this.v=t,this):new y(t)},g=function(t,e,n){function i(t){l[t]&&(c[t]=function(e){return new Promise(function(n,i){h.push([t,e,n,i])>1||r(t,e)})})}function r(t,e){try{o(l[t](e))}catch(t){u(h[0][3],t)}}function o(t){t.value instanceof y?Promise.resolve(t.value.v).then(a,s):u(h[0][2],t)}function a(t){r("next",t)}function s(t){r("throw",t)}function u(t,e){t(e),h.shift(),h.length&&r(h[0][0],h[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=n.apply(t,e||[]),h=[];return c={},i("next"),i("throw"),i("return"),c[Symbol.asyncIterator]=function(){return this},c},b=function(t){function e(e,r){t[e]&&(n[e]=function(n){return(i=!i)?{value:y(t[e](n)),done:"return"===e}:r?r(n):n})}var n,i;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n},w=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"==typeof p?p(t):t[Symbol.iterator]()},_=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},E=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},T=function(t){return t&&t.__esModule?t:{default:t}},t("__extends",o),t("__assign",a),t("__rest",s),t("__decorate",u),t("__param",c),t("__metadata",l),t("__awaiter",h),t("__generator",d),t("__exportStar",f),t("__values",p),t("__read",v),t("__spread",m),t("__await",y),t("__asyncGenerator",g),t("__asyncDelegator",b),t("__asyncValues",w),t("__makeTemplateObject",_),t("__importStar",E),t("__importDefault",T)})}).call(e,function(){return this}())},function(t,e,n){(function(t,e,n){!function(){"use strict";function i(t,e,n,i,r,o){return{tag:t,key:e,attrs:n,children:i,text:r,dom:o,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function r(t){for(var e in t)if(h.call(t,e))return!1;return!0}function o(t){for(var e,n="div",i=[],r={};e=c.exec(t);){var o=e[1],a=e[2];if(""===o&&""!==a)n=a;else if("#"===o)r.id=a;else if("."===o)i.push(a);else if("["===e[3][0]){var s=e[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?i.push(s):r[e[4]]=""===s?s:s||!0}}return i.length>0&&(r.className=i.join(" ")),l[t]={tag:n,attrs:r}}function a(t,e,n){var o,a,s=!1,u=e.className||e.class;if(!r(t.attrs)&&!r(e)){var c={};for(var l in e)h.call(e,l)&&(c[l]=e[l]);e=c}for(var l in t.attrs)h.call(t.attrs,l)&&(e[l]=t.attrs[l]);void 0!==u&&(void 0!==e.class&&(e.class=void 0,e.className=u),null!=t.attrs.className&&(e.className=t.attrs.className+" "+u));for(var l in e)if(h.call(e,l)&&"key"!==l){s=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?a=n[0].children:o=n,i(t.tag,e.key,s?e:void 0,o,a)}function s(t){var e,n=arguments[1],r=2;if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");if("string"==typeof t)var s=l[t]||o(t);if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},r=1),arguments.length===r+1)e=arguments[r],Array.isArray(e)||(e=[e]);else for(e=[];r<arguments.length;)e.push(arguments[r++]);var u=i.normalizeChildren(e);return"string"==typeof t?a(s,n,u):i(t,n.key,n,u)}function u(t){var e=16,n=0,i=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===n||o-n>=e?(n=o,t()):null===i&&(i=r(function(){i=null,t(),n=Date.now()},e-(o-n)))}}i.normalize=function(t){return Array.isArray(t)?i("[",void 0,void 0,i.normalizeChildren(t),void 0,void 0):null!=t&&"object"!=typeof t?i("#",void 0,void 0,t===!1?"":t,void 0,void 0):t},i.normalizeChildren=function(t){for(var e=0;e<t.length;e++)t[e]=i.normalize(t[e]);return t};var c=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,l={},h={}.hasOwnProperty;s.trust=function(t){return null==t&&(t=""),i("<",void 0,void 0,t,void 0,void 0)},s.fragment=function(t,e){return i("[",t.key,t,i.normalizeChildren(e),void 0,void 0)};var d=s,f=function(e){function n(t,e){return function n(s){var h;try{if(!e||null==s||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof(h=s.then))l(function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",s);for(var i=0;i<t.length;i++)t[i](s);o.length=0,a.length=0,c.state=e,c.retry=function(){n(s)}});else{if(s===r)throw new TypeError("Promise can't be resolved w/ itself");i(h.bind(s))}}catch(t){u(t)}}}function i(t){function e(t){return function(e){n++>0||t(e)}}var n=0,i=e(u);try{t(e(s),i)}catch(t){i(t)}}if(!(this instanceof f))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var r=this,o=[],a=[],s=n(o,!0),u=n(a,!1),c=r._instance={resolvers:o,rejectors:a},l="function"==typeof t?t:setTimeout;i(e)};if(f.prototype.then=function(t,e){function n(t,e,n,o){e.push(function(e){if("function"!=typeof t)n(e);else try{i(t(e))}catch(t){r&&r(t)}}),"function"==typeof a.retry&&o===a.state&&a.retry()}var i,r,o=this,a=o._instance,s=new f(function(t,e){i=t,r=e});return n(t,a.resolvers,i,!0),n(e,a.rejectors,r,!1),s},f.prototype.catch=function(t){return this.then(null,t)},f.resolve=function(t){return t instanceof f?t:new f(function(e){e(t)})},f.reject=function(t){return new f(function(e,n){n(t)})},f.all=function(t){return new f(function(e,n){var i=t.length,r=0,o=[];if(0===t.length)e([]);else for(var a=0;a<t.length;a++)!function(a){function s(t){r++,o[a]=t,r===i&&e(o)}null==t[a]||"object"!=typeof t[a]&&"function"!=typeof t[a]||"function"!=typeof t[a].then?s(t[a]):t[a].then(s,n)}(a)})},f.race=function(t){return new f(function(e,n){for(var i=0;i<t.length;i++)t[i].then(e,n)})},"undefined"!=typeof window){"undefined"==typeof window.Promise&&(window.Promise=f);var f=window.Promise}else if("undefined"!=typeof e){"undefined"==typeof e.Promise&&(e.Promise=f);var f=e.Promise}var p=function(t){function e(t,i){if(Array.isArray(i))for(var r=0;r<i.length;r++)e(t+"["+r+"]",i[r]);else if("[object Object]"===Object.prototype.toString.call(i))for(var r in i)e(t+"["+r+"]",i[r]);else n.push(encodeURIComponent(t)+(null!=i&&""!==i?"="+encodeURIComponent(i):""))}if("[object Object]"!==Object.prototype.toString.call(t))return"";var n=[];for(var i in t)e(i,t[i]);return n.join("&")},v=new RegExp("^file://","i"),m=function(t,e){function n(t){d=t}function i(){function t(){0===--e&&"function"==typeof d&&d()}var e=0;return function n(i){var r=i.then;return i.then=function(){e++;var o=r.apply(i,arguments);return o.then(t,function(n){if(t(),0===e)throw n}),n(o)},i}}function r(t,e){if("string"==typeof t){var n=t;t=e||{},null==t.url&&(t.url=n)}return t}function o(n,o){var a=i();n=r(n,o);var d=new e(function(e,i){null==n.method&&(n.method="GET"),n.method=n.method.toUpperCase();var r="GET"!==n.method&&"TRACE"!==n.method&&("boolean"!=typeof n.useBody||n.useBody);"function"!=typeof n.serialize&&(n.serialize="undefined"!=typeof FormData&&n.data instanceof FormData?function(t){return t}:JSON.stringify),"function"!=typeof n.deserialize&&(n.deserialize=c),"function"!=typeof n.extract&&(n.extract=l),n.url=s(n.url,n.data),r?n.data=n.serialize(n.data):n.url=u(n.url,n.data);var o=new t.XMLHttpRequest,a=!1,d=o.abort;o.abort=function(){a=!0,d.call(o)},o.open(n.method,n.url,"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),n.serialize!==JSON.stringify||!r||n.headers&&n.headers.hasOwnProperty("Content-Type")||o.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize!==c||n.headers&&n.headers.hasOwnProperty("Accept")||o.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(o.withCredentials=n.withCredentials);for(var f in n.headers)({}).hasOwnProperty.call(n.headers,f)&&o.setRequestHeader(f,n.headers[f]);"function"==typeof n.config&&(o=n.config(o,n)||o),o.onreadystatechange=function(){if(!a&&4===o.readyState)try{var t=n.extract!==l?n.extract(o,n):n.deserialize(n.extract(o,n));if(o.status>=200&&o.status<300||304===o.status||v.test(n.url))e(h(n.type,t));else{var r=new Error(o.responseText);for(var s in t)r[s]=t[s];i(r)}}catch(t){i(t)}},r&&null!=n.data?o.send(n.data):o.send()});return n.background===!0?d:a(d)}function a(n,o){var a=i();n=r(n,o);var c=new e(function(e,i){var r=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+f++,o=t.document.createElement("script");t[r]=function(i){o.parentNode.removeChild(o),e(h(n.type,i)),delete t[r]},o.onerror=function(){o.parentNode.removeChild(o),i(new Error("JSONP request failed")),delete t[r]},null==n.data&&(n.data={}),n.url=s(n.url,n.data),n.data[n.callbackKey||"callback"]=r,o.src=u(n.url,n.data),t.document.documentElement.appendChild(o)});return n.background===!0?c:a(c)}function s(t,e){if(null==e)return t;for(var n=t.match(/:[^\/]+/gi)||[],i=0;i<n.length;i++){var r=n[i].slice(1);null!=e[r]&&(t=t.replace(n[i],e[r]))}return t}function u(t,e){var n=p(e);if(""!==n){var i=t.indexOf("?")<0?"?":"&";t+=i+n}return t}function c(t){try{return""!==t?JSON.parse(t):null}catch(e){throw new Error(t)}}function l(t){return t.responseText}function h(t,e){if("function"==typeof t){if(!Array.isArray(e))return new t(e);for(var n=0;n<e.length;n++)e[n]=new t(e[n])}return e}var d,f=0;return{request:o,jsonp:a,setCompletionCallback:n}},y=m(window,f),g=function(t){function e(t){return W=t}function n(t){return t.attrs&&t.attrs.xmlns||Q[t.tag]}function r(t,e,n,i,r,a,s){for(var u=n;u<i;u++){var c=e[u];null!=c&&o(t,c,r,s,a)}}function o(t,e,n,i,r){var o=e.tag;if("string"!=typeof o)return h(t,e,n,i,r);switch(e.state={},null!=e.attrs&&j(e.attrs,e,n),o){case"#":return a(t,e,r);case"<":return s(t,e,r);case"[":return u(t,e,n,i,r);default:return c(t,e,n,i,r)}}function a(t,e,n){return e.dom=K.createTextNode(e.children),T(t,e.dom,n),e.dom}function s(t,e,n){var i=e.children.match(/^\s*?<(\w+)/im)||[],r={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[i[1]]||"div",o=K.createElement(r);o.innerHTML=e.children,e.dom=o.firstChild,e.domSize=o.childNodes.length;for(var a,s=K.createDocumentFragment();a=o.firstChild;)s.appendChild(a);return T(t,s,n),s}function u(t,e,n,i,o){var a=K.createDocumentFragment();if(null!=e.children){var s=e.children;r(a,s,0,s.length,n,null,i)}return e.dom=a.firstChild,e.domSize=a.childNodes.length,T(t,a,o),a}function c(t,e,o,a,s){var u=e.tag,c=e.attrs,l=c&&c.is;a=n(e)||a;var h=a?l?K.createElementNS(a,u,{is:l}):K.createElementNS(a,u):l?K.createElement(u,{is:l}):K.createElement(u);if(e.dom=h,null!=c&&D(e,c,a),T(t,h,s),null!=e.attrs&&null!=e.attrs.contenteditable)C(e);else if(null!=e.text&&(""!==e.text?h.textContent=e.text:e.children=[i("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children){var d=e.children;r(h,d,0,d.length,o,null,a),M(e)}return h}function l(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),n=t.state.view,null!=n.$$reentrantLock$$)return $;n.$$reentrantLock$$=!0}else{if(t.state=void 0,n=t.tag,null!=n.$$reentrantLock$$)return $;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(t._state=t.state,null!=t.attrs&&j(t.attrs,t,e),j(t._state,t,e),t.instance=i.normalize(t._state.view.call(t.state,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function h(t,e,n,i,r){if(l(e,n),null!=e.instance){var a=o(t,e.instance,n,i,r);return e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0,T(t,a,r),a}return e.domSize=0,$}function d(t,e,n,i,a,s,u){if(e!==n&&(null!=e||null!=n))if(null==e)r(t,n,0,n.length,a,s,u);else if(null==n)k(e,0,e.length,n);else{if(e.length===n.length){for(var c=!1,l=0;l<n.length;l++)if(null!=n[l]&&null!=e[l]){c=null==n[l].key&&null==e[l].key;break}if(c){for(var l=0;l<e.length;l++)e[l]!==n[l]&&(null==e[l]&&null!=n[l]?o(t,n[l],a,u,E(e,l+1,s)):null==n[l]?k(e,l,l+1,n):f(t,e[l],n[l],a,E(e,l+1,s),i,u));return}}if(i=i||b(e,n)){var h=e.pool;e=e.concat(e.pool)}for(var d,p=0,v=0,m=e.length-1,y=n.length-1;m>=p&&y>=v;){var g=e[p],C=n[v];if(g!==C||i)if(null==g)p++;else if(null==C)v++;else if(g.key===C.key){var S=null!=h&&p>=e.length-h.length||null==h&&i;p++,v++,f(t,g,C,a,E(e,p,s),S,u),i&&g.tag===C.tag&&T(t,_(g),s)}else{var g=e[m];if(g!==C||i)if(null==g)m--;else if(null==C)v++;else{if(g.key!==C.key)break;var S=null!=h&&m>=e.length-h.length||null==h&&i;f(t,g,C,a,E(e,m+1,s),S,u),(i||v<y)&&T(t,_(g),E(e,p,s)),m--,v++}else m--,v++}else p++,v++}for(;m>=p&&y>=v;){var g=e[m],C=n[y];if(g!==C||i)if(null==g)m--;else if(null==C)y--;else if(g.key===C.key){var S=null!=h&&m>=e.length-h.length||null==h&&i;f(t,g,C,a,E(e,m+1,s),S,u),i&&g.tag===C.tag&&T(t,_(g),s),null!=g.dom&&(s=g.dom),m--,y--}else{if(d||(d=w(e,m)),null!=C){var I=d[C.key];if(null!=I){var O=e[I],S=null!=h&&I>=e.length-h.length||null==h&&i;f(t,O,C,a,E(e,m+1,s),i,u),T(t,_(O),s),e[I].skip=!0,null!=O.dom&&(s=O.dom)}else{var D=o(t,C,a,u,s);s=D}}y--}else m--,y--;if(y<v)break}r(t,n,v,y+1,a,s,u),k(e,p,m+1,n)}}function f(t,e,n,i,r,a,s){var u=e.tag,c=n.tag;if(u===c){if(n.state=e.state,n._state=e._state,n.events=e.events,!a&&q(n,e))return;if("string"==typeof u)switch(null!=n.attrs&&(a?(n.state={},j(n.attrs,n,i)):U(n.attrs,n,i)),u){case"#":p(e,n);break;case"<":v(t,e,n,r);break;case"[":m(t,e,n,a,i,r,s);break;default:y(e,n,a,i,s)}else g(t,e,n,i,r,a,s)}else S(e,null),o(t,n,i,s,r)}function p(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children),e.dom=t.dom}function v(t,e,n,i){e.children!==n.children?(_(e),s(t,n,i)):(n.dom=e.dom,n.domSize=e.domSize)}function m(t,e,n,i,r,o,a){d(t,e.children,n.children,i,r,o,a);var s=0,u=n.children;if(n.dom=null,null!=u){for(var c=0;c<u.length;c++){var l=u[c];null!=l&&null!=l.dom&&(null==n.dom&&(n.dom=l.dom),s+=l.domSize||1)}1!==s&&(n.domSize=s)}}function y(t,e,r,o,a){var s=e.dom=t.dom;a=n(e)||a,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0)),N(e,t.attrs,e.attrs,a),null!=e.attrs&&null!=e.attrs.contenteditable?C(e):null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[i("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[i("#",void 0,void 0,e.text,void 0,void 0)]),d(s,t.children,e.children,r,o,null,a))}function g(t,e,n,r,a,s,u){if(s)l(n,r);else{if(n.instance=i.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&U(n.attrs,n,r),U(n._state,n,r)}null!=n.instance?(null==e.instance?o(t,n.instance,r,u,a):f(t,e.instance,n.instance,r,a,s,u),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(S(e.instance,null),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}function b(t,e){if(null!=t.pool&&Math.abs(t.pool.length-e.length)<=Math.abs(t.length-e.length)){var n=t[0]&&t[0].children&&t[0].children.length||0,i=t.pool[0]&&t.pool[0].children&&t.pool[0].children.length||0,r=e[0]&&e[0].children&&e[0].children.length||0;if(Math.abs(i-r)<=Math.abs(n-r))return!0}return!1}function w(t,e){for(var n={},i=0,i=0;i<e;i++){var r=t[i];if(null!=r){var o=r.key;null!=o&&(n[o]=i)}}return n}function _(t){var e=t.domSize;if(null!=e||null==t.dom){var n=K.createDocumentFragment();if(e>0){for(var i=t.dom;--e;)n.appendChild(i.nextSibling);n.insertBefore(i,n.firstChild)}return n}return t.dom}function E(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function T(t,e,n){n&&n.parentNode?t.insertBefore(e,n):t.appendChild(e)}function C(t){var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted")}function k(t,e,n,i){for(var r=e;r<n;r++){var o=t[r];null!=o&&(o.skip?o.skip=!1:S(o,i))}}function S(t,e){function n(){if(++r===i&&(O(t),t.dom)){var n=t.domSize||1;if(n>1)for(var o=t.dom;--n;)I(o.nextSibling);I(t.dom),null==e||null!=t.domSize||B(t.attrs)||"string"!=typeof t.tag||(e.pool?e.pool.push(t):e.pool=[t])}}var i=1,r=0;if(t.attrs&&"function"==typeof t.attrs.onbeforeremove){var o=t.attrs.onbeforeremove.call(t.state,t);null!=o&&"function"==typeof o.then&&(i++,o.then(n,n))}if("string"!=typeof t.tag&&"function"==typeof t._state.onbeforeremove){var o=t._state.onbeforeremove.call(t.state,t);null!=o&&"function"==typeof o.then&&(i++,o.then(n,n))}n()}function I(t){var e=t.parentNode;null!=e&&e.removeChild(t)}function O(t){if(t.attrs&&"function"==typeof t.attrs.onremove&&t.attrs.onremove.call(t.state,t),"string"!=typeof t.tag)"function"==typeof t._state.onremove&&t._state.onremove.call(t.state,t),null!=t.instance&&O(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];null!=i&&O(i)}}}function D(t,e,n){for(var i in e)A(t,i,null,e[i],n)}function A(t,e,n,i,r){var o=t.dom;if("key"!==e&&"is"!==e&&(n!==i||P(t,e)||"object"==typeof i)&&"undefined"!=typeof i&&!R(e)){var a=e.indexOf(":");if(a>-1&&"xlink"===e.substr(0,a))o.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(a+1),i);else if("o"===e[0]&&"n"===e[1]&&"function"==typeof i)V(t,e,i);else if("style"===e)F(o,n,i);else if(e in o&&!x(e)&&void 0===r&&!L(t)){if("value"===e){var s=""+i;if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===s&&t.dom===K.activeElement)return;if("select"===t.tag)if(null===i){if(t.dom.selectedIndex===-1&&t.dom===K.activeElement)return}else if(null!==n&&t.dom.value===s&&t.dom===K.activeElement)return;if("option"===t.tag&&null!=n&&t.dom.value===s)return}if("input"===t.tag&&"type"===e)return void o.setAttribute(e,i);o[e]=i}else"boolean"==typeof i?i?o.setAttribute(e,""):o.removeAttribute(e):o.setAttribute("className"===e?"class":e,i)}}function M(t){var e=t.attrs;"select"===t.tag&&null!=e&&("value"in e&&A(t,"value",null,e.value,void 0),"selectedIndex"in e&&A(t,"selectedIndex",null,e.selectedIndex,void 0))}function N(t,e,n,i){if(null!=n)for(var r in n)A(t,r,e&&e[r],n[r],i);if(null!=e)for(var r in e)null!=n&&r in n||("className"===r&&(r="class"),"o"!==r[0]||"n"!==r[1]||R(r)?"key"!==r&&t.dom.removeAttribute(r):V(t,r,void 0))}function P(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===K.activeElement}function R(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function x(t){return"href"===t||"list"===t||"form"===t||"width"===t||"height"===t}function L(t){return t.attrs.is||t.tag.indexOf("-")>-1}function B(t){return null!=t&&(t.oncreate||t.onupdate||t.onbeforeremove||t.onremove)}function F(t,e,n){if(e===n&&(t.style.cssText="",e=null),null==n)t.style.cssText="";else if("string"==typeof n)t.style.cssText=n;else{"string"==typeof e&&(t.style.cssText="");for(var i in n)t.style[i]=n[i];if(null!=e&&"string"!=typeof e)for(var i in e)i in n||(t.style[i]="")}}function V(t,e,n){var i=t.dom,r="function"!=typeof W?n:function(t){var e=n.call(i,t);return W.call(i,t),e};if(e in i)i[e]="function"==typeof n?r:null;else{var o=e.slice(2);if(void 0===t.events&&(t.events={}),t.events[e]===r)return;null!=t.events[e]&&i.removeEventListener(o,t.events[e],!1),"function"==typeof n&&(t.events[e]=r,i.addEventListener(o,t.events[e],!1))}}function j(t,e,n){"function"==typeof t.oninit&&t.oninit.call(e.state,e),"function"==typeof t.oncreate&&n.push(t.oncreate.bind(e.state,e))}function U(t,e,n){"function"==typeof t.onupdate&&n.push(t.onupdate.bind(e.state,e))}function q(t,e){var n,i;return null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&(n=t.attrs.onbeforeupdate.call(t.state,t,e)),"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeupdate&&(i=t._state.onbeforeupdate.call(t.state,t,e)),!(void 0===n&&void 0===i||n||i)&&(t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,!0)}function H(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=[],r=K.activeElement,o=t.namespaceURI;null==t.vnodes&&(t.textContent=""),Array.isArray(e)||(e=[e]),d(t,t.vnodes,i.normalizeChildren(e),!1,n,null,"http://www.w3.org/1999/xhtml"===o?void 0:o),t.vnodes=e,null!=r&&K.activeElement!==r&&r.focus();for(var a=0;a<n.length;a++)n[a]()}var W,K=t.document,$=K.createDocumentFragment(),Q={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};return{render:H,setEventCallback:e}},b=function(t){function e(t,e){n(t),o.push(t,u(e))}function n(t){var e=o.indexOf(t);e>-1&&o.splice(e,2)}function i(){for(var t=1;t<o.length;t+=2)o[t]()}var r=g(t);r.setEventCallback(function(t){t.redraw===!1?t.redraw=void 0:i()});var o=[];return{subscribe:e,unsubscribe:n,redraw:i,render:r.render}},w=b(window);y.setCompletionCallback(w.redraw);var _=function(t){return function(e,n){if(null===n)return t.render(e,[]),void t.unsubscribe(e);if(null==n.view&&"function"!=typeof n)throw new Error("m.mount(element, component) expects a component, not a vnode");var r=function(){t.render(e,i(n))};t.subscribe(e,r),t.redraw()}};d.mount=_(w);var E=f,T=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},i={},r=0;r<e.length;r++){var o=e[r].split("="),a=decodeURIComponent(o[0]),s=2===o.length?decodeURIComponent(o[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var u=a.split(/\]\[?|\[/),c=n;a.indexOf("[")>-1&&u.pop();for(var l=0;l<u.length;l++){var h=u[l],d=u[l+1],f=""==d||!isNaN(parseInt(d,10)),p=l===u.length-1;if(""===h){var a=u.slice(0,l).join();null==i[a]&&(i[a]=0),h=i[a]++}null==c[h]&&(c[h]=p?s:f?[]:{}),c=c[h]}}return n},C=function(e){function n(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function i(t){return function(){null==o&&(o=s(function(){o=null,t()}))}}function r(t,e,n){var i=t.indexOf("?"),r=t.indexOf("#"),o=i>-1?i:r>-1?r:t.length;if(i>-1){var a=r>-1?r:t.length,s=T(t.slice(i+1,a));for(var u in s)e[u]=s[u]}if(r>-1){var c=T(t.slice(r+1));for(var u in c)n[u]=c[u]}return t.slice(0,o)}var o,a="function"==typeof e.history.pushState,s="function"==typeof t?t:setTimeout,u={prefix:"#!"};return u.getPath=function(){var t=u.prefix.charAt(0);switch(t){case"#":return n("hash").slice(u.prefix.length);case"?":return n("search").slice(u.prefix.length)+n("hash");default:return n("pathname").slice(u.prefix.length)+n("search")+n("hash")}},u.setPath=function(t,n,i){var o={},s={};if(t=r(t,o,s),null!=n){for(var c in n)o[c]=n[c];t=t.replace(/:([^\/]+)/g,function(t,e){return delete o[e],n[e]})}var l=p(o);l&&(t+="?"+l);var h=p(s);if(h&&(t+="#"+h),a){var d=i?i.state:null,f=i?i.title:null;e.onpopstate(),i&&i.replace?e.history.replaceState(d,f,u.prefix+t):e.history.pushState(d,f,u.prefix+t)}else e.location.href=u.prefix+t},u.defineRoutes=function(t,n,o){function s(){var i=u.getPath(),a={},s=r(i,a,a),c=e.history.state;if(null!=c)for(var l in c)a[l]=c[l];for(var h in t){var d=new RegExp("^"+h.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(s))return void s.replace(d,function(){for(var e=h.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),o=0;o<e.length;o++)a[e[o].replace(/:|\./g,"")]=decodeURIComponent(r[o]);n(t[h],a,i,h)})}o(i,a)}a?e.onpopstate=i(s):"#"===u.prefix.charAt(0)&&(e.onhashchange=s),s()},u},k=function(t,e){var n,r,o,a,s,u=C(t),c=function(t){return t},l=function(t,l,h){if(null==t)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=n&&e.render(t,n(i(r,o.key,o)))},f=function(t){if(t===l)throw new Error("Could not resolve default route "+l);u.setPath(l,null,{replace:!0})};u.defineRoutes(h,function(t,e,i){var u=s=function(t,l){u===s&&(r=null==l||"function"!=typeof l.view&&"function"!=typeof l?"div":l,o=e,a=i,s=null,n=(t.render||c).bind(t),d())};t.view||"function"==typeof t?u({},t):t.onmatch?E.resolve(t.onmatch(e,i)).then(function(e){u(t,e)},f):u(t,"div")},f),e.subscribe(t,d)};return l.set=function(t,e,n){null!=s&&(n=n||{},n.replace=!0),s=null,u.setPath(t,e,n)},l.get=function(){return a},l.prefix=function(t){u.prefix=t},l.link=function(t){t.dom.setAttribute("href",u.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var e=this.getAttribute("href");0===e.indexOf(u.prefix)&&(e=e.slice(u.prefix.length)),l.set(e,void 0,void 0)}}},l.param=function(t){return"undefined"!=typeof o&&"undefined"!=typeof t?o[t]:o},l};d.route=k(window,w),d.withAttr=function(t,e,n){return function(i){e.call(n||this,t in i.currentTarget?i.currentTarget[t]:i.currentTarget.getAttribute(t))}};var S=g(window);d.render=S.render,d.redraw=w.redraw,d.request=y.request,d.jsonp=y.jsonp,d.parseQueryString=T,d.buildQueryString=p,d.version="1.1.6",d.vnode=i,n.exports=d}()}).call(e,n(61).setImmediate,function(){return this}(),n(141)(t))},function(t,e,n){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:null}function o(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function a(t,e){return void 0!==t?t:e}function s(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Number(n);isNaN(i)||e(i,t[n])}}function u(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function c(t,e,n){return i(t,e)||(t[e]=n()),t[e]}function l(t){d.assert(null!=t&&"object"==typeof t,"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function h(t){d.assert(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}Object.defineProperty(e,"__esModule",{value:!0});var d=n(1);e.contains=i,e.get=r,e.size=o,e.defaulted=a,e.forEachNumber=s,e.forEach=u,e.lookupOrInsert=c,e.isEmpty=l,e.shallowCopy=h},function(t,e,n){"use strict";function i(){return o.getPlatform().emptyByteString}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=function(){function t(){}return t.setPlatform=function(e){t.platform&&r.fail("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||r.fail("Platform not set"),t.platform},t}();e.PlatformSupport=o,e.emptyByteString=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(1),o=n(2);e.DOCUMENT_KEY_NAME="__name__";var a=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&r.fail("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&r.fail("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var i=Object.create(Object.getPrototypeOf(this));return i.init(t,e,n),i},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):r.fail("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,r.assert(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return r.assert(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return r.assert(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return r.assert(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return r.assert(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){
for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=t.get(i),o=e.get(i);if(r<o)return-1;if(r>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}();e.Path=a;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");var n=t.split("/").filter(function(t){return t.length>0});return new e(n)},e.EMPTY_PATH=new e([]),e}(a);e.ResourcePath=s;var u=/^[_a-zA-Z][_a-zA-Z0-9]*$/,c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.isValidIdentifier=function(t){return u.test(t)},n.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},n.prototype.toString=function(){return this.canonicalString()},n.prototype.isKeyField=function(){return 1===this.length&&this.get(0)===e.DOCUMENT_KEY_NAME},n.keyField=function(){return new n([e.DOCUMENT_KEY_NAME])},n.fromServerFormat=function(t){for(var e=[],i="",r=0,a=function(){if(0===i.length)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");e.push(i),i=""},s=!1;r<t.length;){var u=t[r];if("\\"===u){if(r+1===t.length)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===u?(s=!s,r++):"."!==u||s?(i+=u,r++):(a(),r++)}if(a(),s)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)},n.EMPTY_PATH=new n([]),n}(a);e.FieldPath=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t,e){this.comparator=t,this.root=e?e:a.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,a.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,a.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new o(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new o(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new o(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new o(this.root,t,this.comparator,!0)},t}();e.SortedMap=r;var o=function(){function t(t,e,n,i){this.isReverse=i,this.nodeStack=[];for(var r=1;!t.isEmpty();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){i.assert(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}();e.SortedMapIterator=o;var a=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i=this,r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()},t.prototype.remove=function(e,n){var i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw i.fail("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw i.fail("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw i.fail("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}();e.LLRBNode=a;var s=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new a(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();e.LLRBEmptyNode=s,a.EMPTY=new s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(6),o=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),a=function(){function t(t,e){this.seconds=t,this.nanos=e,i.assert(e>=0,"timestamp nanoseconds out of range: "+e),i.assert(e<1e9,"timestamp nanoseconds out of range"+e),i.assert(t>=-62135596800,"timestamp seconds out of range: "+t),i.assert(t<253402300800,"timestamp seconds out of range"+t)}return t.now=function(){return t.fromEpochMilliseconds(Date.now())},t.fromDate=function(e){return t.fromEpochMilliseconds(e.getTime())},t.fromEpochMilliseconds=function(e){var n=Math.floor(e/1e3),i=1e6*(e-1e3*n);return new t(n,i)},t.fromISOString=function(e){var n=0,r=o.exec(e);if(i.assert(!!r,"invalid timestamp: "+e),r[1]){var a=r[1];a=(a+"000000000").substr(0,9),n=Number(a)}var s=new Date(e),u=Math.floor(s.getTime()/1e3);return new t(u,n)},t.prototype.toDate=function(){return new Date(this.toEpochMilliseconds())},t.prototype.toEpochMilliseconds=function(){return 1e3*this.seconds+this.nanos/1e6},t.prototype.compareTo=function(t){return this.seconds===t.seconds?r.primitiveComparator(this.nanos,t.nanos):r.primitiveComparator(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanos===this.nanos},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanos="+this.nanos+")"},t}();e.Timestamp=a},function(t,e,n){"use strict";function i(t,e,n,i){l.assert(n<i&&n>=0&&i<=2,"Unexpected schema upgrade from v${fromVersion} to v{toVersion}."),n<1&&i>=1&&(r(t),o(t),s(t),a(t));var h=d.PersistencePromise.resolve();return n<2&&i>=2&&(h=c(e).next(function(t){return u(e,t)})),h}function r(t){t.createObjectStore(v.store)}function o(t){t.createObjectStore(m.store,{keyPath:m.keyPath}),t.createObjectStore(y.store,{keyPath:y.keyPath}),t.createObjectStore(g.store)}function a(t){t.createObjectStore(w.store)}function s(t){var e=t.createObjectStore(E.store,{keyPath:E.keyPath});e.createIndex(E.documentTargetsIndex,E.documentTargetsKeyPath,{unique:!0});var n=t.createObjectStore(_.store,{keyPath:_.keyPath});n.createIndex(_.queryTargetsIndexName,_.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(T.store)}function u(t,e){var n=t.store(T.store),i=t.store(_.store);return i.count().next(function(t){return e.targetCount=t,n.put(T.key,e)})}function c(t){var e=t.store(T.store);return e.get(T.key).next(function(t){return null!=t?d.PersistencePromise.resolve(t):(t=new T(0,0,f.SnapshotVersion.MIN.toTimestamp(),0),e.put(T.key,t).next(function(){return t}))})}Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),h=n(37),d=n(7),f=n(8);e.SCHEMA_VERSION=2,e.createOrUpgradeDb=i;var p=function(){function t(t,e){this.seconds=t,this.nanos=e}return t}();e.DbTimestamp=p;var v=function(){function t(t,e){this.ownerId=t,this.leaseTimestampMs=e}return t.store="owner",t}();e.DbOwner=v;var m=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}();e.DbMutationQueue=m;var y=function(){function t(t,e,n,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=i}return t.store="mutations",t.keyPath=["userId","batchId"],t}();e.DbMutationBatch=y;var g=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,h.encode(e)]},t.key=function(t,e,n){return[t,h.encode(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}();e.DbDocumentMutation=g;var b=function(){function t(t,e){this.path=t,this.readTime=e}return t}();e.DbNoDocument=b;var w=function(){function t(t,e){this.noDocument=t,this.document=e}return t.store="remoteDocuments",t}();e.DbRemoteDocument=w;var _=function(){function t(t,e,n,i,r,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=r,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}();e.DbTarget=_;var E=function(){function t(t,e){this.targetId=t,this.path=e}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}();e.DbTargetDocument=E;var T=function(){function t(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i}return t.key="targetGlobalKey",t.store="targetGlobal",t}();e.DbTargetGlobal=T,e.ALL_STORES=[m.store,y.store,g.store,w.store,_.store,v.store,T.store,E.store]},function(t,e,n){"use strict";function i(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function r(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}Object.defineProperty(e,"__esModule",{value:!0});var o,a=n(10),s=n(1),u=n(6),c=n(15),l=n(4);!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(o=e.TypeOrder||(e.TypeOrder={}));var h;!function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(h=e.ServerTimestampBehavior||(e.ServerTimestampBehavior={}));var d=function(){function t(t){this.serverTimestampBehavior=t}return t.fromSnapshotOptions=function(e){switch(e.serverTimestamps){case"estimate":return new t(h.Estimate);case"previous":return new t(h.Previous);case"none":case void 0:return t.defaultOptions;default:return s.fail("fromSnapshotOptions() called with invalid options.")}},t.defaultOptions=new t(h.Default),t}();e.FieldValueOptions=d;var f=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){s.assert(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type.");var e=u.primitiveComparator(this.typeOrder,t.typeOrder);return e},t}();e.FieldValue=f;var p=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=o.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(f);e.NullValue=p;var v=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?u.primitiveComparator(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(f);e.BooleanValue=v;var m=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?i(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(f);e.NumberValue=m;var y=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&r(this.internalValue,t.internalValue)},e}(m);e.IntegerValue=y;var g=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&r(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-(1/0)),e}(m);e.DoubleValue=g;var b=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?u.primitiveComparator(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(f);e.StringValue=b;var w=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue.compareTo(t.internalValue):t instanceof _?-1:this.defaultCompareTo(t)},e}(f);e.TimestampValue=w;var _=function(t){function e(e,n){var i=t.call(this)||this;return i.localWriteTime=e,i.previousValue=n,i.typeOrder=o.TimestampValue,i}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===h.Estimate?this.localWriteTime.toDate():t&&t.serverTimestampBehavior===h.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime.compareTo(t.localWriteTime):t instanceof w?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(f);e.ServerTimestampValue=_;var E=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(f);e.BlobValue=E;var T=function(t){function e(e,n){var i=t.call(this)||this;return i.databaseId=e,i.key=n,i.typeOrder=o.RefValue,i}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:l.DocumentKey.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(f);e.RefValue=T;var C=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(f);e.GeoPointValue=C;var k=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,i){e[n]=i.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext();if(r.key!==o.key||!r.value.isEqual(o.value))return!1}return!n.hasNext()&&!i.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),i=t.internalValue.getIterator();n.hasNext()&&i.hasNext();){var r=n.getNext(),o=i.getNext(),a=u.primitiveComparator(r.key,o.key)||r.value.compareTo(o.value);if(a)return a}return u.primitiveComparator(n.hasNext(),i.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(s.assert(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var i=this.child(t.firstSegment());i instanceof e||(i=e.EMPTY);var r=i.set(t.popFirst(),n);return this.setChild(t.firstSegment(),r)},e.prototype.delete=function(t){if(s.assert(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var i=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),i))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){s.assert(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new c.SortedMap(u.primitiveComparator)),e}(f);e.ObjectValue=k;var S=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=o.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),i=0;i<n;i++){var r=this.internalValue[i].compareTo(t.internalValue[i]);if(r)return r}return u.primitiveComparator(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(f);e.ArrayValue=S},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(8),o=n(13);!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(i=e.QueryPurpose||(e.QueryPurpose={}));var a=function(){function t(t,e,n,i,a){void 0===i&&(i=r.SnapshotVersion.MIN),void 0===a&&(a=o.emptyByteString()),this.query=t,this.targetId=e,this.purpose=n,this.snapshotVersion=i,this.resumeToken=a}return t.prototype.update=function(e){return new t(this.query,this.targetId,this.purpose,e.snapshotVersion,e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}();e.QueryData=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(1),o=n(6);e.BATCHID_UNKNOWN=-1;var a=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&r.assert(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var i=n.mutationResults;r.assert(i.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+i.length+").");for(var o=0;o<this.mutations.length;o++){var a=this.mutations[o];if(a.key.isEqual(t)){var s=i[o];e=a.applyToRemoteDocument(e,s)}}return e},t.prototype.applyToLocalView=function(t,e){e&&r.assert(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=i.documentKeySet(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&o.arrayEquals(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}();e.MutationBatch=a;var s=function(){function t(t,e,n,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=i,this.docVersions=r}return t.from=function(e,n,o,a){r.assert(e.mutations.length===o.length,"Mutations sent "+e.mutations.length+" must equal results received "+o.length);for(var s=i.documentVersionMap(),u=e.mutations,c=0;c<u.length;c++){var l=o[c].version;null===l&&(l=n),s=s.insert(u[c].key,l)}return new t(e,n,o,a,s)},t}();e.MutationBatchResult=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(3),o=n(13),a=function(){function t(t,e,n){this.snapshotVersion=t,this.targetChanges=e,this.documentUpdates=n}return t.prototype.addDocumentUpdate=function(t){this.documentUpdates=this.documentUpdates.insert(t.key,t)},t.prototype.handleExistenceFilterMismatch=function(t){this.targetChanges[t]={mapping:new c,snapshotVersion:i.SnapshotVersion.MIN,currentStatusUpdate:s.MarkNotCurrent,resumeToken:o.emptyByteString()}},t}();e.RemoteEvent=a;var s;!function(t){t[t.None=0]="None",t[t.MarkNotCurrent=1]="MarkNotCurrent",t[t.MarkCurrent=2]="MarkCurrent"}(s=e.CurrentStatusUpdate||(e.CurrentStatusUpdate={}));var u=r.documentKeySet(),c=function(){function t(){this.docs=u}return Object.defineProperty(t.prototype,"documents",{get:function(){return this.docs},enumerable:!0,configurable:!0}),t.prototype.add=function(t){this.docs=this.docs.add(t)},t.prototype.delete=function(t){this.docs=this.docs.delete(t)},t.prototype.isEqual=function(t){return null!==t&&this.docs.isEqual(t.docs)},t}();e.ResetMapping=c;var l=function(){function t(){this.addedDocuments=u,this.removedDocuments=u}return t.prototype.applyToKeySet=function(t){var e=t;return this.addedDocuments.forEach(function(t){return e=e.add(t)}),this.removedDocuments.forEach(function(t){return e=e.delete(t)}),e},t.prototype.add=function(t){this.addedDocuments=this.addedDocuments.add(t),this.removedDocuments=this.removedDocuments.delete(t)},t.prototype.delete=function(t){this.addedDocuments=this.addedDocuments.delete(t),this.removedDocuments=this.removedDocuments.add(t)},t.prototype.isEqual=function(t){return null!==t&&this.addedDocuments.isEqual(t.addedDocuments)&&this.removedDocuments.isEqual(t.removedDocuments)},t}();e.UpdateMapping=l},function(t,e,n){"use strict";function i(t,e,n){if(e.length!==n)throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires "+_(n,"argument")+", but was called with "+_(e.length,"argument")+".")}function r(t,e,n){if(e.length<n)throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires at least "+_(n,"argument")+", but was called with "+_(e.length,"argument")+".")}function o(t,e,n,i){if(e.length<n||e.length>i)throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+(i+" arguments, but was called with ")+_(e.length,"argument")+".")}function a(t,e,n,i){if(!(e instanceof Array)||e.length<i)throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+(_(i,"element")+"."))}function s(t,e,n,i){f(t,e,w(n)+" argument",i)}function u(t,e,n,i){void 0!==i&&s(t,e,n,i)}function c(t,e,n,i){f(t,e,n+" option",i)}function l(t,e,n,i){void 0!==i&&c(t,e,n,i)}function h(t,e,n,i,r){for(var o=[],a=0,s=r;a<s.length;a++){var u=s[a];if(u===i)return;o.push(v(u))}var c=v(i);throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}function d(t,e,n,i,r){void 0!==i&&h(t,e,n,i,r)}function f(t,e,n,i){if(typeof i!==e||"object"===e&&!p(i)){var r=v(i);throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" "+("to be of type "+e+", but it was: "+r))}}function p(t){return"object"==typeof t&&null!==t&&Object.getPrototypeOf(t)===Object.prototype}function v(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=m(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":E.fail("Unknown wrong type: "+typeof t)}function m(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/,n=e.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}function y(t,e,n){if(void 0===n)throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+w(e)+" argument, but it was undefined.")}function g(t,e,n){C.forEach(e,function(e,i){if(n.indexOf(e)<0)throw new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function b(t,e,n,i){var r=v(i);return new T.FirestoreError(T.Code.INVALID_ARGUMENT,"Function "+t+"() requires its "+w(n)+" "+("argument to be a "+e+", but it was: "+r))}function w(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function _(t,e){return t+" "+e+(1===t?"":"s")}Object.defineProperty(e,"__esModule",{value:!0});var E=n(1),T=n(2),C=n(12);e.validateExactNumberOfArgs=i,e.validateAtLeastNumberOfArgs=r,e.validateBetweenNumberOfArgs=o,e.validateNamedArrayAtLeastNumberOfElements=a,e.validateArgType=s,e.validateOptionalArgType=u,e.validateNamedType=c,e.validateNamedOptionalType=l,e.validateNamedPropertyEquals=h,e.validateNamedOptionalPropertyEquals=d,e.isPlainObject=p,e.valueDescription=v,e.tryGetCustomObjectType=m,e.validateDefined=y,e.validateOptionNames=g,e.invalidClassError=b},function(t,e){"use strict";function n(t){return null===t||void 0===t}function i(t){return e.isInteger(t)&&t<=e.MAX_SAFE_INTEGER&&t>=e.MIN_SAFE_INTEGER}function r(t){return o.IsNaN?o.IsNaN(t):"number"==typeof t&&isNaN(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=Number;e.MIN_SAFE_INTEGER=o.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),e.MAX_SAFE_INTEGER=o.MAX_SAFE_INTEGER||Math.pow(2,53)-1,e.isInteger=o.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isNullOrUndefined=n,e.isSafeInteger=i,e.safeIsNaN=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(62);e.firebase=i.createFirebaseNamespace(),e.default=e.firebase},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n;!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(n=e.OnlineState||(e.OnlineState={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(4),o=n(1),a=n(15);!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(i=e.ChangeType||(e.ChangeType={}));var s;!function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(s=e.SyncState||(e.SyncState={}));var u=function(){function t(){this.changeMap=new a.SortedMap(r.DocumentKey.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);return n?void(t.type!==i.Added&&n.type===i.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===i.Metadata&&n.type!==i.Removed?this.changeMap=this.changeMap.insert(e,{
type:n.type,doc:t.doc}):t.type===i.Modified&&n.type===i.Modified?this.changeMap=this.changeMap.insert(e,{type:i.Modified,doc:t.doc}):t.type===i.Modified&&n.type===i.Added?this.changeMap=this.changeMap.insert(e,{type:i.Added,doc:t.doc}):t.type===i.Removed&&n.type===i.Added?this.changeMap=this.changeMap.remove(e):t.type===i.Removed&&n.type===i.Modified?this.changeMap=this.changeMap.insert(e,{type:i.Removed,doc:n.doc}):t.type===i.Added&&n.type===i.Removed?this.changeMap=this.changeMap.insert(e,{type:i.Modified,doc:t.doc}):o.fail("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n))):void(this.changeMap=this.changeMap.insert(e,t))},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}();e.DocumentChangeSet=u;var c=function(){function t(t,e,n,i,r,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.fromCache=r,this.hasPendingWrites=o,this.syncStateChanged=a}return t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.hasPendingWrites!==t.hasPendingWrites||this.syncStateChanged!==t.syncStateChanged||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0},t}();e.ViewSnapshot=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(4),o=n(6),a=n(30),s=n(7),u=function(){function t(){this.refsByKey=new a.SortedSet(c.compareByKey),this.refsByTarget=new a.SortedSet(c.compareByTargetId),this.garbageCollector=null}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new c(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new c(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=r.DocumentKey.EMPTY,i=new c(n,t),o=new c(n,t+1);this.refsByTarget.forEachInRange([i,o],function(t){e.removeRef(t)})},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t),null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(t.key)},t.prototype.referencesForId=function(t){var e=r.DocumentKey.EMPTY,n=new c(e,t),o=new c(e,t+1),a=i.documentKeySet();return this.refsByTarget.forEachInRange([n,o],function(t){a=a.add(t.key)}),a},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new c(e,0),i=this.refsByKey.firstAfterOrEqual(n);return s.PersistencePromise.resolve(null!==i&&e.isEqual(i.key))},t}();e.ReferenceSet=u;var c=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return r.DocumentKey.comparator(t.key,e.key)||o.primitiveComparator(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return o.primitiveComparator(t.targetOrBatchId,e.targetOrBatchId)||r.DocumentKey.comparator(t.key,e.key)},t}();e.DocReference=c},function(t,e,n){"use strict";function i(t){return new a.PersistencePromise(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),o=n(5),a=n(7),s=n(17),u="SimpleDb",c=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,i){return r.assert(t.isAvailable(),"IndexedDB not supported in current environment."),o.debug(u,"Opening database:",e),new a.PersistencePromise(function(r,a){var c=window.indexedDB.open(e,n);c.onsuccess=function(e){var n=e.target.result;r(new t(n))},c.onerror=function(t){a(t.target.error)},c.onupgradeneeded=function(t){o.debug(u,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,r=new h(c.transaction);i(n,r,t.oldVersion,s.SCHEMA_VERSION).next(function(){o.debug(u,"Database upgrade to version "+s.SCHEMA_VERSION+" complete")})}}).toPromise()},t.delete=function(t){return o.debug(u,"Removing database:",t),i(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.prototype.runTransaction=function(t,e,n){var i=h.open(this.db,t,e),r=n(i).catch(function(t){return i.abort(),a.PersistencePromise.reject(t)}).toPromise();return i.completionPromise.then(function(){return r})},t.prototype.close=function(){this.db.close()},t}();e.SimpleDb=c;var l=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return i(this.dbCursor.delete())},t}();e.IterationController=l;var h=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionPromise=new Promise(function(t,n){e.transaction.onabort=e.transaction.oncomplete=function(e){t()},e.transaction.onerror=function(t){n(t.target.error)}})}return t.open=function(e,n,i){return new t(e.transaction(i,n))},t.prototype.abort=function(){this.aborted||(o.debug(u,"Aborting transaction."),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return r.assert(!!e,"Object store not part of transaction: "+t),new d(e)},t}();e.SimpleDbTransaction=h;var d=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(o.debug(u,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(o.debug(u,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),i(n)},t.prototype.get=function(t){var e=this,n=this.store.get(t);return i(n).next(function(n){return void 0===n&&(n=null),o.debug(u,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){o.debug(u,"DELETE",this.store.name,t);var e=this.store.delete(t);return i(e)},t.prototype.count=function(){o.debug(u,"COUNT",this.store.name);var t=this.store.count();return i(t)},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),i=[];return this.iterateCursor(n,function(t,e){i.push(e)}).next(function(){return i})},t.prototype.deleteAll=function(t,e){o.debug(u,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var i=this.cursor(n);return this.iterateCursor(i,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var i=this.cursor(n);return this.iterateCursor(i,e)},t.prototype.iterateCursor=function(t,e){var n=[];return new a.PersistencePromise(function(i,r){t.onerror=function(t){r(t.target.error)},t.onsuccess=function(t){var r=t.target.result;if(!r)return void i();var o=new l(r),s=e(r.primaryKey,r.value,o);s instanceof a.PersistencePromise&&n.push(s),o.isDone?i():null===o.skipToKey?r.continue():r.continue(o.skipToKey)}}).next(function(){return a.PersistencePromise.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(r.assert(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();e.SimpleDbStore=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(8),o=n(1),a=n(6),s=n(9),u=n(18),c=function(){function t(t){this.fields=t}return t.prototype.isEqual=function(t){return a.arrayEquals(this.fields,t.fields)},t}();e.FieldMask=c;var l=function(){function t(){}return t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}();e.ServerTimestampTransform=l;var h=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}();e.FieldTransform=h;var d=function(){function t(t,e){this.version=t,this.transformResults=e}return t}();e.MutationResult=d;var f;!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(f=e.MutationType||(e.MutationType={}));var p=function(){function t(t,e){this.updateTime=t,this.exists=e,o.assert(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof s.Document&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists?t instanceof s.Document:null===t||t instanceof s.NoDocument:(o.assert(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return a.equals(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}();e.Precondition=p;var v=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&o.assert(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof s.Document?t.version:r.SnapshotVersion.MIN},t}();e.Mutation=v;var m=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.value=n,r.precondition=i,r.type=f.Set,r}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),o.assert(null==e.transformResults,"Transform results received by SetMutation.");var n=v.getPostMutationVersion(t);return new s.Document(this.key,n,this.value,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=v.getPostMutationVersion(t);return new s.Document(this.key,i,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(v);e.SetMutation=m;var y=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=i,o.precondition=r,o.type=f.Patch,o}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),o.assert(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return t;var n=v.getPostMutationVersion(t),i=this.patchDocument(t);return new s.Document(this.key,n,i,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=v.getPostMutationVersion(t),r=this.patchDocument(t);return new s.Document(this.key,i,r,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof s.Document?t.data:u.ObjectValue.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var i=n[e],r=this.data.field(i);t=void 0!==r?t.set(i,r):t.delete(i)}return t},e}(v);e.PatchMutation=y;var g=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.fieldTransforms=n,i.type=f.Transform,i.precondition=p.exists(!0),i}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),o.assert(null!=e.transformResults,"Transform results missing for TransformMutation.");var n=e.transformResults;if(!this.precondition.isValidFor(t))return t;var i=this.requireDocument(t),r=this.transformObject(i.data,n);return new s.Document(this.key,i.version,r,{hasLocalMutations:!1})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var i=this.requireDocument(t),r=this.localTransformResults(n,e),o=this.transformObject(i.data,r);return new s.Document(this.key,i.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&a.arrayEquals(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){o.assert(t instanceof s.Document,"Unknown MaybeDocument type "+t);var e=t;return o.assert(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.localTransformResults=function(t,e){for(var n=[],i=0,r=this.fieldTransforms;i<r.length;i++){var a=r[i],c=a.transform;if(!(c instanceof l))return o.fail("Encountered unknown transform: "+c);var h=null;e instanceof s.Document&&(h=e.field(a.field)||null),n.push(new u.ServerTimestampValue(t,h))}return n},e.prototype.transformObject=function(t,e){o.assert(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var i=this.fieldTransforms[n],r=i.transform,a=i.field;if(!(r instanceof l))return o.fail("Encountered unknown transform: "+r);t=t.set(a,e[n])}return t},e}(v);e.TransformMutation=g;var b=function(t){function e(e,n){var i=t.call(this)||this;return i.key=e,i.precondition=n,i.type=f.Delete,i}return i.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),o.assert(null==e.transformResults,"Transform results received by DeleteMutation."),new s.NoDocument(this.key,r.SnapshotVersion.MIN)},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&o.assert(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new s.NoDocument(this.key,r.SnapshotVersion.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(v);e.DeleteMutation=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),r=function(){function t(t){this.comparator=t,this.data=new i.SortedMap(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){var i=n.getNext(),r=t(i.key);if(!r)return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}();e.SortedSet=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={instance:{},options:[],user:{isAnonymous:!0,uid:""}};e.default=n},function(t,e,n){"use strict";function i(){if("undefined"==typeof Uint8Array)throw new s.FirestoreError(s.Code.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function r(){if(!o.PlatformSupport.getPlatform().base64Available)throw new s.FirestoreError(s.Code.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),a=n(39),s=n(2),u=n(22),c=n(6),l=function(){function t(t){r(),this._binaryString=t}return t.fromBase64String=function(e){u.validateExactNumberOfArgs("Blob.fromBase64String",arguments,1),u.validateArgType("Blob.fromBase64String","string",1,e),r();try{var n=o.PlatformSupport.getPlatform().atob(e);return new t(n)}catch(t){throw new s.FirestoreError(s.Code.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(u.validateExactNumberOfArgs("Blob.fromUint8Array",arguments,1),i(),!(e instanceof Uint8Array))throw u.invalidClassError("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(n)},t.prototype.toBase64=function(){return u.validateExactNumberOfArgs("Blob.toBase64",arguments,0),r(),o.PlatformSupport.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){u.validateExactNumberOfArgs("Blob.toUint8Array",arguments,0),i();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return c.primitiveComparator(this._binaryString,t._binaryString)},t}();e.Blob=l,e.PublicBlob=a.makeConstructorPrivate(l,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead.")},function(t,e,n){"use strict";function i(t){var e=t.search(u);if(e>=0)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(s.bind.apply(s,[void 0].concat(t.split("."))))}catch(e){throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(14),o=n(2),a=n(22),s=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.validateNamedArrayAtLeastNumberOfElements("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(a.validateArgType("FieldPath","string",n,t[n]),0===t[n].length)throw new o.FirestoreError(o.Code.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new r.FieldPath(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw a.invalidClassError("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(r.FieldPath.keyField().canonicalString()),t}();e.FieldPath=s;var u=new RegExp("[~\\*/\\[\\]]");e.fromDotSeparatedString=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),r=n(22),o=n(6),a=function(){function t(t,e){if(r.validateExactNumberOfArgs("GeoPoint",arguments,2),r.validateArgType("GeoPoint","number",1,t),r.validateArgType("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new i.FirestoreError(i.Code.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new i.FirestoreError(i.Code.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return o.primitiveComparator(this._lat,t._lat)||o.primitiveComparator(this._long,t._long)},t}();e.GeoPoint=a},function(t,e,n){"use strict";function i(t,e,n){if(n.isEqual(a.NullValue.INSTANCE)){if(e!==d.EQUAL)throw new c.FirestoreError(c.Code.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new p(t)}if(n.isEqual(a.DoubleValue.NAN)){if(e!==d.EQUAL)throw new c.FirestoreError(c.Code.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new v(t)}return new f(t,e,n)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(9),o=n(4),a=n(18),s=n(14),u=n(1),c=n(2),l=n(23),h=function(){function t(t,e,n,i,r,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=i,this.startAt=r,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[b]:this.memoizedOrderBy=[new g(t),b];else{u.assert(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,i=0,r=this.explicitOrderBy;i<r.length;i++){var o=r[i];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:m.ASCENDING;this.memoizedOrderBy.push(a===m.ASCENDING?b:w)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){u.assert(null==this.getInequalityFilterField()||!(e instanceof f)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),u.assert(!o.DocumentKey.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){u.assert(!o.DocumentKey.isDocumentKey(this.path),"No ordering allowed for document query"),u.assert(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];t+=i.canonicalId(),t+=","}t+="|ob:";for(var r=0,o=this.orderBy;r<o.length;r++){var a=o[r];t+=a.canonicalId(),t+=","}l.isNullOrUndefined(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),l.isNullOrUndefined(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,i=0,r=this.orderBy;i<r.length;i++){var o=r[i],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return u.assert(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!l.isNullOrUndefined(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof f&&n.isInequality())return n.field}return null},t.prototype.isDocumentQuery=function(){return o.DocumentKey.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return o.DocumentKey.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var i=n[e];if(!i.field.isKeyField()&&void 0===t.field(i.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){var i=n[e];if(!i.matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){u.assert(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}();e.Query=h;var d=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;default:return u.fail("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t}();e.RelationOp=d;var f=function(){function t(t,e,n){this.field=t,this.op=e,this.value=n}return t.prototype.matches=function(t){if(this.field.isKeyField()){u.assert(this.value instanceof a.RefValue,"Comparing on key, but filter value not a RefValue");var e=this.value,n=o.DocumentKey.comparator(t.key,e.key);return this.matchesComparison(n)}var i=t.field(this.field);return void 0!==i&&this.matchesValue(i)},t.prototype.matchesValue=function(t){return this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},t.prototype.matchesComparison=function(t){switch(this.op){case d.LESS_THAN:return t<0;case d.LESS_THAN_OR_EQUAL:return t<=0;case d.EQUAL:return 0===t;case d.GREATER_THAN:return t>0;case d.GREATER_THAN_OR_EQUAL:return t>=0;default:return u.fail("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==d.EQUAL},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}();e.RelationFilter=f;var p=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}();e.NullFilter=p;var v=function(){function t(t){this.field=t}return t.prototype.matches=function(t){var e=t.field(this.field).value();return"number"==typeof e&&isNaN(e)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}();e.NanFilter=v,e.fieldFilter=i;var m=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}();e.Direction=m;var y=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){var i=n[e];t+=i.toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){u.assert(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,i=0;i<this.position.length;i++){var r=t[i],s=this.position[i];if(r.field.isKeyField())u.assert(s instanceof a.RefValue,"Bound has a non-key value where the key path is being used."),n=o.DocumentKey.comparator(s.key,e.key);else{var c=e.field(r.field);u.assert(void 0!==c,"Field should exist since document matched the orderBy already."),n=s.compareTo(c)}if(r.dir===m.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],i=t.position[e];return n.isEqual(i)}return!0},t}();e.Bound=y;var g=function(){function t(t,e){this.field=t,void 0===e&&(e=m.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?r.Document.compareByKey(t,e):r.Document.compareByField(this.field,t,e);switch(this.dir){case m.ASCENDING:return n;case m.DESCENDING:return-1*n;default:return u.fail("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}();e.OrderBy=g;var b=new g(s.FieldPath.keyField(),m.ASCENDING),w=new g(s.FieldPath.keyField(),m.DESCENDING)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24);e.SDK_VERSION=i.default.SDK_VERSION},function(t,e,n){"use strict";function i(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=o(e)),e=r(t.get(n),e);return o(e)}function r(t,e){for(var n=e,i=t.length,r=0;r<i;r++){var o=t.charAt(r);switch(o){case"\0":n+=l+d;break;case l:n+=l+f;break;default:n+=o}}return n}function o(t){
return t+l+h}function a(t){var e=t.length;if(c.assert(e>=2,"Invalid path "+t),2===e)return c.assert(t.charAt(0)===l&&t.charAt(1)===h,"Non-empty path "+t+" had length 2"),u.ResourcePath.EMPTY_PATH;for(var n=e-2,i=[],r="",o=0;o<e;){var a=t.indexOf(l,o);(a<0||a>n)&&c.fail('Invalid encoded resource path: "'+t+'"');var s=t.charAt(a+1);switch(s){case h:var p=t.substring(o,a),v=void 0;0===r.length?v=p:(r+=p,v=r,r=""),i.push(v);break;case d:r+=t.substring(o,a),r+="\0";break;case f:r+=t.substring(o,a+1);break;default:c.fail('Invalid encoded resource path: "'+t+'"')}o=a+2}return new u.ResourcePath(i)}function s(t){var e=t.charCodeAt(t.length-1);return c.assert(1===e,"successor may only operate on paths generated by encode"),t.substring(0,t.length-1)+String.fromCharCode(e+1)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(14),c=n(1),l="",h="",d="",f="";e.encode=i,e.decode=a,e.prefixSuccessor=s},function(t,e,n){"use strict";function i(t){switch(t){case l.Code.OK:return c.fail("Treated status OK as error");case l.Code.CANCELLED:case l.Code.UNKNOWN:case l.Code.DEADLINE_EXCEEDED:case l.Code.RESOURCE_EXHAUSTED:case l.Code.INTERNAL:case l.Code.UNAVAILABLE:case l.Code.UNAUTHENTICATED:return!1;case l.Code.INVALID_ARGUMENT:case l.Code.NOT_FOUND:case l.Code.ALREADY_EXISTS:case l.Code.PERMISSION_DENIED:case l.Code.FAILED_PRECONDITION:case l.Code.ABORTED:case l.Code.OUT_OF_RANGE:case l.Code.UNIMPLEMENTED:case l.Code.DATA_LOSS:return!0;default:return c.fail("Unknown status code: "+t)}}function r(t){var e=u[t];if(void 0!==e)return o(e)}function o(t){if(void 0===t)return h.error("GRPC error has no .code"),l.Code.UNKNOWN;switch(t){case u.OK:return l.Code.OK;case u.CANCELLED:return l.Code.CANCELLED;case u.UNKNOWN:return l.Code.UNKNOWN;case u.DEADLINE_EXCEEDED:return l.Code.DEADLINE_EXCEEDED;case u.RESOURCE_EXHAUSTED:return l.Code.RESOURCE_EXHAUSTED;case u.INTERNAL:return l.Code.INTERNAL;case u.UNAVAILABLE:return l.Code.UNAVAILABLE;case u.UNAUTHENTICATED:return l.Code.UNAUTHENTICATED;case u.INVALID_ARGUMENT:return l.Code.INVALID_ARGUMENT;case u.NOT_FOUND:return l.Code.NOT_FOUND;case u.ALREADY_EXISTS:return l.Code.ALREADY_EXISTS;case u.PERMISSION_DENIED:return l.Code.PERMISSION_DENIED;case u.FAILED_PRECONDITION:return l.Code.FAILED_PRECONDITION;case u.ABORTED:return l.Code.ABORTED;case u.OUT_OF_RANGE:return l.Code.OUT_OF_RANGE;case u.UNIMPLEMENTED:return l.Code.UNIMPLEMENTED;case u.DATA_LOSS:return l.Code.DATA_LOSS;default:return c.fail("Unknown status code: "+t)}}function a(t){if(void 0===t)return u.OK;switch(t){case l.Code.OK:return u.OK;case l.Code.CANCELLED:return u.CANCELLED;case l.Code.UNKNOWN:return u.UNKNOWN;case l.Code.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case l.Code.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case l.Code.INTERNAL:return u.INTERNAL;case l.Code.UNAVAILABLE:return u.UNAVAILABLE;case l.Code.UNAUTHENTICATED:return u.UNAUTHENTICATED;case l.Code.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case l.Code.NOT_FOUND:return u.NOT_FOUND;case l.Code.ALREADY_EXISTS:return u.ALREADY_EXISTS;case l.Code.PERMISSION_DENIED:return u.PERMISSION_DENIED;case l.Code.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case l.Code.ABORTED:return u.ABORTED;case l.Code.OUT_OF_RANGE:return u.OUT_OF_RANGE;case l.Code.UNIMPLEMENTED:return u.UNIMPLEMENTED;case l.Code.DATA_LOSS:return u.DATA_LOSS;default:return c.fail("Unknown status code: "+t)}}function s(t){switch(t){case 200:return l.Code.OK;case 400:return l.Code.INVALID_ARGUMENT;case 401:return l.Code.UNAUTHENTICATED;case 403:return l.Code.PERMISSION_DENIED;case 404:return l.Code.NOT_FOUND;case 409:return l.Code.ABORTED;case 416:return l.Code.OUT_OF_RANGE;case 429:return l.Code.RESOURCE_EXHAUSTED;case 499:return l.Code.CANCELLED;case 500:return l.Code.UNKNOWN;case 501:return l.Code.UNIMPLEMENTED;case 503:return l.Code.UNAVAILABLE;case 504:return l.Code.DEADLINE_EXCEEDED;default:return t>=200&&t<300?l.Code.OK:t>=400&&t<500?l.Code.FAILED_PRECONDITION:t>=500&&t<600?l.Code.INTERNAL:l.Code.UNKNOWN}}Object.defineProperty(e,"__esModule",{value:!0});var u,c=n(1),l=n(2),h=n(5);!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(u||(u={})),e.isPermanentError=i,e.mapCodeFromRpcStatus=r,e.mapCodeFromRpcCode=o,e.mapRpcCodeFromCode=a,e.mapCodeFromHttpStatus=s},function(t,e,n){"use strict";function i(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new r.FirestoreError(r.Code.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}Object.defineProperty(e,"__esModule",{value:!0});var r=n(2);e.makeConstructorPrivate=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(1),o=n(5),a=n(52),s=n(2);!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout"}(i=e.TimerId||(e.TimerId={}));var u=function(){function t(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new a.Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,i,r,o){var a=Date.now()+i,s=new t(e,n,a,r,o);return s.start(i),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new s.FirestoreError(s.Code.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueue(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),c=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw o.error("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var i=this;this.verifyNotFailed(),r.assert(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var o=u.createAndSchedule(this,t,e,n,function(t){return i.removeDelayedOperation(t)});return this.delayedOperations.push(o),o},t.prototype.verifyNotFailed=function(){this.failure&&r.fail("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){r.assert(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){return this.delayedOperations.findIndex(function(e){return e.timerId===t})>=0},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){r.assert(t===i.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,o=e.delayedOperations;n<o.length;n++){var a=o[n];if(a.skipDelay(),t!==i.All&&a.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);r.assert(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}();e.AsyncQueue=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),r=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return void(this.inner[n]=[[t,e]]);for(var r=0;r<i.length;r++)if(i[r][0].isEqual(t))return void(i[r]=[t,e]);i.push([t,e])},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var i=0;i<n.length;i++)if(n[i][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(i,1),!0;return!1},t.prototype.forEach=function(t){i.forEach(this.inner,function(e,n){for(var i=0,r=n;i<r.length;i++){var o=r[i],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return i.isEmpty(this.inner)},t}();e.ObjectMap=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Header=void 0;var r=n(11),o=i(r);n(128);e.Header={view:function(){return(0,o.default)("header",{class:"terminalHeader"},"TERMINAL X")}}},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(39),o=function(){function t(t){this.methodName=t}return t.delete=function(){return a.instance},t.serverTimestamp=function(){return s.instance},t.prototype.isEqual=function(t){return this===t},t}();e.FieldValueImpl=o;var a=function(t){function e(){return t.call(this,"FieldValue.delete()")||this}return i.__extends(e,t),e.instance=new e,e}(o);e.DeleteFieldValueImpl=a;var s=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp()")||this}return i.__extends(e,t),e.instance=new e,e}(o);e.ServerTimestampFieldValueImpl=s,e.PublicFieldValue=r.makeConstructorPrivate(o,"Use FieldValue.<field>() instead.")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),r=function(){function t(t,e,n,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=i}return t}();e.DatabaseInfo=r;var o="(default)",a=function(){function t(t,e){this.projectId=t,this.database=e?e:o}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===o},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return i.primitiveComparator(this.projectId,t.projectId)||i.primitiveComparator(this.database,t.database)},t}();e.DatabaseId=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=1;!function(t){t[t.LocalStore=0]="LocalStore",t[t.SyncEngine=1]="SyncEngine"}(n||(n={}));var r=function(){function t(t,e){void 0===e&&(e=0),this.generatorId=t;var n=e>>i<<i,r=e-n;r>=t?this.previousId=n|this.generatorId:this.previousId=(n|this.generatorId)-(1<<i)}return t.prototype.next=function(){return this.previousId+=1<<i,this.previousId},t.forLocalStore=function(e){return void 0===e&&(e=0),new t(n.LocalStore,e)},t.forSyncEngine=function(){return new t(n.SyncEngine)},t}();e.TargetIdGenerator=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(7),o=function(){function t(){this.isEager=!0,this.sources=[],this.potentialGarbage=i.documentKeySet()}return t.prototype.addGarbageSource=function(t){this.sources.push(t),t.setGarbageCollector(this)},t.prototype.removeGarbageSource=function(t){this.sources.splice(this.sources.indexOf(t),1),t.setGarbageCollector(null)},t.prototype.addPotentialGarbageKey=function(t){this.potentialGarbage=this.potentialGarbage.add(t)},t.prototype.collectGarbage=function(t){var e=this,n=[],o=i.documentKeySet();return this.potentialGarbage.forEach(function(i){var a=e.documentHasAnyReferences(t,i);n.push(a.next(function(t){return t||(o=o.add(i)),r.PersistencePromise.resolve()}))}),this.potentialGarbage=i.documentKeySet(),r.PersistencePromise.waitFor(n).next(function(){return o})},t.prototype.documentHasAnyReferences=function(t,e){var n=r.PersistencePromise.resolve(!1);return this.sources.map(function(n){return function(){return n.containsKey(t,e)}}).reduce(function(t,e){return t.next(function(t){return t?r.PersistencePromise.resolve(!0):e()})},n)},t}();e.EagerGarbageCollector=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(15),r=n(3),o=n(4),a=function(){function t(t){t?this.comparator=function(e,n){return t(e,n)||o.DocumentKey.comparator(e.key,n.key)}:this.comparator=function(t,e){return o.DocumentKey.comparator(t.key,e.key)},this.keyedMap=r.documentMap(),this.sortedSet=new i.SortedMap(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}();e.DocumentSet=a},function(t,e,n){"use strict";function i(t,e){g.assert(!_.isNullOrUndefined(t),e+" is missing")}function r(t){return"number"==typeof t?t:"string"==typeof t?Number(t):g.fail("can't parse "+t)}function o(t,e,n){return e===n||!e&&n in t}Object.defineProperty(e,"__esModule",{value:!0});var a=n(32),s=n(34),u=n(46),c=n(35),l=n(8),h=n(16),d=n(19),f=n(9),p=n(4),v=n(18),m=n(29),y=n(14),g=n(1),b=n(2),w=n(12),_=n(23),E=n(95),T=n(38),C=n(51),k=function(){var t={};return t[c.Direction.ASCENDING.name]="ASCENDING",t[c.Direction.DESCENDING.name]="DESCENDING",t}(),S=function(){var t={};return t[c.RelationOp.LESS_THAN.name]="LESS_THAN",t[c.RelationOp.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[c.RelationOp.GREATER_THAN.name]="GREATER_THAN",t[c.RelationOp.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[c.RelationOp.EQUAL.name]="EQUAL",t}(),I=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?b.Code.UNKNOWN:T.mapCodeFromRpcCode(t.code);return new b.FirestoreError(e,t.message||"")},t.prototype.toInt32Value=function(t){return _.isNullOrUndefined(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return e="object"==typeof t?t.value:t,_.isNullOrUndefined(e)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanos}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return h.Timestamp.fromISOString(t);g.assert(!!t,"Cannot deserialize null or undefined timestamp.");var e=r(t.seconds||"0"),n=t.nanos||0;return new h.Timestamp(e,n)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g.assert(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),a.Blob.fromBase64String(t)):(g.assert(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),a.Blob.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g.assert(!!t,"Trying to deserialize version that isn't set"),l.SnapshotVersion.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=y.ResourcePath.fromString(t);return g.assert(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g.assert(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g.assert(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new p.DocumentKey(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?y.ResourcePath.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){var t=new y.ResourcePath(["projects",this.databaseId.projectId,"databases",this.databaseId.database]);return t.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new y.ResourcePath(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g.assert(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof v.NullValue)return{nullValue:"NULL_VALUE"};if(t instanceof v.BooleanValue)return{booleanValue:t.value()};if(t instanceof v.IntegerValue)return{integerValue:""+t.value()};if(t instanceof v.DoubleValue){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-(1/0))return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof v.StringValue?{stringValue:t.value()}:t instanceof v.ObjectValue?{mapValue:this.toMapValue(t)}:t instanceof v.ArrayValue?{arrayValue:this.toArrayValue(t)}:t instanceof v.TimestampValue?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof v.GeoPointValue?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof v.BlobValue?{bytesValue:this.toBytes(t.value())}:t instanceof v.RefValue?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:g.fail("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(o(t,n,"nullValue"))return v.NullValue.INSTANCE;if(o(t,n,"booleanValue"))return v.BooleanValue.of(t.booleanValue);if(o(t,n,"integerValue"))return new v.IntegerValue(r(t.integerValue));if(o(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return v.DoubleValue.NAN;if("Infinity"===t.doubleValue)return v.DoubleValue.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return v.DoubleValue.NEGATIVE_INFINITY}return new v.DoubleValue(t.doubleValue)}if(o(t,n,"stringValue"))return new v.StringValue(t.stringValue);if(o(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(o(t,n,"arrayValue")){i(t.arrayValue,"arrayValue");var a=t.arrayValue.values||[];return new v.ArrayValue(a.map(function(t){return e.fromValue(t)}))}if(o(t,n,"timestampValue"))return i(t.timestampValue,"timestampValue"),new v.TimestampValue(this.fromTimestamp(t.timestampValue));if(o(t,n,"geoPointValue")){i(t.geoPointValue,"geoPointValue");var c=t.geoPointValue.latitude||0,l=t.geoPointValue.longitude||0;return new v.GeoPointValue(new s.GeoPoint(c,l))}if(o(t,n,"bytesValue")){i(t.bytesValue,"bytesValue");var h=this.fromBlob(t.bytesValue);return new v.BlobValue(h)}if(o(t,n,"referenceValue")){i(t.referenceValue,"referenceValue");var d=this.fromResourceName(t.referenceValue),f=new u.DatabaseId(d.get(1),d.get(3)),m=new p.DocumentKey(this.extractLocalPathFromResourceName(d));return new v.RefValue(f,m)}return g.fail("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g.assert(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t){return new f.Document(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasLocalMutations:!1})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,i){n[t]=e.toValue(i)}),n},t.prototype.fromFields=function(t){var e=this,n=t,i=v.ObjectValue.EMPTY;return w.forEach(n,function(t,n){i=i.set(new y.FieldPath([t]),e.fromValue(n))}),i},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g.assert(!!t.found,"Tried to deserialize a found document from a missing document."),i(t.found.name,"doc.found.name"),i(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new f.Document(e,n,r,{hasLocalMutations:!1})},t.prototype.fromMissing=function(t){g.assert(!!t.missing,"Tried to deserialize a missing document from a found document."),g.assert(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new f.NoDocument(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return o(t,e,"found")?this.fromFound(t):o(t,e,"missing")?this.fromMissing(t):g.fail("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case C.WatchTargetChangeState.Added:return"ADD";case C.WatchTargetChangeState.Current:return"CURRENT";case C.WatchTargetChangeState.NoChange:return"NO_CHANGE";case C.WatchTargetChangeState.Removed:return"REMOVE";case C.WatchTargetChangeState.Reset:return"RESET";default:return g.fail("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof C.ExistenceFilterChange)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof C.DocumentWatchChange){if(t.newDoc instanceof f.Document){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof f.NoDocument){var e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof C.WatchTargetChange){var n=void 0;return t.cause&&(n={code:T.mapRpcCodeFromCode(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return g.fail("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(o(t,n,"targetChange")){i(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],s=t.targetChange.resumeToken||this.emptyByteString(),u=t.targetChange.cause,c=u&&this.fromRpcStatus(u);e=new C.WatchTargetChange(r,a,s,c||null)}else if(o(t,n,"documentChange")){i(t.documentChange,"documentChange"),i(t.documentChange.document,"documentChange.name"),i(t.documentChange.document.name,"documentChange.document.name"),i(t.documentChange.document.updateTime,"documentChange.document.updateTime");var h=t.documentChange,d=this.fromName(h.document.name),p=this.fromVersion(h.document.updateTime),v=this.fromFields(h.document.fields||{}),m=new f.Document(d,p,v,{hasLocalMutations:!1}),y=h.targetIds||[],b=h.removedTargetIds||[];e=new C.DocumentWatchChange(y,b,m.key,m)}else if(o(t,n,"documentDelete")){i(t.documentDelete,"documentDelete"),i(t.documentDelete.document,"documentDelete.document");var w=t.documentDelete,d=this.fromName(w.document),p=w.readTime?this.fromVersion(w.readTime):l.SnapshotVersion.forDeletedDoc(),m=new f.NoDocument(d,p),b=w.removedTargetIds||[];e=new C.DocumentWatchChange([],b,m.key,m)}else if(o(t,n,"documentRemove")){i(t.documentRemove,"documentRemove"),i(t.documentRemove.document,"documentRemove");var _=t.documentRemove,d=this.fromName(_.document),b=_.removedTargetIds||[];e=new C.DocumentWatchChange([],b,d,null)}else{if(!o(t,n,"filter"))return g.fail("Unknown change type "+JSON.stringify(t));i(t.filter,"filter"),i(t.filter.targetId,"filter.targetId");var T=t.filter,k=T.count||0,S=new E.ExistenceFilter(k),I=T.targetId;e=new C.ExistenceFilterChange(I,S)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?C.WatchTargetChangeState.NoChange:"ADD"===t?C.WatchTargetChangeState.Added:"REMOVE"===t?C.WatchTargetChangeState.Removed:"CURRENT"===t?C.WatchTargetChangeState.Current:"RESET"===t?C.WatchTargetChangeState.Reset:g.fail("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){var e=t.response_type;if(!o(t,e,"targetChange"))return l.SnapshotVersion.MIN;var n=t.targetChange;return n.targetIds&&n.targetIds.length?l.SnapshotVersion.MIN:n.readTime?this.fromVersion(n.readTime):l.SnapshotVersion.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof m.SetMutation)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof m.DeleteMutation)e={delete:this.toName(t.key)};else if(t instanceof m.PatchMutation)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof m.TransformMutation))return g.fail("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):m.Precondition.NONE;if(t.update){i(t.update.name,"name");var r=this.fromName(t.update.name),o=this.fromFields(t.update.fields||{});if(t.updateMask){var a=this.fromDocumentMask(t.updateMask);return new m.PatchMutation(r,o,a,n)}return new m.SetMutation(r,o,n)}if(t.delete){var r=this.fromName(t.delete);return new m.DeleteMutation(r,n)}if(t.transform){var r=this.fromName(t.transform.document),s=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g.assert(n.exists===!0,'Transforms only support precondition "exists == true"'),new m.TransformMutation(r,s)}return g.fail("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g.assert(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g.fail("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?m.Precondition.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?m.Precondition.exists(t.exists):m.Precondition.NONE},t.prototype.fromWriteResult=function(t){var e=this,n=t.updateTime?this.fromVersion(t.updateTime):null,i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return e.fromValue(t)})),new m.MutationResult(n,i)},t.prototype.fromWriteResults=function(t){var e=this;return(t||[]).map(function(t){return e.fromWriteResult(t)})},t.prototype.toFieldTransform=function(t){return g.assert(t.transform instanceof m.ServerTimestampTransform,"Unknown transform: "+t.transform),{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"}},t.prototype.fromFieldTransform=function(t){g.assert("REQUEST_TIME"===t.setToServerValue,"Unknown transform proto: "+JSON.stringify(t));var e=y.FieldPath.fromServerFormat(t.fieldPath);return new m.FieldTransform(e,m.ServerTimestampTransform.instance)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;g.assert(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return c.Query.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(y.ResourcePath.EMPTY_PATH);else{var n=t.path;g.assert(n.length%2!==0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var i=this.toFilter(t.filters);i&&(e.structuredQuery.where=i);var r=this.toOrder(t.orderBy);r&&(e.structuredQuery.orderBy=r);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0;if(i>0){g.assert(1===i,"StructuredQuery.from with more than one collection is not supported.");var r=n.from[0];e=e.child(r.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new c.Query(e,a,o,s,u,l)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case d.QueryPurpose.Listen:return null;case d.QueryPurpose.ExistenceFilterMismatch:return"existence-filter-mismatch";case d.QueryPurpose.LimboResolution:return"limbo-document";default:return g.fail("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){
var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof c.RelationFilter?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):g.fail("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,i=t.values.map(function(t){return e.fromValue(t)});return new c.Bound(i,n)},t.prototype.toDirection=function(t){return k[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return c.Direction.ASCENDING;case"DESCENDING":return c.Direction.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return S[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return c.RelationOp.EQUAL;case"GREATER_THAN":return c.RelationOp.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return c.RelationOp.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return c.RelationOp.LESS_THAN;case"LESS_THAN_OR_EQUAL":return c.RelationOp.LESS_THAN_OR_EQUAL;case"OPERATOR_UNSPECIFIED":return g.fail("Unspecified relation");default:return g.fail("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return y.FieldPath.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new c.OrderBy(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof c.RelationFilter?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:g.fail("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new c.RelationFilter(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof c.NanFilter?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof c.NullFilter?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:g.fail("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new c.NanFilter(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new c.NullFilter(n);case"OPERATOR_UNSPECIFIED":return g.fail("Unspecified filter");default:return g.fail("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=t.fieldPaths||[],n=e.map(function(t){return y.FieldPath.fromServerFormat(t)});return new m.FieldMask(n)},t}();e.JsonProtoSerializer=I},function(t,e,n){"use strict";function i(t,e){e.length>0&&(t.resumeToken=e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(13),a=n(1),s=n(12),u=n(21),c=function(){function t(t,e,n,i){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=i}return t}();e.DocumentWatchChange=c;var l=function(){function t(t,e){this.targetId=t,this.existenceFilter=e}return t}();e.ExistenceFilterChange=l;var h;!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(h=e.WatchTargetChangeState||(e.WatchTargetChangeState={}));var d=function(){function t(t,e,n,i){void 0===n&&(n=o.emptyByteString()),void 0===i&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}return t}();e.WatchTargetChange=d;var f=function(){function t(t,e,n){this.snapshotVersion=t,this.listenTargets=e,this.existenceFilters={},this.targetChanges={},this.documentUpdates=r.maybeDocumentMap(),this.frozen=!1,this.pendingTargetResponses=s.shallowCopy(n)}return t.prototype.add=function(t){a.assert(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t instanceof c?this.addDocumentChange(t):t instanceof d?this.addTargetChange(t):t instanceof l?this.addExistenceFilterChange(t):a.fail("Unknown watch change: "+t)},t.prototype.addChanges=function(t){var e=this;a.assert(!this.frozen,"Trying to modify frozen WatchChangeAggregator."),t.forEach(function(t){return e.add(t)})},t.prototype.createRemoteEvent=function(){var t=this,e=this.targetChanges;return s.forEachNumber(this.targetChanges,function(n){t.isActiveTarget(n)||delete e[n]}),this.frozen=!0,new u.RemoteEvent(this.snapshotVersion,e,this.documentUpdates)},t.prototype.ensureTargetChange=function(t){var e=this.targetChanges[t];return e||(e={currentStatusUpdate:u.CurrentStatusUpdate.None,snapshotVersion:this.snapshotVersion,mapping:new u.UpdateMapping,resumeToken:o.emptyByteString()},this.targetChanges[t]=e),e},t.prototype.isActiveTarget=function(t){return!s.contains(this.pendingTargetResponses,t)&&s.contains(this.listenTargets,t)},t.prototype.addDocumentChange=function(t){for(var e=!1,n=0,i=t.updatedTargetIds;n<i.length;n++){var r=i[n];if(this.isActiveTarget(r)){var o=this.ensureTargetChange(r);o.mapping.add(t.key),e=!0}}for(var a=0,s=t.removedTargetIds;a<s.length;a++){var r=s[a];if(this.isActiveTarget(r)){var o=this.ensureTargetChange(r);o.mapping.delete(t.key),e=!0}}t.newDoc&&e&&(this.documentUpdates=this.documentUpdates.insert(t.key,t.newDoc))},t.prototype.addTargetChange=function(t){var e=this;t.targetIds.forEach(function(n){var r=e.ensureTargetChange(n);switch(t.state){case h.NoChange:e.isActiveTarget(n)&&i(r,t.resumeToken);break;case h.Added:e.recordTargetResponse(n),s.contains(e.pendingTargetResponses,n)||(r.mapping=new u.UpdateMapping,r.currentStatusUpdate=u.CurrentStatusUpdate.None,delete e.existenceFilters[n]),i(r,t.resumeToken);break;case h.Removed:e.recordTargetResponse(n),a.assert(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case h.Current:e.isActiveTarget(n)&&(r.currentStatusUpdate=u.CurrentStatusUpdate.MarkCurrent,i(r,t.resumeToken));break;case h.Reset:e.isActiveTarget(n)&&(r.mapping=new u.ResetMapping,i(r,t.resumeToken));break;default:a.fail("Unknown target watch change state: "+t.state)}})},t.prototype.recordTargetResponse=function(t){var e=(this.pendingTargetResponses[t]||0)-1;0===e?delete this.pendingTargetResponses[t]:this.pendingTargetResponses[t]=e},t.prototype.addExistenceFilterChange=function(t){this.isActiveTarget(t.targetId)&&(this.existenceFilters[t.targetId]=t.existenceFilter)},t}();e.WatchChangeAggregator=f},function(t,e){"use strict";function n(t,e,n){var i=Promise.resolve(n);return t.forEach(function(t){i=i.then(function(n){return e(t,n)})}),i}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}();e.Deferred=i,e.sequence=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.instances=[];var n;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(n=e.LogLevel||(e.LogLevel={}));var i=n.INFO,r=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case n.DEBUG:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(i));break;case n.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(i));break;case n.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(i));break;case n.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(i));break;case n.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(i));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},o=function(){function t(t){this.name=t,this._logLevel=i,this._logHandler=r,e.instances.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in n))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,n.ERROR].concat(t))},t}();e.Logger=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(42);e.assert=function(t,n){if(!t)throw e.assertionError(n)},e.assertionError=function(t){return new Error("Firebase Database ("+i.CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},i=function(t){for(var e=[],n=0,i=0;n<t.length;){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){var o=t[n++],a=t[n++],s=t[n++],u=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(1023&u))}else{var o=t[n++],a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")};e.base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,d=(15&s)<<2|c>>6,f=63&c;u||(f=64,a||(d=64)),i.push(n[l],n[h],n[d],n[f])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length,s=a?n[t.charAt(r)]:0;++r;var u=r<t.length,c=u?n[t.charAt(r)]:64;++r;var l=r<t.length,h=l?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==c||null==h)throw Error();var d=o<<2|s>>4;if(i.push(d),64!=c){var f=s<<4&240|c>>2;if(i.push(f),64!=h){var p=c<<6&192|h;i.push(p)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},e.base64Encode=function(t){var i=n(t);return e.base64.encodeByteArray(i,!0)},e.base64Decode=function(t){try{return e.base64.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}},function(t,e){"use strict";function n(t){return JSON.parse(t)}function i(t){return JSON.stringify(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.jsonEval=n,e.stringify=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.forEach=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},e.extend=function(t,n){return e.forEach(n,function(e,n){t[e]=n}),t},e.clone=function(t){return e.extend({},t)},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.map=function(t,e,n){var i={};for(var r in t)i[r]=e.call(n,t[r],r,t);return i},e.findKey=function(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i},e.findValue=function(t,n,i){var r=e.findKey(t,n,i);return r&&t[r]},e.getAnyKey=function(t){for(var e in t)return e},e.getValues=function(t){var e=[],n=0;for(var i in t)e[n++]=t[i];return e},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Voting=void 0;var r=n(11),o=i(r),a=n(126),s=i(a),u=n(31),c=i(u);n(134);var l=n(43),h=(n(124),n(125));n(44);var d=n(60);i(d),e.Voting={oninit:function(t){s.default.collection("invitations").doc("RGfaQzxGBMIzN1JkidZD").collection("imgs").onSnapshot(function(t){var e=[];t.forEach(function(t){e.push({src:t.data().src,percent:t.data().percent,id:t.id})}),c.default.options=e,o.default.redraw()})},onremove:function(){unsubscribe()},view:function(t){return(0,o.default)("div",{class:"container votingContainer"},(0,o.default)("div",{class:"votingHeader"},(0,o.default)(l.Header,null),(0,o.default)("div",{class:"subHeader"},"      ")),(0,o.default)("div",{class:"mainVotingPanel"},(0,o.default)(h.VotingCard,{options:c.default.options})),(0,o.default)("div",{class:"votingFooter"},(0,o.default)("a",{class:"waves-effect waves-light btn black votingFooterButton",href:"https://www.terminalx.com/",target:"_blank"},"TERMINAL-X")))}}},function(t,e,n){n(102),t.exports=n(24).default},function(t,e,n){var i,r;(function(n){function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}/*!
	 * Materialize v1.0.0-beta (http://materializecss.com)
	 * Copyright 2014-2017 Materialize
	 * MIT License (https://raw.githubusercontent.com/Dogfalo/materialize/master/LICENSE)
	 */
var u=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();/*! cash-dom 1.3.5, https://github.com/kenwheeler/cash @license MIT */
!function(t){window.cash=t()}(function(){function t(t,e){e=e||I;var n=B.test(t)?e.getElementsByClassName(t.slice(1)):V.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t);return n}function e(t){if(!S){S=I.implementation.createHTMLDocument(null);var e=S.createElement("base");e.href=I.location.href,S.head.appendChild(e)}return S.body.innerHTML=t,S.body.childNodes}function n(t){"loading"!==I.readyState?t():I.addEventListener("DOMContentLoaded",t)}function i(i,r){if(!i)return this;if(i.cash&&i!==O)return i;var o,a=i,s=0;if(x(i))a=L.test(i)?I.getElementById(i.slice(1)):F.test(i)?e(i):t(i,r);else if(R(i))return n(i),this;if(!a)return this;if(a.nodeType||a===O)this[0]=a,this.length=1;else for(o=this.length=a.length;s<o;s++)this[s]=a[s];return this}function r(t,e){return new i(t,e)}function o(t,e){for(var n=t.length,i=0;i<n&&e.call(t[i],t[i],i,t)!==!1;i++);}function a(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function s(t){return x(t)?a:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function u(t){return r(A.call(t).filter(function(t,e,n){return n.indexOf(t)===e}))}function c(t){return t[U]=t[U]||{}}function l(t,e,n){return c(t)[e]=n}function h(t,e){var n=c(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:r(t).attr("data-"+e)),n[e]}function d(t,e){var n=c(t);n?delete n[e]:t.dataset?delete t.dataset[e]:r(t).removeAttr("data-"+name)}function f(t){return x(t)&&t.match(q)}function p(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function v(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function m(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function y(t,e){return parseInt(O.getComputedStyle(t[0],null)[e],10)||0}function g(t,e,n){var i=h(t,"_cashEvents")||l(t,"_cashEvents",{});i[e]=i[e]||[],i[e].push(n),t.addEventListener(e,n)}function b(t,e,n){var i,r=h(t,"_cashEvents"),a=r&&r[e];a&&(n?(t.removeEventListener(e,n),i=a.indexOf(n),i>=0&&a.splice(i,1)):(o(a,function(n){t.removeEventListener(e,n)}),a=[]))}function w(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function _(t){var e=[];return o(t.options,function(t){t.selected&&e.push(t.value)}),e.length?e:null}function E(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}function T(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return E(t);case"select-multiple":return _(t);case"radio":return t.checked?t.value:null;case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function C(t,e,n){if(n){var i=t.childNodes[0];t.insertBefore(e,i)}else t.appendChild(e)}function k(t,e,n){var i=x(e);return!i&&e.length?void o(e,function(e){return k(t,e,n)}):void o(t,i?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,i){return C(t,0===i?e:e.cloneNode(!0),n)})}var S,I=document,O=window,D=Array.prototype,A=D.slice,M=D.filter,N=D.push,P=function(){},R=function(t){return typeof t==typeof P&&t.call},x=function(t){return"string"==typeof t},L=/^#[\w-]*$/,B=/^\.[\w-]*$/,F=/<.+>/,V=/^\w+$/,j=r.fn=r.prototype=i.prototype={cash:!0,length:0,push:N,splice:D.splice,map:D.map,init:i};Object.defineProperty(j,"constructor",{value:r}),r.parseHTML=e,r.noop=P,r.isFunction=R,r.isString=x,r.extend=j.extend=function(t){t=t||{};var e=A.call(arguments),n=e.length,i=1;for(1===e.length&&(t=this,i=0);i<n;i++)if(e[i])for(var r in e[i])e[i].hasOwnProperty(r)&&(t[r]=e[i][r]);return t},r.extend({merge:function(t,e){for(var n=+e.length,i=t.length,r=0;r<n;i++,r++)t[i]=e[r];return t.length=i,t},each:o,matches:a,unique:u,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var U=r.uid="_cash"+Date.now();j.extend({data:function(t,e){if(x(t))return void 0===e?h(this[0],t):this.each(function(n){return l(n,t,e)});for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each(function(e){return d(e,t)})}});var q=/\S+/g;j.extend({addClass:function(t){var e=f(t);return e?this.each(function(t){var n=" "+t.className+" ";o(e,function(e){v(t,e,n)})}):this},attr:function(t,e){if(t){if(x(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each(function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e});for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=f(t);return n&&n.length&&this.each(function(t){return e=p(t,n[0]),!e}),e},prop:function(t,e){if(x(t))return void 0===e?this[0][t]:this.each(function(n){n[t]=e});for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each(function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]})},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=f(t);return e?this.each(function(t){o(e,function(e){m(t,e)})}):this},removeProp:function(t){return this.each(function(e){delete e[t]})},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=f(t);return n?this.each(function(t){var e=" "+t.className+" ";o(n,function(n){p(t,n)?m(t,n):v(t,n,e)})}):this}}),j.extend({add:function(t,e){return u(r.merge(this,r(t,e)))},each:function(t){return o(this,t),this},eq:function(t){return r(this.get(t))},filter:function(t){if(!t)return this;var e=R(t)?t:s(t);return r(M.call(this,function(n){return e(n,t)}))},first:function(){return this.eq(0)},get:function(t){return void 0===t?A.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?r(t)[0]:this[0],n=t?this:r(e).parent().children();return A.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var H=function(){var t=/(?:^\w|[A-Z]|\b\w)/g,e=/[\s-_]+/g;return function(n){return n.replace(t,function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()}).replace(e,"")}}(),W=function(){var t={},e=document,n=e.createElement("div"),i=n.style;return function(e){if(e=H(e),t[e])return t[e];var n=e.charAt(0).toUpperCase()+e.slice(1),r=["webkit","moz","ms","o"],a=(e+" "+r.join(n+" ")+n).split(" ");return o(a,function(n){if(n in i)return t[n]=e=t[e]=n,!1}),t[e]}}();r.prefixedProp=W,r.camelCase=H,j.extend({css:function(t,e){if(x(t))return t=W(t),arguments.length>1?this.each(function(n){return n.style[t]=e}):O.getComputedStyle(this[0])[t];for(var n in t)this.css(n,t[n]);return this}}),o(["Width","Height"],function(t){var e=t.toLowerCase();j[e]=function(){return this[0].getBoundingClientRect()[e]},j["inner"+t]=function(){return this[0]["client"+t]},j["outer"+t]=function(e){return this[0]["offset"+t]+(e?y(this,"margin"+("Width"===t?"Left":"Top"))+y(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),j.extend({off:function(t,e){return this.each(function(n){return b(n,t,e)})},on:function(t,e,i,r){var o;if(!x(t)){for(var s in t)this.on(s,e,t[s]);return this}return R(e)&&(i=e,e=null),"ready"===t?(n(i),this):(e&&(o=i,i=function(t){for(var n=t.target;!a(n,e);){if(n===this||null===n)return n=!1;n=n.parentNode}n&&o.call(n,t)}),this.each(function(e){var n=i;r&&(n=function(){i.apply(this,arguments),b(e,t,n)}),g(e,t,n)}))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:n,trigger:function(t,e){if(document.createEvent){var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!1),n=this.extend(n,e),this.each(function(t){return t.dispatchEvent(n)})}}}),j.extend({serialize:function(){var t="";return o(this[0].elements||this,function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var i=T(e);null!==i&&o(i,function(e){t+=w(n,e)});break;default:var r=T(e);null!==r&&(t+=w(n,r))}}}),t.substr(1)},val:function(t){return void 0===t?T(this[0]):this.each(function(e){return e.value=t})}}),j.extend({after:function(t){return r(t).insertAfter(this),this},append:function(t){return k(this,t),this},appendTo:function(t){return k(r(t),this),this},before:function(t){return r(t).insertBefore(this),this},clone:function(){return r(this.map(function(t){return t.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t){return t.innerHTML=e})},insertAfter:function(t){var e=this;return r(t).each(function(t,n){var i=t.parentNode,r=t.nextSibling;e.each(function(t){i.insertBefore(0===n?t:t.cloneNode(!0),r)})}),this},insertBefore:function(t){var e=this;return r(t).each(function(t,n){var i=t.parentNode;e.each(function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)})}),this},prepend:function(t){return k(this,t,!0),this},prependTo:function(t){return k(r(t),this,!0),this},remove:function(){return this.each(function(t){if(t.parentNode)return t.parentNode.removeChild(t)})},text:function(t){return void 0===t?this[0].textContent:this.each(function(e){return e.textContent=t})}});var K=I.documentElement;return j.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+O.pageYOffset-K.clientTop,left:t.left+O.pageXOffset-K.clientLeft}},offsetParent:function(){return r(this[0].offsetParent)}}),j.extend({children:function(t){var e=[];return this.each(function(t){N.apply(e,t.children)}),e=u(e),t?e.filter(function(e){return a(e,t)}):e},closest:function(t){return!t||this.length<1?r():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=s(t);return this.each(function(i){return e=n(i,t),!e}),e},find:function(e){if(!e||e.nodeType)return r(e&&this.has(e).length?e:null);var n=[];return this.each(function(i){N.apply(n,t(e,i))}),u(n)},has:function(e){var n=x(e)?function(n){return 0!==t(e,n).length}:function(t){return t.contains(e)};return this.filter(n)},next:function(){return r(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=s(t);return this.filter(function(n){return!e(n,t)})},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),u(t)},parents:function(t){var e,n=[];return this.each(function(i){for(e=i;e&&e.parentNode&&e!==I.body.parentNode;)e=e.parentNode,(!t||t&&a(e,t))&&n.push(e)}),u(n)},prev:function(){return r(this[0].previousElementSibling)},siblings:function(t){var e=this.parent().children(t),n=this[0];return e.filter(function(t){return t!==n})}}),r});var l=function(){function t(e,n,i){s(this,t),n instanceof Element||console.error(Error(n+" is not an HTML Element"));var r=e.getInstance(n);r&&r.destroy(),this.el=n,this.$el=cash(n)}return c(t,null,[{key:"init",value:function(t,e,n){var i=null;if(e instanceof Element)i=new t(e,n);else if(e&&(e.jquery||e.cash||e instanceof NodeList)){for(var r=[],o=0;o<e.length;o++)r.push(new t(e[o],n));i=r}return i}}]),t}();!function(t){t.Package?M={}:t.M={},M.jQueryLoaded=!!t.jQuery}(window),i=[],r=function(){return M}.apply(e,i),!(void 0!==r&&(t.exports=r)),M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1;var h=function(t){t.which===M.keys.TAB&&(M.tabPressed=!0)},d=function(t){t.which===M.keys.TAB&&(M.tabPressed=!1)};document.addEventListener("keydown",h),document.addEventListener("keyup",d),M.initializeJqueryWrapper=function(t,e,n){jQuery.fn[e]=function(i){if(t.prototype[i]){var r=Array.prototype.slice.call(arguments,1);if("get"===i.slice(0,3)){var o=this.first()[0][n];return o[i].apply(o,r)}return this.each(function(){var t=this[n];t[i].apply(t,r)})}return"object"!=typeof i&&i?void jQuery.error("Method "+i+" does not exist on jQuery."+e):(t.init(this,arguments[0]),this)}},M.AutoInit=function(t){var e=t?t:document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(var i in n){var r=M[i];r.init(n[i])}},M.objectSelectorString=function(t){var e=t.prop("tagName")||"",n=t.attr("id")||"",i=t.attr("class")||"";return(e+n+i).replace(/\s/g,"")},M.guid=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(),M.escapeHash=function(t){return t.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(t){var e=$(t),n=e.add(e.parents()),i=!1;return n.each(function(){if("fixed"===$(this).css("position"))return i=!0,!1}),i},M.checkWithinContainer=function(t,e,n){var i={top:!1,right:!1,bottom:!1,left:!1},r=t.getBoundingClientRect(),o=t.scrollLeft,a=t.scrollTop,s=e.left-o,u=e.top-a;return(s<r.left+n||s<n)&&(i.left=!0),(s+e.width>r.right-n||s+e.width>window.innerWidth-n)&&(i.right=!0),(u<r.top+n||u<n)&&(i.top=!0),(u+e.height>r.bottom-n||u+e.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(t,e,n,i){var r={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},o="visible"===getComputedStyle(e).overflow,a=e.getBoundingClientRect(),s=Math.min(a.height,window.innerHeight),u=Math.min(a.width,window.innerWidth),c=t.getBoundingClientRect(),l=e.scrollLeft,h=e.scrollTop,d=n.left-l,f=n.top-h,p=n.top+c.height-h;return r.spaceOnRight=o?window.innerWidth-(c.left+n.width):u-(d+n.width),r.spaceOnRight<0&&(r.left=!1),r.spaceOnLeft=o?c.right-n.width:d-n.width+c.width,r.spaceOnLeft<0&&(r.right=!1),r.spaceOnBottom=o?window.innerHeight-(c.top+n.height+i):s-(f+n.height+i),r.spaceOnBottom<0&&(r.top=!1),r.spaceOnTop=o?c.bottom-(n.height+i):p-(n.height-i),r.spaceOnTop<0&&(r.bottom=!1),r},M.getOverflowParent=function(t){return null==t?null:t===document.body||"visible"!==getComputedStyle(t).overflow?t:M.getOverflowParent(t.parentElement)},M.getIdFromTrigger=function(t){var e=t.getAttribute("data-target");return e||(e=t.getAttribute("href"),e=e?e.slice(1):""),e},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0};/**
	 * Get time in ms
	 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @type {function}
	 * @return {number}
	 */
var f=Date.now||function(){return(new Date).getTime()};/**
	 * Returns a function, that, when invoked, will only be triggered at most once
	 * during a given window of time. Normally, the throttled function will run
	 * as much as it can, without ever going more than once per `wait` duration;
	 * but if you'd like to disable the execution on the leading edge, pass
	 * `{leading: false}`. To disable execution on the trailing edge, ditto.
	 * @license https://raw.github.com/jashkenas/underscore/master/LICENSE
	 * @param {function} func
	 * @param {number} wait
	 * @param {Object=} options
	 * @returns {Function}
	 */
M.throttle=function(t,e,n){var i=void 0,r=void 0,o=void 0,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:f(),a=null,o=t.apply(i,r),i=r=null};return function(){var c=f();s||n.leading!==!1||(s=c);var l=e-(c-s);return i=this,r=arguments,l<=0?(clearTimeout(a),a=null,s=c,o=t.apply(i,r),i=r=null):a||n.trailing===!1||(a=setTimeout(u,l)),o}};var p={scope:{}};p.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},p.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof n&&null!=n?n:t},p.global=p.getGlobal(this),p.SYMBOL_PREFIX="jscomp_symbol_",p.initSymbol=function(){p.initSymbol=function(){},p.global.Symbol||(p.global.Symbol=p.Symbol)},p.symbolCounter_=0,p.Symbol=function(t){return p.SYMBOL_PREFIX+(t||"")+p.symbolCounter_++},p.initSymbolIterator=function(){p.initSymbol();var t=p.global.Symbol.iterator;t||(t=p.global.Symbol.iterator=p.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&p.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return p.arrayIterator(this)}}),p.initSymbolIterator=function(){}},p.arrayIterator=function(t){var e=0;return p.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},p.iteratorPrototype=function(t){return p.initSymbolIterator(),t={next:t},t[p.global.Symbol.iterator]=function(){return this},t},p.array=p.array||{},p.iteratorFromArray=function(t,e){p.initSymbolIterator(),t instanceof String&&(t+="");var n=0,i={next:function(){if(n<t.length){var r=n++;return{value:e(r,t[r]),done:!1}}return i.next=function(){return{done:!0,value:void 0}},i.next()}};return i[Symbol.iterator]=function(){return i},i},p.polyfill=function(t,e,n,i){if(e){for(n=p.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}t=t[t.length-1],i=n[t],e=e(i),e!=i&&null!=e&&p.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},p.polyfill("Array.prototype.keys",function(t){return t?t:function(){return p.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var v=this;!function(t){M.anime=t()}(function(){function t(t){if(!F.col(t))try{return document.querySelectorAll(t)}catch(t){}}function e(t,e){for(var n=t.length,i=2<=arguments.length?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in t){var a=t[o];e.call(i,a,o,t)&&r.push(a)}return r}function n(t){return t.reduce(function(t,e){return t.concat(F.arr(e)?n(e):e)},[])}function i(e){return F.arr(e)?e:(F.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function r(t,e){return t.some(function(t){return t===e})}function o(t){var e,n={};for(e in t)n[e]=t[e];return n}function a(t,e){var n,i=o(t);for(n in t)i[n]=e.hasOwnProperty(n)?e[n]:t[n];return i}function s(t,e){var n,i=o(t);for(n in e)i[n]=F.und(t[n])?e[n]:t[n];return i}function u(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,n,i){return e+e+n+n+i+i});var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);t=parseInt(e[1],16);var n=parseInt(e[2],16),e=parseInt(e[3],16);return"rgba("+t+","+n+","+e+",1)"}function c(t){function e(t,e,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?t+6*(e-t)*n:.5>n?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var n=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t);t=parseInt(n[1])/360;var i=parseInt(n[2])/100,r=parseInt(n[3])/100,n=n[4]||1;if(0==i)r=i=t=r;else{var o=.5>r?r*(1+i):r+i-r*i,a=2*r-o,r=e(a,o,t+1/3),i=e(a,o,t);t=e(a,o,t-1/3)}return"rgba("+255*r+","+255*i+","+255*t+","+n+")"}function l(t){if(t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t))return t[2]}function h(t){return-1<t.indexOf("translate")||"perspective"===t?"px":-1<t.indexOf("rotate")||-1<t.indexOf("skew")?"deg":void 0}function d(t,e){return F.fnc(t)?t(e.target,e.id,e.total):t}function f(t,e){if(e in t.style)return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function p(t,e){return F.dom(t)&&r(B,e)?"transform":F.dom(t)&&(t.getAttribute(e)||F.svg(t)&&t[e])?"attribute":F.dom(t)&&"transform"!==e&&f(t,e)?"css":null!=t[e]?"object":void 0}function m(t,n){var i=h(n),i=-1<n.indexOf("scale")?1:0+i;if(t=t.style.transform,!t)return i;for(var r=[],o=[],a=[],s=/(\w+)\((.+?)\)/g;r=s.exec(t);)o.push(r[1]),a.push(r[2]);return t=e(a,function(t,e){return o[e]===n}),t.length?t[0]:i}function y(t,e){switch(p(t,e)){case"transform":return m(t,e);case"css":return f(t,e);case"attribute":return t.getAttribute(e)}return t[e]||0}function g(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=l(t)||0;switch(e=parseFloat(e),t=parseFloat(t.replace(n[0],"")),n[0][0]){case"+":return e+t+i;case"-":return e-t+i;case"*":return e*t+i}}function b(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function w(t){t=t.points;for(var e,n=0,i=0;i<t.numberOfItems;i++){var r=t.getItem(i);0<i&&(n+=b(e,r)),e=r}return n}function _(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return 2*Math.PI*t.getAttribute("r");case"rect":return 2*t.getAttribute("width")+2*t.getAttribute("height");case"line":return b({x:t.getAttribute("x1"),y:t.getAttribute("y1")},{x:t.getAttribute("x2"),y:t.getAttribute("y2")});case"polyline":return w(t);case"polygon":var e=t.points;return w(t)+b(e.getItem(e.numberOfItems-1),e.getItem(0))}}function E(t,e){function n(n){return n=void 0===n?0:n,t.el.getPointAtLength(1<=e+n?e+n:0)}var i=n(),r=n(-1),o=n(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(o.y-r.y,o.x-r.x)/Math.PI}}function T(t,e){var n,i=/-?\d*\.?\d+/g;if(n=F.pth(t)?t.totalLength:t,F.col(n))if(F.rgb(n)){var r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n);n=r?"rgba("+r[1]+",1)":n}else n=F.hex(n)?u(n):F.hsl(n)?c(n):void 0;else r=(r=l(n))?n.substr(0,n.length-r.length):n,n=e&&!/\s/g.test(n)?r+e:r;return n+="",{original:n,numbers:n.match(i)?n.match(i).map(Number):[0],strings:F.str(t)||e?n.split(i):[]}}function C(t){return t=t?n(F.arr(t)?t.map(i):i(t)):[],e(t,function(t,e,n){return n.indexOf(t)===e})}function k(t){var e=C(t);return e.map(function(t,n){return{target:t,id:n,total:e.length}})}function S(t,e){var n=o(e);if(F.arr(t)){var r=t.length;2!==r||F.obj(t[0])?F.fnc(e.duration)||(n.duration=e.duration/r):t={value:t}}return i(t).map(function(t,n){return n=n?0:e.delay,t=F.obj(t)&&!F.pth(t)?t:{value:t},F.und(t.delay)&&(t.delay=n),t}).map(function(t){return s(t,n)})}function I(t,e){var n,i={};for(n in t){var r=d(t[n],e);F.arr(r)&&(r=r.map(function(t){return d(t,e)}),1===r.length&&(r=r[0])),i[n]=r}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}function O(t){return F.arr(t)?V.apply(this,t):j[t]}function D(t,e){var n;return t.tweens.map(function(i){i=I(i,e);var r=i.value,o=y(e.target,t.name),a=n?n.to.original:o,a=F.arr(r)?r[0]:a,s=g(F.arr(r)?r[1]:r,a),o=l(s)||l(a)||l(o);return i.from=T(a,o),i.to=T(s,o),i.start=n?n.end:t.offset,i.end=i.start+i.delay+i.duration,i.easing=O(i.easing),i.elasticity=(1e3-Math.min(Math.max(i.elasticity,1),999))/1e3,i.isPath=F.pth(r),i.isColor=F.col(i.from.original),i.isColor&&(i.round=1),n=i})}function A(t,i){return e(n(t.map(function(t){return i.map(function(e){var n=p(t.target,e.name);if(n){var i=D(e,t);e={type:n,property:e.name,animatable:t,tweens:i,duration:i[i.length-1].end,delay:i[0].delay}}else e=void 0;return e})})),function(t){return!F.und(t)})}function M(t,e,n,i){var r="delay"===t;return e.length?(r?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):r?i.delay:n.offset+i.delay+i.duration}function N(t){var e,n=a(x,t),i=a(L,t),r=k(t.targets),o=[],u=s(n,i);for(e in t)u.hasOwnProperty(e)||"targets"===e||o.push({name:e,offset:u.offset,tweens:S(t[e],i)});return t=A(r,o),s(n,{children:[],animatables:r,animations:t,duration:M("duration",t,n,i),delay:M("delay",t,n,i)})}function P(t){function n(){return window.Promise&&new Promise(function(t){return h=t})}function i(t){return p.reversed?p.duration-t:t}function r(t){for(var n=0,i={},r=p.animations,o=r.length;n<o;){var a=r[n],s=a.animatable,u=a.tweens,c=u.length-1,l=u[c];c&&(l=e(u,function(e){return t<e.end})[0]||l);for(var u=Math.min(Math.max(t-l.start-l.delay,0),l.duration)/l.duration,h=isNaN(u)?1:l.easing(u,l.elasticity),u=l.to.strings,d=l.round,c=[],v=void 0,v=l.to.numbers.length,m=0;m<v;m++){var y=void 0,y=l.to.numbers[m],g=l.from.numbers[m],y=l.isPath?E(l.value,h*y):g+h*(y-g);d&&(l.isColor&&2<m||(y=Math.round(y*d)/d)),c.push(y)}if(l=u.length)for(v=u[0],h=0;h<l;h++)d=u[h+1],m=c[h],isNaN(m)||(v=d?v+(m+d):v+(m+" "));else v=c[0];U[a.type](s.target,a.property,v,i,s.id),a.currentValue=v,n++}if(n=Object.keys(i).length)for(r=0;r<n;r++)R||(R=f(document.body,"transform")?"transform":"-webkit-transform"),p.animatables[r].target.style[R]=i[r].join(" ");p.currentTime=t,p.progress=t/p.duration*100}function o(t){p[t]&&p[t](p)}function a(){p.remaining&&!0!==p.remaining&&p.remaining--}function s(t){var e=p.duration,s=p.offset,f=s+p.delay,v=p.currentTime,m=p.reversed,y=i(t);if(p.children.length){var g=p.children,b=g.length;if(y>=p.currentTime)for(var w=0;w<b;w++)g[w].seek(y);else for(;b--;)g[b].seek(y)}(y>=f||!e)&&(p.began||(p.began=!0,o("begin")),o("run")),y>s&&y<e?r(y):(y<=s&&0!==v&&(r(0),m&&a()),(y>=e&&v!==e||!e)&&(r(e),m||a())),o("update"),t>=e&&(p.remaining?(c=u,"alternate"===p.direction&&(p.reversed=!p.reversed)):(p.pause(),p.completed||(p.completed=!0,o("complete"),"Promise"in window&&(h(),d=n()))),l=0)}t=void 0===t?{}:t;var u,c,l=0,h=null,d=n(),p=N(t);return p.reset=function(){var t=p.direction,e=p.loop;for(p.currentTime=0,p.progress=0,p.paused=!0,p.began=!1,p.completed=!1,p.reversed="reverse"===t,p.remaining="alternate"===t&&1===e?2:e,r(0),t=p.children.length;t--;)p.children[t].reset()},p.tick=function(t){u=t,c||(c=u),s((l+u-c)*P.speed)},p.seek=function(t){s(i(t))},p.pause=function(){var t=q.indexOf(p);-1<t&&q.splice(t,1),p.paused=!0},p.play=function(){p.paused&&(p.paused=!1,c=0,l=i(p.currentTime),q.push(p),H||W())},p.reverse=function(){p.reversed=!p.reversed,c=0,l=i(p.currentTime)},p.restart=function(){p.pause(),p.reset(),p.play()},p.finished=d,p.reset(),p.autoplay&&p.play(),p}var R,x={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},L={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},B="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),F={arr:function(t){return Array.isArray(t)},obj:function(t){return-1<Object.prototype.toString.call(t).indexOf("Object")},pth:function(t){return F.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},dom:function(t){return t.nodeType||F.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return"undefined"==typeof t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return F.hex(t)||F.rgb(t)||F.hsl(t)}},V=function(){function t(t,e,n){return(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t}return function(e,n,i,r){if(0<=e&&1>=e&&0<=i&&1>=i){var o=new Float32Array(11);if(e!==n||i!==r)for(var a=0;11>a;++a)o[a]=t(.1*a,e,i);return function(a){if(e===n&&i===r)return a;if(0===a)return 0;if(1===a)return 1;for(var s=0,u=1;10!==u&&o[u]<=a;++u)s+=.1;--u;var u=s+(a-o[u])/(o[u+1]-o[u])*.1,c=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e;if(.001<=c){for(s=0;4>s&&(c=3*(1-3*i+3*e)*u*u+2*(3*i-6*e)*u+3*e,0!==c);++s)var l=t(u,e,i)-a,u=u-l/c;a=u}else if(0===c)a=u;else{var u=s,s=s+.1,h=0;do l=u+(s-u)/2,c=t(l,e,i)-a,0<c?s=l:u=l;while(1e-7<Math.abs(c)&&10>++h);a=l}return t(a,n,r)}}}}(),j=function(){function t(t,e){return 0===t||1===t?t:-Math.pow(2,10*(t-1))*Math.sin(2*(t-1-e/(2*Math.PI)*Math.asin(1))*Math.PI/e)}var e,n="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),i={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,n){return 1-t(1-e,n)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,n){return.5>e?t(2*e,n)/2:1-t(-2*e+2,n)/2}]},r={linear:V(.25,.25,.75,.75)},o={};for(e in i)o.type=e,i[o.type].forEach(function(t){return function(e,i){r["ease"+t.type+n[i]]=F.fnc(e)?e:V.apply(v,e)}}(o)),o={type:o.type};return r}(),U={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){i[r]||(i[r]=[]),i[r].push(e+"("+n+")")}},q=[],H=0,W=function(){function t(){H=requestAnimationFrame(e)}function e(e){var n=q.length;if(n){for(var i=0;i<n;)q[i]&&q[i].tick(e),i++;t()}else cancelAnimationFrame(H),H=0}return t}();return P.version="2.2.0",P.speed=1,P.running=q,P.remove=function(t){t=C(t);for(var e=q.length;e--;)for(var n=q[e],i=n.animations,o=i.length;o--;)r(t,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},P.getValue=y,P.path=function(e,n){var i=F.str(e)?t(e)[0]:e,r=n||100;return function(t){return{el:i,property:t,totalLength:_(i)*(r/100)}}},P.setDashoffset=function(t){var e=_(t);return t.setAttribute("stroke-dasharray",e),e},P.bezier=V,P.easings=j,P.timeline=function(t){var e=P(t);return e.pause(),e.duration=0,e.add=function(n){return e.children.forEach(function(t){t.began=!0,t.completed=!0}),i(n).forEach(function(n){var i=s(n,a(L,t||{}));i.targets=i.targets||t.targets,n=e.duration;var r=i.offset;i.autoplay=!1,i.direction=e.direction,i.offset=F.und(r)?n:g(r,n),e.began=!0,e.completed=!0,e.seek(i.offset),i=P(i),i.began=!0,i.completed=!0,i.duration>n&&(e.duration=i.duration),e.children.push(i)}),e.seek(0),e.reset(),e.autoplay&&e.restart(),e},e},P.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},P}),function(t,e){"use strict";var n={accordion:!0,onOpenStart:void 0,onOpenEnd:void 0,onCloseStart:void 0,onCloseEnd:void 0,inDuration:300,outDuration:300},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));i.el.M_Collapsible=i,i.options=t.extend({},r.defaults,n),i.$headers=i.$el.children("li").children(".collapsible-header"),i.$headers.attr("tabindex",0),i._setupEventHandlers();var a=i.$el.children("li.active").children(".collapsible-body");return i.options.accordion?a.first().css("display","block"):a.css("display","block"),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Collapsible=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCollapsibleClickBound=this._handleCollapsibleClick.bind(this),this._handleCollapsibleKeydownBound=this._handleCollapsibleKeydown.bind(this),this.el.addEventListener("click",this._handleCollapsibleClickBound),this.$headers.each(function(e){e.addEventListener("keydown",t._handleCollapsibleKeydownBound)})}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleCollapsibleClickBound)}},{key:"_handleCollapsibleClick",value:function(e){var n=t(e.target).closest(".collapsible-header");if(e.target&&n.length){var i=n.closest(".collapsible");if(i[0]===this.el){var r=n.closest("li"),o=i.children("li"),a=r[0].classList.contains("active"),s=o.index(r);a?this.close(s):this.open(s)}}}},{key:"_handleCollapsibleKeydown",value:function(t){13===t.keyCode&&this._handleCollapsibleClickBound(t)}},{key:"_animateIn",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css({display:"block",overflow:"hidden",height:0,paddingTop:"",paddingBottom:""});var o=r.css("padding-top"),a=r.css("padding-bottom"),s=r[0].scrollHeight;r.css({paddingTop:0,paddingBottom:0}),e({targets:r[0],height:s,paddingTop:o,paddingBottom:a,duration:this.options.inDuration,easing:"easeInOutCubic",complete:function(t){r.css({overflow:"",paddingTop:"",paddingBottom:"",height:""}),"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,i[0])}})}}},{key:"_animateOut",value:function(t){var n=this,i=this.$el.children("li").eq(t);if(i.length){var r=i.children(".collapsible-body");e.remove(r[0]),r.css("overflow","hidden"),e({targets:r[0],height:0,paddingTop:0,paddingBottom:0,duration:this.options.outDuration,easing:"easeInOutCubic",complete:function(){r.css({height:"",overflow:"",padding:"",display:""}),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,i[0])}})}}},{key:"open",value:function(e){var n=this,i=this.$el.children("li").eq(e);if(i.length&&!i[0].classList.contains("active")){if("function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,i[0]),this.options.accordion){var r=this.$el.children("li"),o=this.$el.children("li.active");o.each(function(e){var i=r.index(t(e));n.close(i)})}i[0].classList.add("active"),this._animateIn(e)}}},{key:"close",value:function(t){var e=this.$el.children("li").eq(t);e.length&&e[0].classList.contains("active")&&("function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,e[0]),e[0].classList.remove("active"),this._animateOut(t))}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Collapsible}},{key:"defaults",get:function(){return n}}]),r}(l);M.Collapsible=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"collapsible","M_Collapsible")}(cash,M.anime),function(t,e){"use strict";var n={alignment:"left",autoFocus:!0,constrainWidth:!0,container:null,coverTrigger:!0,closeOnClick:!0,hover:!1,inDuration:150,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Dropdown=i,r._dropdowns.push(i),i.id=M.getIdFromTrigger(e),i.dropdownEl=document.getElementById(i.id),i.$dropdownEl=t(i.dropdownEl),i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.isScrollable=!1,i.isTouchMoving=!1,i.focusedIndex=-1,i.filterQuery=[],i.options.container?t(i.options.container).append(i.dropdownEl):i.$el.after(i.dropdownEl),i._makeDropdownFocusable(),i._resetFilterQueryBound=i._resetFilterQuery.bind(i),i._handleDocumentClickBound=i._handleDocumentClick.bind(i),i._handleDocumentTouchmoveBound=i._handleDocumentTouchmove.bind(i),i._handleDropdownKeydownBound=i._handleDropdownKeydown.bind(i),i._handleTriggerKeydownBound=i._handleTriggerKeydown.bind(i),i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._resetDropdownStyles(),this._removeEventHandlers(),r._dropdowns.splice(r._dropdowns.indexOf(this),1),this.el.M_Dropdown=void 0}},{key:"_setupEventHandlers",value:function(){this.el.addEventListener("keydown",this._handleTriggerKeydownBound),this.options.hover?(this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.addEventListener("mouseleave",this._handleMouseLeaveBound)):(this._handleClickBound=this._handleClick.bind(this),this.el.addEventListener("click",this._handleClickBound))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("keydown",this._handleTriggerKeydownBound),this.options.hover?(this.el.removeEventHandlers("mouseenter",this._handleMouseEnterBound),this.el.removeEventHandlers("mouseleave",this._handleMouseLeaveBound),this.dropdownEl.removeEventHandlers("mouseleave",this._handleMouseLeaveBound)):this.el.removeEventListener("click",this._handleClickBound)}},{key:"_setupTemporaryEventHandlers",value:function(){document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound),document.body.addEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.addEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_removeTemporaryEventHandlers",value:function(){document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound),document.body.removeEventListener("touchmove",this._handleDocumentTouchmoveBound),this.dropdownEl.removeEventListener("keydown",this._handleDropdownKeydownBound)}},{key:"_handleClick",value:function(t){t.preventDefault(),this.open()}},{key:"_handleMouseEnter",value:function(){this.open()}},{key:"_handleMouseLeave",value:function(e){var n=e.toElement||e.relatedTarget,i=!!t(n).closest(".dropdown-content").length,r=!1,o=t(n).closest(".dropdown-trigger");o.length&&o[0].M_Dropdown&&o[0].M_Dropdown.isOpen&&(r=!0),r||i||this.close()}},{key:"_handleDocumentClick",value:function(e){var n=this,i=t(e.target);this.options.closeOnClick&&i.closest(".dropdown-content").length&&!this.isTouchMoving?setTimeout(function(){n.close()},0):!i.closest(".dropdown-trigger").length&&i.closest(".dropdown-content").length||setTimeout(function(){n.close()},0),this.isTouchMoving=!1}},{key:"_handleTriggerKeydown",value:function(t){t.which!==M.keys.ARROW_DOWN&&t.which!==M.keys.ENTER||this.isOpen||(t.preventDefault(),this.open())}},{key:"_handleDocumentTouchmove",value:function(e){var n=t(e.target);n.closest(".dropdown-content").length&&(this.isTouchMoving=!0)}},{key:"_handleDropdownKeydown",value:function(e){if(e.which===M.keys.TAB)e.preventDefault(),this.close();else if(e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||!this.isOpen)if(e.which===M.keys.ENTER&&this.isOpen){var n=this.dropdownEl.children[this.focusedIndex],i=t(n).find("a, button").first();i.length?i[0].click():n.click()}else e.which===M.keys.ESC&&this.isOpen&&(e.preventDefault(),this.close());else{e.preventDefault();var r=e.which===M.keys.ARROW_DOWN?1:-1,o=this.focusedIndex,a=!1;do if(o+=r,this.dropdownEl.children[o]&&this.dropdownEl.children[o].tabIndex!==-1){a=!0;break}while(o<this.dropdownEl.children.length&&o>=0);a&&(this.focusedIndex=o,this._focusFocusedItem())}var s=String.fromCharCode(e.which).toLowerCase(),u=[9,13,27,38,40];if(s&&u.indexOf(e.which)===-1){this.filterQuery.push(s);var c=this.filterQuery.join(""),l=t(this.dropdownEl).find("li").filter(function(e){return 0===t(e).text().toLowerCase().indexOf(c)})[0];l&&(this.focusedIndex=t(l).index(),this._focusFocusedItem())}this.filterTimeout=setTimeout(this._resetFilterQueryBound,1e3)}},{key:"_resetFilterQuery",value:function(){this.filterQuery=[]}},{key:"_resetDropdownStyles",value:function(){this.$dropdownEl.css({display:"",width:"",height:"",left:"",top:"","transform-origin":"",transform:"",opacity:""})}},{key:"_makeDropdownFocusable",value:function(){this.dropdownEl.tabIndex=0,t(this.dropdownEl).children().each(function(t){t.getAttribute("tabindex")||t.setAttribute("tabindex",0)})}},{key:"_focusFocusedItem",value:function(){this.focusedIndex>=0&&this.focusedIndex<this.dropdownEl.children.length&&this.options.autoFocus&&this.dropdownEl.children[this.focusedIndex].focus()}},{key:"_getDropdownPosition",value:function(){var t=(this.el.offsetParent.getBoundingClientRect(),this.el.getBoundingClientRect()),e=this.dropdownEl.getBoundingClientRect(),n=e.height,i=e.width,r=t.left-e.left,o=t.top-e.top,a={left:r,top:o,height:n,width:i},s=this.dropdownEl.offsetParent,u=M.checkPossibleAlignments(this.el,s,a,this.options.coverTrigger?0:t.height),c="top",l=this.options.alignment;if(o+=this.options.coverTrigger?0:t.height,this.isScrollable=!1,u.top||(u.bottom?c="bottom":(this.isScrollable=!0,u.spaceOnTop>u.spaceOnBottom?(c="bottom",n+=u.spaceOnTop,o-=u.spaceOnTop):n+=u.spaceOnBottom)),!u[l]){var h="left"===l?"right":"left";u[h]?l=h:u.spaceOnLeft>u.spaceOnRight?(l="right",i+=u.spaceOnLeft,r-=u.spaceOnLeft):(l="left",i+=u.spaceOnRight)}return"bottom"===c&&(o=o-e.height+(this.options.coverTrigger?t.height:0)),"right"===l&&(r=r-e.width+t.width),{x:r,y:o,verticalAlignment:c,horizontalAlignment:l,height:n,width:i}}},{key:"_animateIn",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:[0,1],easing:"easeOutQuad"},scaleX:[.3,1],scaleY:[.3,1],duration:this.options.inDuration,easing:"easeOutQuint",complete:function(e){if(t.options.autoFocus&&t.dropdownEl.focus(),"function"==typeof t.options.onOpenEnd){var n=e.animatables[0].target;t.options.onOpenEnd.call(n,t.el)}}})}},{key:"_animateOut",value:function(){var t=this;e.remove(this.dropdownEl),e({targets:this.dropdownEl,opacity:{value:0,easing:"easeOutQuint"},scaleX:.3,scaleY:.3,duration:this.options.outDuration,easing:"easeOutQuint",complete:function(e){if(t._resetDropdownStyles(),"function"==typeof t.options.onCloseEnd){e.animatables[0].target;t.options.onCloseEnd.call(t,t.el)}}})}},{key:"_placeDropdown",value:function(){var t=this.options.constrainWidth?this.el.getBoundingClientRect().width:this.dropdownEl.getBoundingClientRect().width;this.dropdownEl.style.width=t+"px";var e=this._getDropdownPosition();this.dropdownEl.style.left=e.x+"px",this.dropdownEl.style.top=e.y+"px",this.dropdownEl.style.height=e.height+"px",this.dropdownEl.style.width=e.width+"px",this.dropdownEl.style.transformOrigin=("left"===e.horizontalAlignment?"0":"100%")+" "+("top"===e.verticalAlignment?"0":"100%")}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._resetDropdownStyles(),this.dropdownEl.style.display="block",this._placeDropdown(),this._animateIn(),this._setupTemporaryEventHandlers())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.focusedIndex=-1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._animateOut(),this._removeTemporaryEventHandlers(),this.options.autoFocus&&this.el.focus())}},{key:"recalculateDimensions",value:function(){this.isOpen&&(this.$dropdownEl.css({width:"",height:"",left:"",top:"","transform-origin":""}),this._placeDropdown())}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Dropdown}},{key:"defaults",get:function(){return n}}]),r}(l);i._dropdowns=[],window.M.Dropdown=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"dropdown","M_Dropdown")}(cash,M.anime),function(t,e){"use strict";var n={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Modal=i,i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.id=i.$el.attr("id"),i._openingTrigger=void 0,i.$overlay=t('<div class="modal-overlay"></div>'),i.el.tabIndex=0,r._count++,i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){r._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===r._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===r._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".modal-trigger");if(n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Modal;r&&r.open(n),e.preventDefault()}}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){var n=t(e.target).closest(".modal-close");n.length&&this.close()}},{key:"_handleKeydown",value:function(t){27===t.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(t){this.el.contains(t.target)||this.el.focus()}},{key:"_animateIn",value:function(){var n=this;t.extend(this.el.style,{display:"block",opacity:0}),t.extend(this.$overlay[0].style,{display:"block",opacity:0}),e({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"});var i={targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof n.options.onOpenEnd&&n.options.onOpenEnd.call(n,n.el,n._openingTrigger)}};this.el.classList.contains("bottom-sheet")?(t.extend(i,{bottom:0,opacity:1}),e(i)):(t.extend(i,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),e(i))}},{key:"_animateOut",value:function(){var n=this;e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"});var i={targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){n.el.style.display="none",n.$overlay.remove(),"function"==typeof n.options.onCloseEnd&&n.options.onCloseEnd.call(n,n.el)}};this.el.classList.contains("bottom-sheet")?(t.extend(i,{bottom:"-100%",opacity:0}),e(i)):(t.extend(i,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),e(i))}},{key:"open",value:function(t){if(!this.isOpen)return this.isOpen=!0,r._modalsOpen++,this.$overlay[0].style.zIndex=1e3+2*r._modalsOpen,this.el.style.zIndex=1e3+2*r._modalsOpen+1,this._openingTrigger=t?t[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,r._modalsOpen--,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===r._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound)),e.remove(this.el),e.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Modal}},{key:"defaults",get:function(){return n}}]),r}(l);i._modalsOpen=0,i._count=0,M.Modal=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"modal","M_Modal")}(cash,M.anime),function(t,e){"use strict";var n={inDuration:275,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Materialbox=i,i.options=t.extend({},r.defaults,n),i.overlayActive=!1,
i.doneAnimating=!0,i.placeholder=t("<div></div>").addClass("material-placeholder"),i.originalWidth=0,i.originalHeight=0,i.originInlineStyles=i.$el.attr("style"),i.caption=i.el.getAttribute("data-caption")||"",i.$el.before(i.placeholder),i.placeholder.append(i.$el),i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Materialbox=void 0}},{key:"_setupEventHandlers",value:function(){this._handleMaterialboxClickBound=this._handleMaterialboxClick.bind(this),this.el.addEventListener("click",this._handleMaterialboxClickBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleMaterialboxClickBound)}},{key:"_handleMaterialboxClick",value:function(t){this.doneAnimating===!1||this.overlayActive&&this.doneAnimating?this.close():this.open()}},{key:"_handleWindowScroll",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowResize",value:function(){this.overlayActive&&this.close()}},{key:"_handleWindowEscape",value:function(t){27===t.keyCode&&this.doneAnimating&&this.overlayActive&&this.close()}},{key:"_makeAncestorsOverflowVisible",value:function(){this.ancestorsChanged=t();for(var e=this.placeholder[0].parentNode;null!==e&&!t(e).is(document);){var n=t(e);"visible"!==n.css("overflow")&&(n.css("overflow","visible"),void 0===this.ancestorsChanged?this.ancestorsChanged=n:this.ancestorsChanged=this.ancestorsChanged.add(n)),e=e.parentNode}}},{key:"_animateImageIn",value:function(){var t=this,n={targets:this.el,height:[this.originalHeight,this.newHeight],width:[this.originalWidth,this.newWidth],left:M.getDocumentScrollLeft()+this.windowWidth/2-this.placeholder.offset().left-this.newWidth/2,top:M.getDocumentScrollTop()+this.windowHeight/2-this.placeholder.offset().top-this.newHeight/2,duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){t.doneAnimating=!0,"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}};this.maxWidth=this.$el.css("max-width"),this.maxHeight=this.$el.css("max-height"),"none"!==this.maxWidth&&(n.maxWidth=this.newWidth),"none"!==this.maxHeight&&(n.maxHeight=this.newHeight),e(n)}},{key:"_animateImageOut",value:function(){var t=this,n={targets:this.el,width:this.originalWidth,height:this.originalHeight,left:0,top:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.placeholder.css({height:"",width:"",position:"",top:"",left:""}),t.attrWidth&&t.$el.attr("width",t.attrWidth),t.attrHeight&&t.$el.attr("height",t.attrHeight),t.$el.removeAttr("style"),t.$el.attr("style",t.originInlineStyles),t.$el.removeClass("active"),t.doneAnimating=!0,t.ancestorsChanged.length&&t.ancestorsChanged.css("overflow",""),"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}};e(n)}},{key:"_updateVars",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.caption=this.el.getAttribute("data-caption")||""}},{key:"open",value:function(){var n=this;this._updateVars(),this.originalWidth=this.el.getBoundingClientRect().width,this.originalHeight=this.el.getBoundingClientRect().height,this.doneAnimating=!1,this.$el.addClass("active"),this.overlayActive=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this.placeholder.css({width:this.placeholder[0].getBoundingClientRect().width+"px",height:this.placeholder[0].getBoundingClientRect().height+"px",position:"relative",top:0,left:0}),this._makeAncestorsOverflowVisible(),this.$el.css({position:"absolute","z-index":1e3,"will-change":"left, top, width, height"}),this.attrWidth=this.$el.attr("width"),this.attrHeight=this.$el.attr("height"),this.attrWidth&&(this.$el.css("width",this.attrWidth+"px"),this.$el.removeAttr("width")),this.attrHeight&&(this.$el.css("width",this.attrHeight+"px"),this.$el.removeAttr("height")),this.$overlay=t('<div id="materialbox-overlay"></div>').css({opacity:0}).one("click",function(){n.doneAnimating&&n.close()}),this.$el.before(this.$overlay);var i=this.$overlay[0].getBoundingClientRect();this.$overlay.css({width:this.windowWidth+"px",height:this.windowHeight+"px",left:-1*i.left+"px",top:-1*i.top+"px"}),e.remove(this.el),e.remove(this.$overlay[0]),e({targets:this.$overlay[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}),""!==this.caption&&(this.$photocaption&&e.remove(this.$photoCaption[0]),this.$photoCaption=t('<div class="materialbox-caption"></div>'),this.$photoCaption.text(this.caption),t("body").append(this.$photoCaption),this.$photoCaption.css({display:"inline"}),e({targets:this.$photoCaption[0],opacity:1,duration:this.options.inDuration,easing:"easeOutQuad"}));var r=0,o=this.originalWidth/this.windowWidth,a=this.originalHeight/this.windowHeight;this.newWidth=0,this.newHeight=0,o>a?(r=this.originalHeight/this.originalWidth,this.newWidth=.9*this.windowWidth,this.newHeight=.9*this.windowWidth*r):(r=this.originalWidth/this.originalHeight,this.newWidth=.9*this.windowHeight*r,this.newHeight=.9*this.windowHeight),this._animateImageIn(),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),this._handleWindowResizeBound=this._handleWindowResize.bind(this),this._handleWindowEscapeBound=this._handleWindowEscape.bind(this),window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleWindowResizeBound),window.addEventListener("keyup",this._handleWindowEscapeBound)}},{key:"close",value:function(){var t=this;this._updateVars(),this.doneAnimating=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),e.remove(this.el),e.remove(this.$overlay[0]),""!==this.caption&&e.remove(this.$photoCaption[0]),window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleWindowResizeBound),window.removeEventListener("keyup",this._handleWindowEscapeBound),e({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.overlayActive=!1,t.$overlay.remove()}}),this._animateImageOut(),""!==this.caption&&e({targets:this.$photoCaption[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t.$photoCaption.remove()}})}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Materialbox}},{key:"defaults",get:function(){return n}}]),r}(l);M.Materialbox=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"materialbox","M_Materialbox")}(cash,M.anime),function(t){"use strict";var e={responsiveThreshold:0},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Parallax=r,r.options=t.extend({},i.defaults,n),r._enabled=window.innerWidth>r.options.responsiveThreshold,r.$img=r.$el.find("img").first(),r.$img.each(function(){var e=this;e.complete&&t(e).trigger("load")}),r._updateParallax(),r._setupEventHandlers(),r._setupStyles(),i._parallaxes.push(r),r}return a(i,n),c(i,[{key:"destroy",value:function(){i._parallaxes.splice(i._parallaxes.indexOf(this),1),this.$img[0].style.transform="",this._removeEventHandlers(),this.$el[0].M_Parallax=void 0}},{key:"_setupEventHandlers",value:function(){this._handleImageLoadBound=this._handleImageLoad.bind(this),this.$img[0].addEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(i._handleScrollThrottled=M.throttle(i._handleScroll,5),window.addEventListener("scroll",i._handleScrollThrottled),i._handleWindowResizeThrottled=M.throttle(i._handleWindowResize,5),window.addEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_removeEventHandlers",value:function(){this.$img[0].removeEventListener("load",this._handleImageLoadBound),0===i._parallaxes.length&&(window.removeEventListener("scroll",i._handleScrollThrottled),window.removeEventListener("resize",i._handleWindowResizeThrottled))}},{key:"_setupStyles",value:function(){this.$img[0].style.opacity=1}},{key:"_handleImageLoad",value:function(){this._updateParallax()}},{key:"_updateParallax",value:function(){var t=this.$el.height()>0?this.el.parentNode.offsetHeight:500,e=this.$img[0].offsetHeight,n=e-t,i=this.$el.offset().top+t,r=this.$el.offset().top,o=M.getDocumentScrollTop(),a=window.innerHeight,s=o+a,u=(s-r)/(t+a),c=n*u;this._enabled?i>o&&r<o+a&&(this.$img[0].style.transform="translate3D(-50%, "+c+"px, 0)"):this.$img[0].style.transform=""}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Parallax}},{key:"_handleScroll",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._updateParallax.call(e)}}},{key:"_handleWindowResize",value:function(){for(var t=0;t<i._parallaxes.length;t++){var e=i._parallaxes[t];e._enabled=window.innerWidth>e.options.responsiveThreshold}}},{key:"defaults",get:function(){return e}}]),i}(l);n._parallaxes=[],M.Parallax=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"parallax","M_Parallax")}(cash),function(t,e){"use strict";var n={duration:300,onShow:null,swipeable:!1,responsiveThreshold:1/0},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Tabs=i,i.options=t.extend({},r.defaults,n),i.$tabLinks=i.$el.children("li.tab").children("a"),i.index=0,i._setTabsAndTabWidth(),i._setupActiveTabLink(),i._createIndicator(),i.options.swipeable?i._setupSwipeableTabs():i._setupNormalTabs(),i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._indicator.parentNode.removeChild(this._indicator),this.options.swipeable?this._teardownSwipeableTabs():this._teardownNormalTabs(),this.$el[0].M_Tabs=void 0}},{key:"_setupEventHandlers",value:function(){this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound),this._handleTabClickBound=this._handleTabClick.bind(this),this.el.addEventListener("click",this._handleTabClickBound)}},{key:"_removeEventHandlers",value:function(){window.removeEventListener("resize",this._handleWindowResizeBound),this.el.removeEventListener("click",this._handleTabClickBound)}},{key:"_handleWindowResize",value:function(){this._setTabsAndTabWidth(),0!==this.tabWidth&&0!==this.tabsWidth&&(this._indicator.style.left=this._calcLeftPos(this.$activeTabLink)+"px",this._indicator.style.right=this._calcRightPos(this.$activeTabLink)+"px")}},{key:"_handleTabClick",value:function(e){var n=this,i=t(e.target).closest("li.tab"),r=t(e.target).closest("a");if(r.length&&r.parent().hasClass("tab")){if(i.hasClass("disabled"))return void e.preventDefault();if(!r.attr("target")){this._setTabsAndTabWidth(),this.$activeTabLink.removeClass("active");var o=this.$content;this.$activeTabLink=r,this.$content=t(M.escapeHash(r[0].hash)),this.$tabLinks=this.$el.children("li.tab").children("a"),this.$activeTabLink.addClass("active");var a=this.index;this.index=Math.max(this.$tabLinks.index(r),0),this.options.swipeable?this._tabsCarousel&&this._tabsCarousel.set(this.index,function(){"function"==typeof n.options.onShow&&n.options.onShow.call(n,n.$content[0])}):this.$content.length&&(this.$content[0].style.display="block",this.$content.addClass("active"),"function"==typeof this.options.onShow&&this.options.onShow.call(this,this.$content[0]),o.length&&!o.is(this.$content)&&(o[0].style.display="none",o.removeClass("active"))),this._animateIndicator(a),e.preventDefault()}}}},{key:"_createIndicator",value:function(){var t=this,e=document.createElement("li");e.classList.add("indicator"),this.el.appendChild(e),this._indicator=e,setTimeout(function(){t._indicator.style.left=t._calcLeftPos(t.$activeTabLink)+"px",t._indicator.style.right=t._calcRightPos(t.$activeTabLink)+"px"},0)}},{key:"_setupActiveTabLink",value:function(){this.$activeTabLink=t(this.$tabLinks.filter('[href="'+location.hash+'"]')),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a.active").first()),0===this.$activeTabLink.length&&(this.$activeTabLink=this.$el.children("li.tab").children("a").first()),this.$tabLinks.removeClass("active"),this.$activeTabLink[0].classList.add("active"),this.index=Math.max(this.$tabLinks.index(this.$activeTabLink),0),this.$activeTabLink.length&&(this.$content=t(M.escapeHash(this.$activeTabLink[0].hash)),this.$content.addClass("active"))}},{key:"_setupSwipeableTabs",value:function(){var e=this;window.innerWidth>this.options.responsiveThreshold&&(this.options.swipeable=!1);var n=t();this.$tabLinks.each(function(e){var i=t(M.escapeHash(e.hash));i.addClass("carousel-item"),n=n.add(i)});var i=t('<div class="tabs-content carousel carousel-slider"></div>');n.first().before(i),i.append(n),n[0].style.display="";var r=this.$activeTabLink.closest(".tab").index();this._tabsCarousel=M.Carousel.init(i[0],{fullWidth:!0,noWrap:!0,onCycleTo:function(n){var i=e.index;e.index=t(n).index(),e.$activeTabLink.removeClass("active"),e.$activeTabLink=e.$tabLinks.eq(e.index),e.$activeTabLink.addClass("active"),e._animateIndicator(i),"function"==typeof e.options.onShow&&e.options.onShow.call(e,e.$content[0])}}),this._tabsCarousel.set(r)}},{key:"_teardownSwipeableTabs",value:function(){var t=this._tabsCarousel.$el;this._tabsCarousel.destroy(),t.after(t.children()),t.remove()}},{key:"_setupNormalTabs",value:function(){this.$tabLinks.not(this.$activeTabLink).each(function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="none")}})}},{key:"_teardownNormalTabs",value:function(){this.$tabLinks.each(function(e){if(e.hash){var n=t(M.escapeHash(e.hash));n.length&&(n[0].style.display="")}})}},{key:"_setTabsAndTabWidth",value:function(){this.tabsWidth=this.$el.width(),this.tabWidth=Math.max(this.tabsWidth,this.el.scrollWidth)/this.$tabLinks.length}},{key:"_calcRightPos",value:function(t){return Math.ceil(this.tabsWidth-t.position().left-t[0].getBoundingClientRect().width)}},{key:"_calcLeftPos",value:function(t){return Math.floor(t.position().left)}},{key:"updateTabIndicator",value:function(){this._animateIndicator(this.index)}},{key:"_animateIndicator",value:function(t){var n=0,i=0;this.index-t>=0?n=90:i=90;var r={targets:this._indicator,left:{value:this._calcLeftPos(this.$activeTabLink),delay:n},right:{value:this._calcRightPos(this.$activeTabLink),delay:i},duration:this.options.duration,easing:"easeOutQuad"};e.remove(this._indicator),e(r)}},{key:"select",value:function(t){var e=this.$tabLinks.filter('[href="#'+t+'"]');e.length&&e.trigger("click")}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Tabs}},{key:"defaults",get:function(){return n}}]),r}(l);window.M.Tabs=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tabs","M_Tabs")}(cash,M.anime),function(t,e){"use strict";var n={exitDelay:200,enterDelay:0,html:null,margin:5,inDuration:250,outDuration:200,position:"bottom",transitionMovement:10},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Tooltip=i,i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.isHovered=!1,i.isFocused=!1,i._appendTooltipEl(),i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){t(this.tooltipEl).remove(),this._removeEventHandlers(),this.el.M_Tooltip=void 0}},{key:"_appendTooltipEl",value:function(){var t=document.createElement("div");t.classList.add("material-tooltip"),this.tooltipEl=t;var e=document.createElement("div");e.classList.add("tooltip-content"),e.innerHTML=this.options.html,t.appendChild(e),document.body.appendChild(t)}},{key:"_updateTooltipContent",value:function(){this.tooltipEl.querySelector(".tooltip-content").innerHTML=this.options.html}},{key:"_setupEventHandlers",value:function(){this._handleMouseEnterBound=this._handleMouseEnter.bind(this),this._handleMouseLeaveBound=this._handleMouseLeave.bind(this),this._handleFocusBound=this._handleFocus.bind(this),this._handleBlurBound=this._handleBlur.bind(this),this.el.addEventListener("mouseenter",this._handleMouseEnterBound),this.el.addEventListener("mouseleave",this._handleMouseLeaveBound),this.el.addEventListener("focus",this._handleFocusBound,!0),this.el.addEventListener("blur",this._handleBlurBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("mouseenter",this._handleMouseEnterBound),this.el.removeEventListener("mouseleave",this._handleMouseLeaveBound),this.el.removeEventListener("focus",this._handleFocusBound,!0),this.el.removeEventListener("blur",this._handleBlurBound,!0)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.options=t.extend({},this.options,this._getAttributeOptions()),this._updateTooltipContent(),this._setEnterDelayTimeout())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this._setExitDelayTimeout())}},{key:"_setExitDelayTimeout",value:function(){var t=this;clearTimeout(this._exitDelayTimeout),this._exitDelayTimeout=setTimeout(function(){t.isHovered||t.isFocused||t._animateOut()},this.options.exitDelay)}},{key:"_setEnterDelayTimeout",value:function(){var t=this;clearTimeout(this._enterDelayTimeout),this._enterDelayTimeout=setTimeout(function(){(t.isHovered||t.isFocused)&&t._animateIn()},this.options.enterDelay)}},{key:"_positionTooltip",value:function(){var e=this.el,n=this.tooltipEl,i=e.offsetHeight,r=e.offsetWidth,o=n.offsetHeight,a=n.offsetWidth,s=void 0,u=this.options.margin,c=void 0,l=void 0;this.xMovement=0,this.yMovement=0,c=e.getBoundingClientRect().top+M.getDocumentScrollTop(),l=e.getBoundingClientRect().left+M.getDocumentScrollLeft(),"top"===this.options.position?(c+=-o-u,l+=r/2-a/2,this.yMovement=-this.options.transitionMovement):"right"===this.options.position?(c+=i/2-o/2,l+=r+u,this.xMovement=this.options.transitionMovement):"left"===this.options.position?(c+=i/2-o/2,l+=-a-u,this.xMovement=-this.options.transitionMovement):(c+=i+u,l+=r/2-a/2,this.yMovement=this.options.transitionMovement),s=this._repositionWithinScreen(l,c,a,o),t(n).css({top:s.y+"px",left:s.x+"px"})}},{key:"_repositionWithinScreen",value:function(t,e,n,i){var r=M.getDocumentScrollLeft(),o=M.getDocumentScrollTop(),a=t-r,s=e-o,u={left:a,top:s,width:n,height:i},c=this.options.margin+this.options.transitionMovement,l=M.checkWithinContainer(document.body,u,c);return l.left?a=c:l.right&&(a-=a+n-window.innerWidth),l.top?s=c:l.bottom&&(s-=s+i-window.innerHeight),{x:a+r,y:s+o}}},{key:"_animateIn",value:function(){this._positionTooltip(),this.tooltipEl.style.visibility="visible",e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:1,translateX:this.xMovement,translateY:this.yMovement,duration:this.options.inDuration,easing:"easeOutCubic"})}},{key:"_animateOut",value:function(){e.remove(this.tooltipEl),e({targets:this.tooltipEl,opacity:0,translateX:0,translateY:0,duration:this.options.outDuration,easing:"easeOutCubic"})}},{key:"_handleMouseEnter",value:function(){this.isHovered=!0,this.open()}},{key:"_handleMouseLeave",value:function(){this.isHovered=!1,this.close()}},{key:"_handleFocus",value:function(){this.isFocused=!0,this.open()}},{key:"_handleBlur",value:function(){this.isFocused=!1,this.close()}},{key:"_getAttributeOptions",value:function(){var t={},e=this.el.getAttribute("data-tooltip"),n=this.el.getAttribute("data-position");return e&&(t.html=e),n&&(t.position=n),t}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Tooltip}},{key:"defaults",get:function(){return n}}]),r}(l);M.Tooltip=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"tooltip","M_Tooltip")}(cash,M.anime),function(t){"use strict";function e(t){return null!==t&&t===t.window}function n(t){return e(t)?t:9===t.nodeType&&t.defaultView}function i(t){var e,i,r={top:0,left:0},o=t&&t.ownerDocument;return e=o.documentElement,"undefined"!=typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect()),i=n(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}}function r(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}function o(t){if(l.allowEvent(t)===!1)return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&n.className.indexOf("waves-effect")!==-1){e=n;break}n=n.parentNode}return e}function a(e){var n=o(e);null!==n&&(c.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",c.hide,!1),n.addEventListener("touchcancel",c.hide,!1)),n.addEventListener("mouseup",c.hide,!1),n.addEventListener("mouseleave",c.hide,!1),n.addEventListener("dragend",c.hide,!1))}var s=s||{},u=document.querySelectorAll.bind(document),c={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,o=document.createElement("div");o.className="waves-ripple",n.appendChild(o);var a=i(n),s=t.pageY-a.top,u=t.pageX-a.left,l="scale("+n.clientWidth/100*10+")";"touches"in t&&(s=t.touches[0].pageY-a.top,u=t.touches[0].pageX-a.left),o.setAttribute("data-hold",Date.now()),o.setAttribute("data-scale",l),o.setAttribute("data-x",u),o.setAttribute("data-y",s);var h={top:s+"px",left:u+"px"};o.className=o.className+" waves-notransition",o.setAttribute("style",r(h)),o.className=o.className.replace("waves-notransition",""),h["-webkit-transform"]=l,h["-moz-transform"]=l,h["-ms-transform"]=l,h["-o-transform"]=l,h.transform=l,h.opacity="1",h["-webkit-transition-duration"]=c.duration+"ms",h["-moz-transition-duration"]=c.duration+"ms",h["-o-transition-duration"]=c.duration+"ms",h["transition-duration"]=c.duration+"ms",h["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",h["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",h["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",h["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",o.setAttribute("style",r(h))},hide:function(t){l.touchup(t);var e=this,n=(1.4*e.clientWidth,null),i=e.getElementsByClassName("waves-ripple");if(!(i.length>0))return!1;n=i[i.length-1];var o=n.getAttribute("data-x"),a=n.getAttribute("data-y"),s=n.getAttribute("data-scale"),u=Date.now()-Number(n.getAttribute("data-hold")),h=350-u;h<0&&(h=0),setTimeout(function(){var t={top:a+"px",left:o+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,"-o-transform":s,transform:s};n.setAttribute("style",r(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},c.duration)},h)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&i.className.indexOf("waves-effect")!==-1)continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var o=n.getAttribute("style");o||(o=""),r.setAttribute("style",o),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},l={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?l.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){l.touches>0&&(l.touches-=1)},500):"mousedown"===t.type&&l.touches>0&&(e=!1),e},touchup:function(t){l.allowEvent(t)}};s.displayEffect=function(e){e=e||{},"duration"in e&&(c.duration=e.duration),c.wrapInput(u(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",a,!1),document.body.addEventListener("mousedown",a,!1)},s.attach=function(e){"input"===e.tagName.toLowerCase()&&(c.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",a,!1),e.addEventListener("mousedown",a,!1)},t.Waves=s,document.addEventListener("DOMContentLoaded",function(){s.displayEffect()},!1)}(window),function(t,e){"use strict";var n={html:"",displayLength:4e3,inDuration:300,outDuration:375,classes:"",completeCallback:null,activationPercent:.8},i=function(){function i(e){s(this,i),this.options=t.extend({},i.defaults,e),this.message=this.options.html,this.panning=!1,this.timeRemaining=this.options.displayLength,0===i._toasts.length&&i._createContainer(),i._toasts.push(this);var n=this._createToast();n.M_Toast=this,this.el=n,this._animateIn(),this._setTimer()}return c(i,[{key:"_createToast",value:function(){var e=document.createElement("div");return e.classList.add("toast"),this.options.classes.length&&t(e).addClass(this.options.classes),("object"==typeof HTMLElement?this.message instanceof HTMLElement:this.message&&"object"==typeof this.message&&null!==this.message&&1===this.message.nodeType&&"string"==typeof this.message.nodeName)?e.appendChild(this.message):this.message.jquery?t(e).append(this.message[0]):e.innerHTML=this.message,i._container.appendChild(e),e}},{key:"_animateIn",value:function(){e({targets:this.el,top:0,opacity:1,duration:300,easing:"easeOutCubic"})}},{key:"_setTimer",value:function(){var t=this;this.timeRemaining!==1/0&&(this.counterInterval=setInterval(function(){t.panning||(t.timeRemaining-=20),t.timeRemaining<=0&&t.dismiss()},20))}},{key:"dismiss",value:function(){var t=this;window.clearInterval(this.counterInterval);var n=this.el.offsetWidth*this.options.activationPercent;this.wasSwiped&&(this.el.style.transition="transform .05s, opacity .05s",this.el.style.transform="translateX("+n+"px)",this.el.style.opacity=0),e({targets:this.el,opacity:0,marginTop:-40,duration:this.options.outDuration,easing:"easeOutExpo",complete:function(){"function"==typeof t.options.completeCallback&&t.options.completeCallback(),t.el.parentNode.removeChild(t.el),i._toasts.splice(i._toasts.indexOf(t),1),0===i._toasts.length&&i._removeContainer()}})}}],[{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Toast}},{key:"_createContainer",value:function(){var t=document.createElement("div");t.setAttribute("id","toast-container"),t.addEventListener("touchstart",i._onDragStart),t.addEventListener("touchmove",i._onDragMove),t.addEventListener("touchend",i._onDragEnd),t.addEventListener("mousedown",i._onDragStart),document.addEventListener("mousemove",i._onDragMove),document.addEventListener("mouseup",i._onDragEnd),document.body.appendChild(t),i._container=t}},{key:"_removeContainer",value:function(){document.removeEventListener("mousemove",i._onDragMove),document.removeEventListener("mouseup",i._onDragEnd),i._container.parentNode.removeChild(i._container),i._container=null}},{key:"_onDragStart",value:function(e){if(e.target&&t(e.target).closest(".toast").length){var n=t(e.target).closest(".toast"),r=n[0].M_Toast;r.panning=!0,i._draggedToast=r,r.el.classList.add("panning"),r.el.style.transition="",r.startingXPos=i._xPos(e),r.time=Date.now(),r.xPos=i._xPos(e)}}},{key:"_onDragMove",value:function(t){if(i._draggedToast){t.preventDefault();var e=i._draggedToast;e.deltaX=Math.abs(e.xPos-i._xPos(t)),e.xPos=i._xPos(t),e.velocityX=e.deltaX/(Date.now()-e.time),e.time=Date.now();var n=e.xPos-e.startingXPos,r=e.el.offsetWidth*e.options.activationPercent;e.el.style.transform="translateX("+n+"px)",e.el.style.opacity=1-Math.abs(n/r)}}},{key:"_onDragEnd",value:function(){if(i._draggedToast){var t=i._draggedToast;t.panning=!1,t.el.classList.remove("panning");var e=t.xPos-t.startingXPos,n=t.el.offsetWidth*t.options.activationPercent,r=Math.abs(e)>n||t.velocityX>1;r?(t.wasSwiped=!0,t.dismiss()):(t.el.style.transition="transform .2s, opacity .2s",t.el.style.transform="",t.el.style.opacity=""),i._draggedToast=null}}},{key:"_xPos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"dismissAll",value:function(){for(var t in i._toasts)i._toasts[t].dismiss()}},{key:"defaults",get:function(){return n}}]),i}();i._toasts=[],i._container=null,i._draggedToast=null,M.Toast=i,M.toast=function(t){return new i(t)}}(cash,M.anime),function(t,e){"use strict";var n={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Sidenav=i,i.id=i.$el.attr("id"),i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.isFixed=i.el.classList.contains("sidenav-fixed"),i.isDragged=!1,i.lastWindowWidth=window.innerWidth,i.lastWindowHeight=window.innerHeight,i._createOverlay(),i._createDragTarget(),i._setupEventHandlers(),i._setupClasses(),i._setupFixed(),r._sidenavs.push(i),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0;var t=r._sidenavs.indexOf(this);t>=0&&r._sidenavs.splice(t,1)}},{key:"_createOverlay",value:function(){var t=document.createElement("div");this._closeBound=this.close.bind(this),t.classList.add("sidenav-overlay"),t.addEventListener("click",this._closeBound),document.body.appendChild(t),this._overlay=t}},{key:"_setupEventHandlers",value:function(){0===r._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===r._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-trigger");if(e.target&&n.length){var i=M.getIdFromTrigger(n[0]),r=document.getElementById(i).M_Sidenav;r&&r.open(n),e.preventDefault()}}},{key:"_startDrag",value:function(t){var n=t.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=n,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,e.remove(this.el),e.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(t){var e=t.targetTouches[0].clientX,n=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),
this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==n&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(t){if(this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling){this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge===n&&(e=0);var i=e,r="translateX(-100%)";"right"===this.options.edge&&(r="translateX(100%)",i=-i),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform=r+" translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(this.percentOpen>.5?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(t){if(this.isOpen){if(!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling)return;this.isDragged||this._startDrag(t),this._dragMoveUpdate(t);var e=this._xPos-this._startingXpos,n=e>0?"right":"left";e=Math.min(this._width,Math.abs(e)),this.options.edge!==n&&(e=0);var i=-e;"right"===this.options.edge&&(i=-i),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX("+i+"px)",this._overlay.style.opacity=this.percentOpen}}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(this.percentOpen>.5?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){var n=t(e.target).closest(".sidenav-close");n.length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(window.innerWidth>992?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&window.innerWidth>992}},{key:"_createDragTarget",value:function(){var t=document.createElement("div");t.classList.add("drag-target"),document.body.appendChild(t),this.dragTarget=t}},{key:"_preventBodyScrolling",value:function(){var t=document.body;t.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){var t=document.body;t.style.overflow=""}},{key:"open",value:function(){this.isOpen!==!0&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(e.remove(this.el),e({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()))}},{key:"close",value:function(){if(this.isOpen!==!1)if(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()){var t="left"===this.options.edge?"-105%":"105%";this.el.style.transform="translateX("+t+")"}else this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var t=this,n="left"===this.options.edge?-1:1;this.isDragged&&(n="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*n+"%",0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onOpenEnd&&t.options.onOpenEnd.call(t,t.el)}})}},{key:"_animateOverlayIn",value:function(){var n=0;this.isDragged?n=this.percentOpen:t(this._overlay).css({display:"block"}),e.remove(this._overlay),e({targets:this._overlay,opacity:[n,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var t=this,n="left"===this.options.edge?-1:1,i=0;this.isDragged&&(i="left"===this.options.edge?n+this.percentOpen:n-this.percentOpen),e.remove(this.el),e({targets:this.el,translateX:[100*i+"%",105*n+"%"],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof t.options.onCloseEnd&&t.options.onCloseEnd.call(t,t.el)}})}},{key:"_animateOverlayOut",value:function(){var n=this;e.remove(this._overlay),e({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){t(n._overlay).css("display","none")}})}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Sidenav}},{key:"defaults",get:function(){return n}}]),r}(l);i._sidenavs=[],window.M.Sidenav=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"sidenav","M_Sidenav")}(cash,M.anime),function(t,e){"use strict";var n={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(t){return'a[href="#'+t+'"]'}},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_ScrollSpy=i,i.options=t.extend({},r.defaults,n),r._elements.push(i),r._count++,r._increment++,i.tickId=-1,i.id=r._increment,i._setupEventHandlers(),i._handleWindowScroll(),i}return a(r,i),c(r,[{key:"destroy",value:function(){r._elements.splice(r._elements.indexOf(this),1),r._elementsInView.splice(r._elementsInView.indexOf(this),1),r._visibleElements.splice(r._visibleElements.indexOf(this.$el),1),r._count--,this._removeEventHandlers(),t(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var t=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=t.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===r._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===r._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(n){for(var i=t(n.target),o=r._elements.length-1;o>=0;o--){var a=r._elements[o];if(i.is('a[href="#'+a.$el.attr("id")+'"]')){n.preventDefault();var s=a.$el.offset().top+1;e({targets:[document.documentElement,document.body],scrollTop:s-a.options.scrollOffset,duration:400,easing:"easeOutCubic"});break}}}},{key:"_handleWindowScroll",value:function(){r._ticks++;for(var t=M.getDocumentScrollTop(),e=M.getDocumentScrollLeft(),n=e+window.innerWidth,i=t+window.innerHeight,o=r._findElements(t,n,i,e),a=0;a<o.length;a++){var s=o[a],u=s.tickId;u<0&&s._enter(),s.tickId=r._ticks}for(var c=0;c<r._elementsInView.length;c++){var l=r._elementsInView[c],h=l.tickId;h>=0&&h!==r._ticks&&(l._exit(),l.tickId=-1)}r._elementsInView=o}},{key:"_enter",value:function(){r._visibleElements=r._visibleElements.filter(function(t){return 0!=t.height()}),r._visibleElements[0]?(t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements[0][0].M_ScrollSpy&&this.id<r._visibleElements[0][0].M_ScrollSpy.id?r._visibleElements.unshift(this.$el):r._visibleElements.push(this.$el)):r._visibleElements.push(this.$el),t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var e=this;r._visibleElements=r._visibleElements.filter(function(t){return 0!=t.height()}),r._visibleElements[0]&&(t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),r._visibleElements=r._visibleElements.filter(function(t){return t.attr("id")!=e.$el.attr("id")}),r._visibleElements[0]&&t(this.options.getActiveElement(r._visibleElements[0].attr("id"))).addClass(this.options.activeClass))}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_ScrollSpy}},{key:"_findElements",value:function(t,e,n,i){for(var o=[],a=0;a<r._elements.length;a++){var s=r._elements[a],u=t+s.options.scrollOffset||200;if(s.$el.height()>0){var c=s.$el.offset().top,l=s.$el.offset().left,h=l+s.$el.width(),d=c+s.$el.height(),f=!(l>e||h<i||c>n||d<u);f&&o.push(s)}}return o}},{key:"defaults",get:function(){return n}}]),r}(l);i._elements=[],i._elementsInView=[],i._visibleElements=[],i._count=0,i._increment=0,i._ticks=0,M.ScrollSpy=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"scrollSpy","M_ScrollSpy")}(cash,M.anime),function(t){"use strict";var e={data:{},limit:1/0,onAutocomplete:null,minLength:1,sortFunction:function(t,e,n){return t.indexOf(n)-e.indexOf(n)}},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Autocomplete=r,r.options=t.extend({},i.defaults,n),r.isOpen=!1,r.count=0,r.activeIndex=-1,r.oldVal,r.$inputField=r.$el.closest(".input-field"),r.$active=t(),r._setupDropdown(),r._setupEventHandlers(),r}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_Autocomplete=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputBlurBound=this._handleInputBlur.bind(this),this._handleInputKeyupAndFocusBound=this._handleInputKeyupAndFocus.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleContainerMousedownAndTouchstartBound=this._handleContainerMousedownAndTouchstart.bind(this),this.el.addEventListener("blur",this._handleInputBlurBound),this.el.addEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.addEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.container.addEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),"undefined"!=typeof window.ontouchstart&&this.container.addEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("blur",this._handleInputBlurBound),this.el.removeEventListener("keyup",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("focus",this._handleInputKeyupAndFocusBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.container.removeEventListener("mousedown",this._handleContainerMousedownAndTouchstartBound),"undefined"!=typeof window.ontouchstart&&this.container.removeEventListener("touchstart",this._handleContainerMousedownAndTouchstartBound)}},{key:"_setupDropdown",value:function(){this.container=document.createElement("ul"),this.container.id="autocomplete-options-"+M.guid(),t(this.container).addClass("autocomplete-content dropdown-content"),this.$inputField.append(this.container),this.el.setAttribute("data-target",this.container.id),this.dropdown=M.Dropdown.init(this.el,{autoFocus:!1,closeOnClick:!1,coverTrigger:!1}),this.el.removeEventListener("click",this.dropdown._handleClickBound)}},{key:"_removeDropdown",value:function(){this.container.parentNode.removeChild(this.container)}},{key:"_handleInputBlur",value:function(){this.dropdown.close(),this._resetAutocomplete()}},{key:"_handleInputKeyupAndFocus",value:function(t){var e=this;"keyup"===t.type&&(i._keydown=!1),this.count=0;var n=this.el.value.toLowerCase();13!==t.keyCode&&38!==t.keyCode&&40!==t.keyCode&&(this.oldVal!==n&&(this._resetAutocomplete(),n.length>=this.options.minLength&&(this.isOpen=!0,this._renderDropdown(this.options.data,n)),this.dropdown.isOpen?this.dropdown.recalculateDimensions():setTimeout(function(){e.dropdown.open()},100)),this.oldVal=n)}},{key:"_handleInputKeydown",value:function(e){i._keydown=!0;var n=e.keyCode,r=void 0,o=t(this.container).children("li").length;return 13===n&&this.activeIndex>=0?(r=t(this.container).children("li").eq(this.activeIndex),void(r.length&&(this.selectOption(r),e.preventDefault()))):void(38!==n&&40!==n||(e.preventDefault(),38===n&&this.activeIndex>0&&this.activeIndex--,40===n&&this.activeIndex<o-1&&this.activeIndex++,this.$active.removeClass("active"),this.activeIndex>=0&&(this.$active=t(this.container).children("li").eq(this.activeIndex),this.$active.addClass("active"))))}},{key:"_handleContainerMousedownAndTouchstart",value:function(e){var n=t(e.target).closest("li");this.selectOption(n)}},{key:"_highlight",value:function(t,e){var n=e.find("img"),i=e.text().toLowerCase().indexOf(""+t.toLowerCase()),r=i+t.length-1,o=e.text().slice(0,i),a=e.text().slice(i,r+1),s=e.text().slice(r+1);e.html("<span>"+o+"<span class='highlight'>"+a+"</span>"+s+"</span>"),n.length&&e.prepend(n)}},{key:"_resetCurrentElement",value:function(){this.activeIndex=-1,this.$active.removeClass("active")}},{key:"_resetAutocomplete",value:function(){t(this.container).empty(),this._resetCurrentElement(),this.oldVal=null,this.isOpen=!1}},{key:"selectOption",value:function(t){var e=t.text().trim();this.el.value=e,this.$el.trigger("change"),this._resetAutocomplete(),this.dropdown.close(),"function"==typeof this.options.onAutocomplete&&this.options.onAutocomplete.call(this,e)}},{key:"_renderDropdown",value:function(e,n){var i=this;this._resetAutocomplete();var r=[];for(var o in e)if(e.hasOwnProperty(o)&&o.toLowerCase().indexOf(n)!==-1){if(this.count>=this.options.limit)break;var a={data:e[o],key:o};r.push(a),this.count++}var s=function(t,e){return i.options.sortFunction(t.key.toLowerCase(),e.key.toLowerCase(),n.toLowerCase())};r.sort(s);for(var u=0;u<r.length;u++){var c=r[u],l=t("<li></li>");c.data?l.append('<img src="'+c.data+'" class="right circle"><span>'+c.key+"</span>"):l.append("<span>"+c.key+"</span>"),t(this.container).append(l),this._highlight(n,l)}}},{key:"updateData",value:function(t){var e=this.el.value.toLowerCase();this.options.data=t,this.isOpen&&this._renderDropdown(t,e)}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Autocomplete}},{key:"defaults",get:function(){return e}}]),i}(l);n._keydown=!1,M.Autocomplete=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"autocomplete","M_Autocomplete")}(cash),function(t){M.updateTextFields=function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";t(e).each(function(e,n){var i=t(this);e.value.length>0||t(e).is(":focus")||e.autofocus||null!==i.attr("placeholder")?i.siblings("label").addClass("active"):e.validity?i.siblings("label").toggleClass("active",e.validity.badInput===!0):i.siblings("label").removeClass("active")})},M.validate_field=function(t){var e=null!==t.attr("data-length"),n=parseInt(t.attr("data-length")),i=t[0].value.length;0!==i||t[0].validity.badInput!==!1||t.is(":required")?t.hasClass("validate")&&(t.is(":valid")&&e&&i<=n||t.is(":valid")&&!e?(t.removeClass("invalid"),t.addClass("valid")):(t.removeClass("valid"),t.addClass("invalid"))):t.hasClass("validate")&&(t.removeClass("valid"),t.removeClass("invalid"))},M.textareaAutoResize=function(e){if(e instanceof Element&&(e=t(e)),!e.length)return void console.error("No textarea element found");var n=t(".hiddendiv").first();n.length||(n=t('<div class="hiddendiv common"></div>'),t("body").append(n));var i=e.css("font-family"),r=e.css("font-size"),o=e.css("line-height"),a=e.css("padding-top"),s=e.css("padding-right"),u=e.css("padding-bottom"),c=e.css("padding-left");r&&n.css("font-size",r),i&&n.css("font-family",i),o&&n.css("line-height",o),a&&n.css("padding-top",a),s&&n.css("padding-right",s),u&&n.css("padding-bottom",u),c&&n.css("padding-left",c),e.data("original-height")||e.data("original-height",e.height()),"off"===e.attr("wrap")&&n.css("overflow-wrap","normal").css("white-space","pre"),n.text(e[0].value+"\n");var l=n.html().replace(/\n/g,"<br>");n.html(l),e[0].offsetWidth>0&&e[0].offsetHeight>0?n.css("width",e.width()+"px"):n.css("width",window.innerWidth/2+"px"),e.data("original-height")<=n.innerHeight()?e.css("height",n.innerHeight()+"px"):e[0].value.length<e.data("previous-length")&&e.css("height",e.data("original-height")+"px"),e.data("previous-length",e[0].value.length)},t(document).ready(function(){var e="input[type=text], input[type=password], input[type=email], input[type=url], input[type=tel], input[type=number], input[type=search], input[type=date], input[type=time], textarea";t(document).on("change",e,function(){0===this.value.length&&null===t(this).attr("placeholder")||t(this).siblings("label").addClass("active"),M.validate_field(t(this))}),t(document).ready(function(){M.updateTextFields()}),t(document).on("reset",function(n){var i=t(n.target);i.is("form")&&(i.find(e).removeClass("valid").removeClass("invalid"),i.find(e).each(function(e){this.value.length&&t(this).siblings("label").removeClass("active")}),setTimeout(function(){i.find("select").each(function(){if(this.M_FormSelect){var e=t(this).find("option[selected]").text();t(this).siblings("input.select-dropdown")[0].value=e}})},0))}),document.addEventListener("focus",function(n){t(n.target).is(e)&&t(n.target).siblings("label, .prefix").addClass("active")},!0),document.addEventListener("blur",function(n){var i=t(n.target);if(i.is(e)){var r=".prefix";0===i[0].value.length&&i[0].validity.badInput!==!0&&null===i.attr("placeholder")&&(r+=", label"),i.siblings(r).removeClass("active"),M.validate_field(i)}},!0);var n="input[type=radio], input[type=checkbox]";t(document).on("keyup",n,function(e){if(e.which===M.keys.TAB){t(this).addClass("tabbed");var n=t(this);return void n.one("blur",function(e){t(this).removeClass("tabbed")})}});var i=".materialize-textarea";t(i).each(function(){var e=t(this);e.data("original-height",e.height()),e.data("previous-length",this.value.length),M.textareaAutoResize(e)}),t(document).on("keyup",i,function(){M.textareaAutoResize(t(this))}),t(document).on("keydown",i,function(){M.textareaAutoResize(t(this))}),t(document).on("change",'.file-field input[type="file"]',function(){for(var e=t(this).closest(".file-field"),n=e.find("input.file-path"),i=t(this)[0].files,r=[],o=0;o<i.length;o++)r.push(i[o].name);n[0].value=r.join(", "),n.trigger("change")})})}(cash),function(t,e){"use strict";var n={indicators:!0,height:400,duration:500,interval:6e3},i=function(i){function r(n,i){s(this,r);var a=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,n,i));return a.el.M_Slider=a,a.options=t.extend({},r.defaults,i),a.$slider=a.$el.find(".slides"),a.$slides=a.$slider.children("li"),a.activeIndex=a.$slides.filter(function(e){return t(e).hasClass("active")}).first().index(),a.activeIndex!=-1&&(a.$active=a.$slides.eq(a.activeIndex)),a._setSliderHeight(),a.$slides.find(".caption").each(function(t){a._animateCaptionIn(t,0)}),a.$slides.find("img").each(function(e){var n="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";t(e).attr("src")!==n&&(t(e).css("background-image",'url("'+t(e).attr("src")+'")'),t(e).attr("src",n))}),a._setupIndicators(),a.$active?a.$active.css("display","block"):(a.$slides.first().addClass("active"),e({targets:a.$slides.first()[0],opacity:1,duration:a.options.duration,easing:"easeOutQuad"}),a.activeIndex=0,a.$active=a.$slides.eq(a.activeIndex),a.options.indicators&&a.$indicators.eq(a.activeIndex).addClass("active")),a.$active.find("img").each(function(t){e({targets:a.$active.find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:a.options.duration,easing:"easeOutQuad"})}),a._setupEventHandlers(),a.start(),a}return a(r,i),c(r,[{key:"destroy",value:function(){this.pause(),this._removeIndicators(),this._removeEventHandlers(),this.el.M_Slider=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleIntervalBound=this._handleInterval.bind(this),this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.options.indicators&&this.$indicators.each(function(e){e.addEventListener("click",t._handleIndicatorClickBound)})}},{key:"_removeEventHandlers",value:function(){var t=this;this.options.indicators&&this.$indicators.each(function(e){e.removeEventListener("click",t._handleIndicatorClickBound)})}},{key:"_handleIndicatorClick",value:function(e){var n=t(e.target).index();this.set(n)}},{key:"_handleInterval",value:function(){var t=this.$slider.find(".active").index();this.$slides.length===t+1?t=0:t+=1,this.set(t)}},{key:"_animateCaptionIn",value:function(n,i){var r={targets:n,opacity:0,duration:i,easing:"easeOutQuad"};t(n).hasClass("center-align")?r.translateY=-100:t(n).hasClass("right-align")?r.translateX=100:t(n).hasClass("left-align")&&(r.translateX=-100),e(r)}},{key:"_setSliderHeight",value:function(){this.$el.hasClass("fullscreen")||(this.options.indicators?this.$el.css("height",this.options.height+40+"px"):this.$el.css("height",this.options.height+"px"),this.$slider.css("height",this.options.height+"px"))}},{key:"_setupIndicators",value:function(){var e=this;this.options.indicators&&(this.$indicators=t('<ul class="indicators"></ul>'),this.$slides.each(function(n,i){var r=t('<li class="indicator-item"></li>');e.$indicators.append(r[0])}),this.$el.append(this.$indicators[0]),this.$indicators=this.$indicators.children("li.indicator-item"))}},{key:"_removeIndicators",value:function(){this.$el.find("ul.indicators").remove()}},{key:"set",value:function(t){var n=this;if(t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.activeIndex!=t){this.$active=this.$slides.eq(this.activeIndex);var i=this.$active.find(".caption");this.$active.removeClass("active"),e({targets:this.$active[0],opacity:0,duration:this.options.duration,easing:"easeOutQuad",complete:function(){n.$slides.not(".active").each(function(t){e({targets:t,opacity:0,translateX:0,translateY:0,duration:0,easing:"easeOutQuad"})})}}),this._animateCaptionIn(i[0],this.options.duration),this.options.indicators&&(this.$indicators.eq(this.activeIndex).removeClass("active"),this.$indicators.eq(t).addClass("active")),e({targets:this.$slides.eq(t)[0],opacity:1,duration:this.options.duration,easing:"easeOutQuad"}),e({targets:this.$slides.eq(t).find(".caption")[0],opacity:1,translateX:0,translateY:0,duration:this.options.duration,delay:this.options.duration,easing:"easeOutQuad"}),this.$slides.eq(t).addClass("active"),this.activeIndex=t,this.start()}}},{key:"pause",value:function(){clearInterval(this.interval)}},{key:"start",value:function(){clearInterval(this.interval),this.interval=setInterval(this._handleIntervalBound,this.options.duration+this.options.interval)}},{key:"next",value:function(){var t=this.activeIndex+1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}},{key:"prev",value:function(){var t=this.activeIndex-1;t>=this.$slides.length?t=0:t<0&&(t=this.$slides.length-1),this.set(t)}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Slider}},{key:"defaults",get:function(){return n}}]),r}(l);M.Slider=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"slider","M_Slider")}(cash,M.anime),function(t,e){t(document).on("click",".card",function(n){if(t(this).children(".card-reveal").length){var i=t(n.target).closest(".card");void 0===i.data("initialOverflow")&&i.data("initialOverflow",void 0===i.css("overflow")?"":i.css("overflow"));var r=t(this).find(".card-reveal");t(n.target).is(t(".card-reveal .card-title"))||t(n.target).is(t(".card-reveal .card-title i"))?e({targets:r[0],translateY:0,duration:225,easing:"easeInOutQuad",complete:function(e){var n=e.animatables[0].target;t(n).css({display:"none"}),i.css("overflow",i.data("initialOverflow"))}}):(t(n.target).is(t(".card .activator"))||t(n.target).is(t(".card .activator i")))&&(i.css("overflow","hidden"),r.css({display:"block"}),e({targets:r[0],translateY:"-100%",duration:300,easing:"easeInOutQuad"}))}})}(cash,M.anime),function(t){"use strict";var e={data:[],placeholder:"",secondaryPlaceholder:"",autocompleteOptions:{},limit:1/0,onChipAdd:null,onChipSelect:null,onChipDelete:null},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Chips=r,r.options=t.extend({},i.defaults,n),r.$el.addClass("chips input-field"),r.chipsData=[],r.$chips=t(),r._setupInput(),r.hasAutocomplete=Object.keys(r.options.autocompleteOptions).length>0,r.$input.attr("id")||r.$input.attr("id",M.guid()),r.options.data.length&&(r.chipsData=r.options.data,r._renderChips(r.chipsData)),r.hasAutocomplete&&r._setupAutocomplete(),r._setPlaceholder(),r._setupLabel(),r._setupEventHandlers(),r}return a(i,n),c(i,[{key:"getData",value:function(){return this.chipsData}},{key:"destroy",value:function(){this._removeEventHandlers(),this.$chips.remove(),this.el.M_Chips=void 0}},{key:"_setupEventHandlers",value:function(){this._handleChipClickBound=this._handleChipClick.bind(this),this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputFocusBound=this._handleInputFocus.bind(this),this._handleInputBlurBound=this._handleInputBlur.bind(this),this.el.addEventListener("click",this._handleChipClickBound),document.addEventListener("keydown",i._handleChipsKeydown),document.addEventListener("keyup",i._handleChipsKeyup),this.el.addEventListener("blur",i._handleChipsBlur,!0),this.$input[0].addEventListener("focus",this._handleInputFocusBound),this.$input[0].addEventListener("blur",this._handleInputBlurBound),this.$input[0].addEventListener("keydown",this._handleInputKeydownBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleChipClickBound),document.removeEventListener("keydown",i._handleChipsKeydown),document.removeEventListener("keyup",i._handleChipsKeyup),this.el.removeEventListener("blur",i._handleChipsBlur,!0),this.$input[0].removeEventListener("focus",this._handleInputFocusBound),this.$input[0].removeEventListener("blur",this._handleInputBlurBound),this.$input[0].removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleChipClick",value:function(e){var n=t(e.target).closest(".chip"),i=t(e.target).is(".close");if(n.length){var r=n.index();i?(this.deleteChip(r),this.$input[0].focus()):this.selectChip(r)}else this.$input[0].focus()}},{key:"_handleInputFocus",value:function(){this.$el.addClass("focus")}},{key:"_handleInputBlur",value:function(){this.$el.removeClass("focus")}},{key:"_handleInputKeydown",value:function(t){if(i._keydown=!0,13===t.keyCode){if(this.hasAutocomplete&&this.autocomplete&&this.autocomplete.isOpen)return;t.preventDefault(),this.addChip({tag:this.$input[0].value}),this.$input[0].value=""}else 8!==t.keyCode&&37!==t.keyCode||""!==this.$input[0].value||!this.chipsData.length||(t.preventDefault(),this.selectChip(this.chipsData.length-1))}},{key:"_renderChip",value:function(e){if(e.tag){var n=document.createElement("div"),i=document.createElement("i");if(n.classList.add("chip"),n.textContent=e.tag,n.setAttribute("tabindex",0),t(i).addClass("material-icons close"),i.textContent="close",e.image){var r=document.createElement("img");r.setAttribute("src",e.image),n.insertBefore(r,n.firstChild)}return n.appendChild(i),n}}},{key:"_renderChips",value:function(){this.$chips.remove();for(var t=0;t<this.chipsData.length;t++){var e=this._renderChip(this.chipsData[t]);this.$el.append(e),this.$chips.add(e)}this.$el.append(this.$input[0])}},{key:"_setupAutocomplete",value:function(){var t=this;this.options.autocompleteOptions.onAutocomplete=function(e){t.addChip({tag:e}),t.$input[0].value="",t.$input[0].focus()},this.autocomplete=M.Autocomplete.init(this.$input[0],this.options.autocompleteOptions)}},{key:"_setupInput",value:function(){this.$input=this.$el.find("input"),this.$input.length||(this.$input=t("<input></input>"),this.$el.append(this.$input)),this.$input.addClass("input")}},{key:"_setupLabel",value:function(){this.$label=this.$el.find("label"),this.$label.length&&this.$label.setAttribute("for",this.$input.attr("id"))}},{key:"_setPlaceholder",value:function(){void 0!==this.chipsData&&!this.chipsData.length&&this.options.placeholder?t(this.$input).prop("placeholder",this.options.placeholder):(void 0===this.chipsData||this.chipsData.length)&&this.options.secondaryPlaceholder&&t(this.$input).prop("placeholder",this.options.secondaryPlaceholder)}},{key:"_isValid",value:function(t){if(t.hasOwnProperty("tag")&&""!==t.tag){for(var e=!1,n=0;n<this.chipsData.length;n++)if(this.chipsData[n].tag===t.tag){e=!0;break}return!e}return!1}},{key:"addChip",value:function(e){if(this._isValid(e)&&!(this.chipsData.length>=this.options.limit)){var n=this._renderChip(e);this.$chips.add(n),this.chipsData.push(e),t(this.$input).before(n),this._setPlaceholder(),"function"==typeof this.options.onChipAdd&&this.options.onChipAdd.call(this,this.$el,n)}}},{key:"deleteChip",value:function(e){var n=this.$chips.eq(e);this.$chips.eq(e).remove(),this.$chips=this.$chips.filter(function(e){return t(e).index()>=0}),this.chipsData.splice(e,1),this._setPlaceholder(),"function"==typeof this.options.onChipDelete&&this.options.onChipDelete.call(this,this.$el,n[0])}},{key:"selectChip",value:function(t){var e=this.$chips.eq(t);this._selectedChip=e,e[0].focus(),"function"==typeof this.options.onChipSelect&&this.options.onChipSelect.call(this,this.$el,e[0])}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Chips}},{key:"_handleChipsKeydown",value:function(e){i._keydown=!0;var n=t(e.target).closest(".chips"),r=e.target&&n.length;if(!t(e.target).is("input, textarea")&&r){var o=n[0].M_Chips;if(8===e.keyCode||46===e.keyCode){e.preventDefault();var a=o.chipsData.length;if(o._selectedChip){var s=o._selectedChip.index();o.deleteChip(s),o._selectedChip=null,a=Math.max(s-1,0)}o.chipsData.length&&o.selectChip(a)}else if(37===e.keyCode){if(o._selectedChip){var u=o._selectedChip.index()-1;if(u<0)return;o.selectChip(u)}}else if(39===e.keyCode&&o._selectedChip){var c=o._selectedChip.index()+1;c>=o.chipsData.length?o.$input[0].focus():o.selectChip(c)}}}},{key:"_handleChipsKeyup",value:function(t){i._keydown=!1}},{key:"_handleChipsBlur",value:function(e){if(!i._keydown){var n=t(e.target).closest(".chips"),r=n[0].M_Chips;r._selectedChip=null}}},{key:"defaults",get:function(){return e}}]),i}(l);n._keydown=!1,M.Chips=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"chips","M_Chips"),t(document).ready(function(){t(document.body).on("click",".chip .close",function(){var e=t(this).closest(".chips");e.length&&e[0].M_Chips||t(this).closest(".chip").remove()})})}(cash),function(t){"use strict";var e={top:0,bottom:1/0,offset:0,onPositionChange:null},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Pushpin=r,r.options=t.extend({},i.defaults,n),r.originalOffset=r.el.offsetTop,i._pushpins.push(r),r._setupEventHandlers(),r._updatePosition(),r}return a(i,n),c(i,[{key:"destroy",value:function(){this.el.style.top=null,this._removePinClasses(),this._removeEventHandlers();
var t=i._pushpins.indexOf(this);i._pushpins.splice(t,1)}},{key:"_setupEventHandlers",value:function(){document.addEventListener("scroll",i._updateElements)}},{key:"_removeEventHandlers",value:function(){document.removeEventListener("scroll",i._updateElements)}},{key:"_updatePosition",value:function(){var t=M.getDocumentScrollTop()+this.options.offset;this.options.top<=t&&this.options.bottom>=t&&!this.el.classList.contains("pinned")&&(this._removePinClasses(),this.el.style.top=this.options.offset+"px",this.el.classList.add("pinned"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pinned")),t<this.options.top&&!this.el.classList.contains("pin-top")&&(this._removePinClasses(),this.el.style.top=0,this.el.classList.add("pin-top"),"function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-top")),t>this.options.bottom&&!this.el.classList.contains("pin-bottom")&&(this._removePinClasses(),this.el.classList.add("pin-bottom"),this.el.style.top=this.options.bottom-this.originalOffset+"px","function"==typeof this.options.onPositionChange&&this.options.onPositionChange.call(this,"pin-bottom"))}},{key:"_removePinClasses",value:function(){this.el.classList.remove("pin-top","pinned","pin-bottom")}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Pushpin}},{key:"_updateElements",value:function(){for(var t in i._pushpins){var e=i._pushpins[t];e._updatePosition()}}},{key:"defaults",get:function(){return e}}]),i}(l);n._pushpins=[],M.Pushpin=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"pushpin","M_Pushpin")}(cash),function(t,e){"use strict";var n={direction:"top",hoverEnabled:!0,toolbarEnabled:!1};t.fn.reverse=[].reverse;var i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_FloatingActionButton=i,i.options=t.extend({},r.defaults,n),i.isOpen=!1,i.$anchor=i.$el.children("a").first(),i.$menu=i.$el.children("ul").first(),i.$floatingBtns=i.$el.find("ul .btn-floating"),i.$floatingBtnsReverse=i.$el.find("ul .btn-floating").reverse(),i.offsetY=0,i.offsetX=0,"top"===i.options.direction?(i.$el.addClass("direction-top"),i.offsetY=40):"right"===i.options.direction?(i.$el.addClass("direction-right"),i.offsetX=-40):"bottom"===i.options.direction?(i.$el.addClass("direction-bottom"),i.offsetY=-40):(i.$el.addClass("direction-left"),i.offsetX=40),i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_FloatingActionButton=void 0}},{key:"_setupEventHandlers",value:function(){this._handleFABClickBound=this._handleFABClick.bind(this),this._handleOpenBound=this.open.bind(this),this._handleCloseBound=this.close.bind(this),this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.addEventListener("mouseenter",this._handleOpenBound),this.el.addEventListener("mouseleave",this._handleCloseBound)):this.el.addEventListener("click",this._handleFABClickBound)}},{key:"_removeEventHandlers",value:function(){this.options.hoverEnabled&&!this.options.toolbarEnabled?(this.el.removeEventListener("mouseenter",this._handleOpenBound),this.el.removeEventListener("mouseleave",this._handleCloseBound)):this.el.removeEventListener("click",this._handleFABClickBound)}},{key:"_handleFABClick",value:function(){this.isOpen?this.close():this.open()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(this.$menu).length||this.close()}},{key:"open",value:function(){this.isOpen||(this.options.toolbarEnabled?this._animateInToolbar():this._animateInFAB(),this.isOpen=!0)}},{key:"close",value:function(){this.isOpen&&(this.options.toolbarEnabled?(window.removeEventListener("scroll",this._handleCloseBound,!0),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),this._animateOutToolbar()):this._animateOutFAB(),this.isOpen=!1)}},{key:"_animateInFAB",value:function(){var t=this;this.$el.addClass("active");var n=0;this.$floatingBtnsReverse.each(function(i){e({targets:i,opacity:1,scale:[.4,1],translateY:[t.offsetY,0],translateX:[t.offsetX,0],duration:275,delay:n,easing:"easeInOutQuad"}),n+=40})}},{key:"_animateOutFAB",value:function(){var t=this;this.$floatingBtnsReverse.each(function(n){e.remove(n),e({targets:n,opacity:0,scale:.4,translateY:t.offsetY,translateX:t.offsetX,duration:175,easing:"easeOutQuad",complete:function(){t.$el.removeClass("active")}})})}},{key:"_animateInToolbar",value:function(){var e=this,n=void 0,i=window.innerWidth,r=window.innerHeight,o=this.el.getBoundingClientRect(),a=t('<div class="fab-backdrop"></div>'),s=this.$anchor.css("background-color");this.$anchor.append(a),this.offsetX=o.left-i/2+o.width/2,this.offsetY=r-o.bottom,n=i/a[0].clientWidth,this.btnBottom=o.bottom,this.btnLeft=o.left,this.btnWidth=o.width,this.$el.addClass("active"),this.$el.css({"text-align":"center",width:"100%",bottom:0,left:0,transform:"translateX("+this.offsetX+"px)",transition:"none"}),this.$anchor.css({transform:"translateY("+-this.offsetY+"px)",transition:"none"}),a.css({"background-color":s}),setTimeout(function(){e.$el.css({transform:"",transition:"transform .2s cubic-bezier(0.550, 0.085, 0.680, 0.530), background-color 0s linear .2s"}),e.$anchor.css({overflow:"visible",transform:"",transition:"transform .2s"}),setTimeout(function(){e.$el.css({overflow:"hidden","background-color":s}),a.css({transform:"scale("+n+")",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"}),e.$menu.children("li").children("a").css({opacity:1}),e._handleDocumentClickBound=e._handleDocumentClick.bind(e),window.addEventListener("scroll",e._handleCloseBound,!0),document.body.addEventListener("click",e._handleDocumentClickBound,!0)},100)},0)}},{key:"_animateOutToolbar",value:function(){var t=this,e=window.innerWidth,n=window.innerHeight,i=this.$el.find(".fab-backdrop"),r=this.$anchor.css("background-color");this.offsetX=this.btnLeft-e/2+this.btnWidth/2,this.offsetY=n-this.btnBottom,this.$el.removeClass("active"),this.$el.css({"background-color":"transparent",transition:"none"}),this.$anchor.css({transition:"none"}),i.css({transform:"scale(0)","background-color":r}),this.$menu.children("li").children("a").css({opacity:""}),setTimeout(function(){i.remove(),t.$el.css({"text-align":"",width:"",bottom:"",left:"",overflow:"","background-color":"",transform:"translate3d("+-t.offsetX+"px,0,0)"}),t.$anchor.css({overflow:"",transform:"translate3d(0,"+t.offsetY+"px,0)"}),setTimeout(function(){t.$el.css({transform:"translate3d(0,0,0)",transition:"transform .2s"}),t.$anchor.css({transform:"translate3d(0,0,0)",transition:"transform .2s cubic-bezier(0.550, 0.055, 0.675, 0.190)"})},20)},200)}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_FloatingActionButton}},{key:"defaults",get:function(){return n}}]),r}(l);M.FloatingActionButton=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"floatingActionButton","M_FloatingActionButton")}(cash,M.anime),function(t){"use strict";var e={format:"mmm dd, yyyy",parse:null,defaultDate:null,setDefaultDate:!1,disableWeekends:!1,disableDayFn:null,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,container:null,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok",previousMonth:"",nextMonth:"",months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysAbbrev:["S","M","T","W","T","F","S"]},events:[],onSelect:null,onOpen:null,onClose:null,onDraw:null},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));r.el.M_Datepicker=r,r.options=t.extend({},i.defaults,n),n&&n.hasOwnProperty("i18n")&&"object"==typeof n.i18n&&(r.options.i18n=t.extend({},i.defaults.i18n,n.i18n)),r.options.minDate&&r.options.minDate.setHours(0,0,0,0),r.options.maxDate&&r.options.maxDate.setHours(0,0,0,0),r.id=M.guid(),r._setupVariables(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupEventHandlers(),r.options.defaultDate||(r.options.defaultDate=new Date(Date.parse(r.el.value)),r.options.setDefaultDate=!0);var a=r.options.defaultDate;return i._isDate(a)?r.options.setDefaultDate?r.setDate(a,!0):r.gotoDate(a):r.gotoDate(new Date),r.isOpen=!1,r}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.destroySelects(),this.el.M_Datepicker=void 0}},{key:"destroySelects",value:function(){var t=this.calendarEl.querySelector(".pika-select-year");t&&M.FormSelect.getInstance(t).destroy();var e=this.calendarEl.querySelector(".pika-select-month");e&&M.FormSelect.getInstance(e).destroy()}},{key:"_insertHTMLIntoDOM",value:function(){this.options.showClearBtn&&(t(this.clearBtn).css({visibility:""}),this.clearBtn.innerHTML=this.options.i18n.clear),this.doneBtn.innerHTML=this.options.i18n.done,this.cancelBtn.innerHTML=this.options.i18n.cancel,this.options.container?this.$modalEl.appendTo(this.options.container):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modalEl.id="modal-"+this.id,this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"toString",value:function(t){var e=this;if(t=t||this.options.format,!i._isDate(this.date))return"";var n=t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g),r=n.map(function(t){return e.formats[t]?e.formats[t]():t}).join("");return r}},{key:"setDate",value:function(t,e){if(!t)return this.date=null,this._renderDateDisplay(),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),i._isDate(t)){var n=this.options.minDate,r=this.options.maxDate;i._isDate(n)&&t<n?t=n:i._isDate(r)&&t>r&&(t=r),this.date=new Date(t.getTime()),this._renderDateDisplay(),i._setToStartOfDay(this.date),this.gotoDate(this.date),e||"function"!=typeof this.options.onSelect||this.options.onSelect.call(this,this.date)}}},{key:"setInputValue",value:function(){this.el.value=this.toString(),this.$el.trigger("change",{firedBy:this})}},{key:"_renderDateDisplay",value:function(){var t=i._isDate(this.date)?this.date:new Date,e=this.options.i18n,n=e.weekdaysShort[t.getDay()],r=e.monthsShort[t.getMonth()],o=t.getDate();this.yearTextEl.innerHTML=t.getFullYear(),this.dateTextEl.innerHTML=n+", "+r+" "+o}},{key:"gotoDate",value:function(t){var e=!0;if(i._isDate(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=o<n.getTime()||r.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}]),this.adjustCalendars()}}},{key:"adjustCalendars",value:function(){this.calendars[0]=this.adjustCalendar(this.calendars[0]),this.draw()}},{key:"adjustCalendar",value:function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t}},{key:"nextMonth",value:function(){this.calendars[0].month++,this.adjustCalendars()}},{key:"prevMonth",value:function(){this.calendars[0].month--,this.adjustCalendars()}},{key:"render",value:function(t,e,n){var r=this.options,o=new Date,a=i._getDaysInMonth(t,e),s=new Date(t,e,1).getDay(),u=[],c=[];i._setToStartOfDay(o),r.firstDay>0&&(s-=r.firstDay,s<0&&(s+=7));for(var l=0===e?11:e-1,h=11===e?0:e+1,d=0===e?t-1:t,f=11===e?t+1:t,p=i._getDaysInMonth(d,l),v=a+s,m=v;m>7;)m-=7;v+=7-m;for(var y=!1,g=0,b=0;g<v;g++){var w=new Date(t,e,1+(g-s)),_=!!i._isDate(this.date)&&i._compareDates(w,this.date),E=i._compareDates(w,o),T=r.events.indexOf(w.toDateString())!==-1,C=g<s||g>=a+s,k=1+(g-s),S=e,I=t,O=r.startRange&&i._compareDates(r.startRange,w),D=r.endRange&&i._compareDates(r.endRange,w),A=r.startRange&&r.endRange&&r.startRange<w&&w<r.endRange,M=r.minDate&&w<r.minDate||r.maxDate&&w>r.maxDate||r.disableWeekends&&i._isWeekend(w)||r.disableDayFn&&r.disableDayFn(w);C&&(g<s?(k=p+k,S=l,I=d):(k-=a,S=h,I=f));var N={day:k,month:S,year:I,hasEvent:T,isSelected:_,isToday:E,isDisabled:M,isEmpty:C,isStartRange:O,isEndRange:D,isInRange:A,showDaysInNextAndPreviousMonths:r.showDaysInNextAndPreviousMonths};c.push(this.renderDay(N)),7===++b&&(u.push(this.renderRow(c,r.isRTL,y)),c=[],b=0,y=!1)}return this.renderTable(r,u,n)}},{key:"renderDay",value:function(t){var e=[],n="false";if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month"),e.push("is-selection-disabled")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&(e.push("is-selected"),n="true"),t.hasEvent&&e.push("has-event"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'" aria-selected="'+n+'"><button class="datepicker-day-button" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"}},{key:"renderRow",value:function(t,e,n){return'<tr class="pika-row'+(n?" is-selected":"")+'">'+(e?t.reverse():t).join("")+"</tr>"}},{key:"renderTable",value:function(t,e,n){return'<div class="datepicker-table-wrapper"><table cellpadding="0" cellspacing="0" class="datepicker-table" role="grid" aria-labelledby="'+n+'">'+this.renderHead(t)+this.renderBody(e)+"</table></div>"}},{key:"renderHead",value:function(t){var e=void 0,n=[];for(e=0;e<7;e++)n.push('<th scope="col"><abbr title="'+this.renderDayName(t,e)+'">'+this.renderDayName(t,e,!0)+"</abbr></th>");return"<thead><tr>"+(t.isRTL?n.reverse():n).join("")+"</tr></thead>"}},{key:"renderBody",value:function(t){return"<tbody>"+t.join("")+"</tbody>"}},{key:"renderTitle",value:function(e,n,i,r,o,a){var s=void 0,u=void 0,c=void 0,l=this.options,h=i===l.minYear,d=i===l.maxYear,f='<div id="'+a+'" class="datepicker-controls" role="heading" aria-live="assertive">',p=void 0,v=void 0,m=!0,y=!0;for(c=[],s=0;s<12;s++)c.push('<option value="'+(i===o?s-n:12+s-n)+'"'+(s===r?' selected="selected"':"")+(h&&s<l.minMonth||d&&s>l.maxMonth?'disabled="disabled"':"")+">"+l.i18n.months[s]+"</option>");for(p='<select class="pika-select pika-select-month" tabindex="-1">'+c.join("")+"</select>",t.isArray(l.yearRange)?(s=l.yearRange[0],u=l.yearRange[1]+1):(s=i-l.yearRange,u=1+i+l.yearRange),c=[];s<u&&s<=l.maxYear;s++)s>=l.minYear&&c.push('<option value="'+s+'"'+(s===i?' selected="selected"':"")+">"+s+"</option>");v='<select class="pika-select pika-select-year" tabindex="-1">'+c.join("")+"</select>";var g='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"/><path d="M0-.5h24v24H0z" fill="none"/></svg>';f+='<button class="month-prev'+(m?"":" is-disabled")+'" type="button">'+g+"</button>",f+='<div class="selects-container">',f+=l.showMonthAfterYear?v+p:p+v,f+="</div>",h&&(0===r||l.minMonth>=r)&&(m=!1),d&&(11===r||l.maxMonth<=r)&&(y=!1);var b='<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"/><path d="M0-.25h24v24H0z" fill="none"/></svg>';return f+='<button class="month-next'+(y?"":" is-disabled")+'" type="button">'+b+"</button>",f+="</div>"}},{key:"draw",value:function(t){if(this.isOpen||t){var e=this.options,n=e.minYear,i=e.maxYear,r=e.minMonth,o=e.maxMonth,a="",s=void 0;this._y<=n&&(this._y=n,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o)),s="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var u=0;u<1;u++)this._renderDateDisplay(),a+=this.renderTitle(this,u,this.calendars[u].year,this.calendars[u].month,this.calendars[0].year,s)+this.render(this.calendars[u].year,this.calendars[u].month,s);this.destroySelects(),this.calendarEl.innerHTML=a;var c=this.calendarEl.querySelector(".pika-select-year"),l=this.calendarEl.querySelector(".pika-select-month");M.FormSelect.init(c,{classes:"select-year",dropdownOptions:{container:document.body,constrainWidth:!1}}),M.FormSelect.init(l,{classes:"select-month",dropdownOptions:{container:document.body,constrainWidth:!1}}),c.addEventListener("change",this._handleYearChange.bind(this)),l.addEventListener("change",this._handleMonthChange.bind(this)),"function"==typeof this.options.onDraw&&this.options.onDraw(this)}}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleInputChangeBound=this._handleInputChange.bind(this),this._handleCalendarClickBound=this._handleCalendarClick.bind(this),this._finishSelectionBound=this._finishSelection.bind(this),this._handleMonthChange=this._handleMonthChange.bind(this),this._closeBound=this.close.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.el.addEventListener("change",this._handleInputChangeBound),this.calendarEl.addEventListener("click",this._handleCalendarClickBound),this.doneBtn.addEventListener("click",this._finishSelectionBound),this.cancelBtn.addEventListener("click",this._closeBound),this.options.showClearBtn&&(this._handleClearClickBound=this._handleClearClick.bind(this),this.clearBtn.addEventListener("click",this._handleClearClickBound))}},{key:"_setupVariables",value:function(){var e=this;this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.calendarEl=this.modalEl.querySelector(".pika-single"),this.yearTextEl=this.modalEl.querySelector(".year-text"),this.dateTextEl=this.modalEl.querySelector(".date-text"),this.options.showClearBtn&&(this.clearBtn=this.modalEl.querySelector(".datepicker-clear")),this.doneBtn=this.modalEl.querySelector(".datepicker-done"),this.cancelBtn=this.modalEl.querySelector(".datepicker-cancel"),this.formats={d:function(){return e.date.getDate()},dd:function(){var t=e.date.getDate();return(t<10?"0":"")+t},ddd:function(){return e.options.i18n.weekdaysShort[e.date.getDay()]},dddd:function(){return e.options.i18n.weekdays[e.date.getDay()]},m:function(){return e.date.getMonth()+1},mm:function(){var t=e.date.getMonth()+1;return(t<10?"0":"")+t},mmm:function(){return e.options.i18n.monthsShort[e.date.getMonth()]},mmmm:function(){return e.options.i18n.months[e.date.getMonth()]},yy:function(){return(""+e.date.getFullYear()).slice(2)},yyyy:function(){return e.date.getFullYear()}}}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound),this.el.removeEventListener("change",this._handleInputChangeBound),this.calendarEl.removeEventListener("click",this._handleCalendarClickBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleCalendarClick",value:function(e){if(this.isOpen){var n=t(e.target);n.hasClass("is-disabled")||(!n.hasClass("datepicker-day-button")||n.hasClass("is-empty")||n.parent().hasClass("is-disabled")?n.closest(".month-prev").length?this.prevMonth():n.closest(".month-next").length&&this.nextMonth():this.setDate(new Date(e.target.getAttribute("data-pika-year"),e.target.getAttribute("data-pika-month"),e.target.getAttribute("data-pika-day"))))}}},{key:"_handleClearClick",value:function(){this.date=null,this.setInputValue(),this.close()}},{key:"_handleMonthChange",value:function(t){this.gotoMonth(t.target.value)}},{key:"_handleYearChange",value:function(t){this.gotoYear(t.target.value)}},{key:"gotoMonth",value:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())}},{key:"gotoYear",value:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())}},{key:"_handleInputChange",value:function(t){var e=void 0;t.firedBy!==this&&(e=this.options.parse?this.options.parse(this.el.value,this.options.format):new Date(Date.parse(this.el.value)),i._isDate(e)&&this.setDate(e))}},{key:"renderDayName",value:function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysAbbrev[e]:t.i18n.weekdays[e]}},{key:"_finishSelection",value:function(){this.setInputValue(),this.close()}},{key:"open",value:function(){if(!this.isOpen)return this.isOpen=!0,"function"==typeof this.options.onOpen&&this.options.onOpen.call(this),this.draw(),this.modal.open(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,"function"==typeof this.options.onClose&&this.options.onClose.call(this),this.modal.close(),this}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_isDate",value:function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())}},{key:"_isWeekend",value:function(t){var e=t.getDay();return 0===e||6===e}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"_getDaysInMonth",value:function(t,e){return[31,i._isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]}},{key:"_isLeapYear",value:function(t){return t%4===0&&t%100!==0||t%400===0}},{key:"_compareDates",value:function(t,e){return t.getTime()===e.getTime()}},{key:"_setToStartOfDay",value:function(t){i._isDate(t)&&t.setHours(0,0,0,0)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Datepicker}},{key:"defaults",get:function(){return e}}]),i}(l);n._template=['<div class= "modal datepicker-modal">','<div class="modal-content datepicker-container">','<div class="datepicker-date-display">','<span class="year-text"></span>','<span class="date-text"></span>',"</div>",'<div class="datepicker-calendar-container">','<div class="pika-single"></div>','<div class="datepicker-footer">','<button class="btn-flat datepicker-clear waves-effect" style="visibility: hidden;" type="button"></button>','<div class="confirmation-btns">','<button class="btn-flat datepicker-cancel waves-effect" type="button"></button>','<button class="btn-flat datepicker-done waves-effect" type="button"></button>',"</div>","</div>","</div>","</div>","</div>"].join(""),M.Datepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"datepicker","M_Datepicker")}(cash),function(t){"use strict";var e={dialRadius:135,outerRadius:105,innerRadius:70,tickRadius:20,duration:350,container:null,defaultTime:"now",fromNow:0,showClearBtn:!1,i18n:{cancel:"Cancel",clear:"Clear",done:"Ok"},autoClose:!1,twelveHour:!0,vibrate:!0},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Timepicker=r,r.options=t.extend({},i.defaults,n),r.id=M.guid(),r._insertHTMLIntoDOM(),r._setupModal(),r._setupVariables(),r._setupEventHandlers(),r._clockSetup(),r._pickerSetup(),r}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.modal.destroy(),t(this.modalEl).remove(),this.el.M_Timepicker=void 0}},{key:"_setupEventHandlers",value:function(){this._handleInputKeydownBound=this._handleInputKeydown.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),this._handleClockClickStartBound=this._handleClockClickStart.bind(this),this._handleDocumentClickMoveBound=this._handleDocumentClickMove.bind(this),this._handleDocumentClickEndBound=this._handleDocumentClickEnd.bind(this),this.el.addEventListener("click",this._handleInputClickBound),this.el.addEventListener("keydown",this._handleInputKeydownBound),this.plate.addEventListener("mousedown",this._handleClockClickStartBound),this.plate.addEventListener("touchstart",this._handleClockClickStartBound),t(this.spanHours).on("click",this.showView.bind(this,"hours")),t(this.spanMinutes).on("click",this.showView.bind(this,"minutes"))}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleInputClickBound),this.el.removeEventListener("keydown",this._handleInputKeydownBound)}},{key:"_handleInputClick",value:function(){this.open()}},{key:"_handleInputKeydown",value:function(t){t.which===M.keys.ENTER&&(t.preventDefault(),this.open())}},{key:"_handleClockClickStart",value:function(t){t.preventDefault();var e=this.plate.getBoundingClientRect(),n={x:e.left,y:e.top};this.x0=n.x+this.options.dialRadius,this.y0=n.y+this.options.dialRadius,this.moved=!1;var r=i._Pos(t);this.dx=r.x-this.x0,this.dy=r.y-this.y0,this.setHand(this.dx,this.dy,!1),document.addEventListener("mousemove",this._handleDocumentClickMoveBound),document.addEventListener("touchmove",this._handleDocumentClickMoveBound),document.addEventListener("mouseup",this._handleDocumentClickEndBound),document.addEventListener("touchend",this._handleDocumentClickEndBound)}},{key:"_handleDocumentClickMove",value:function(t){t.preventDefault();var e=i._Pos(t),n=e.x-this.x0,r=e.y-this.y0;this.moved=!0,this.setHand(n,r,!1,!0)}},{key:"_handleDocumentClickEnd",value:function(e){var n=this;e.preventDefault(),document.removeEventListener("mouseup",this._handleDocumentClickEndBound),document.removeEventListener("touchend",this._handleDocumentClickEndBound);var r=i._Pos(e),o=r.x-this.x0,a=r.y-this.y0;this.moved&&o===this.dx&&a===this.dy&&this.setHand(o,a),"hours"===this.currentView?this.showView("minutes",this.options.duration/2):this.options.autoClose&&(t(this.minutesView).addClass("timepicker-dial-out"),setTimeout(function(){n.done()},this.options.duration/2)),document.removeEventListener("mousemove",this._handleDocumentClickMoveBound),document.removeEventListener("touchmove",this._handleDocumentClickMoveBound)}},{key:"_insertHTMLIntoDOM",value:function(){this.$modalEl=t(i._template),this.modalEl=this.$modalEl[0],this.modalEl.id="modal-"+this.id;var e=document.querySelector(this.options.container);this.options.container&&e?this.$modalEl.appendTo(e):this.$modalEl.insertBefore(this.el)}},{key:"_setupModal",value:function(){var t=this;this.modal=M.Modal.init(this.modalEl,{onCloseEnd:function(){t.isOpen=!1}})}},{key:"_setupVariables",value:function(){this.currentView="hours",this.vibrate=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,this._canvas=this.modalEl.querySelector(".timepicker-canvas"),this.plate=this.modalEl.querySelector(".timepicker-plate"),this.hoursView=this.modalEl.querySelector(".timepicker-hours"),this.minutesView=this.modalEl.querySelector(".timepicker-minutes"),this.spanHours=this.modalEl.querySelector(".timepicker-span-hours"),this.spanMinutes=this.modalEl.querySelector(".timepicker-span-minutes"),this.spanAmPm=this.modalEl.querySelector(".timepicker-span-am-pm"),this.footer=this.modalEl.querySelector(".timepicker-footer"),this.amOrPm="PM"}},{key:"_pickerSetup",value:function(){var e=t('<button class="btn-flat timepicker-clear waves-effect" style="visibility: hidden;" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.clear+"</button>").appendTo(this.footer).on("click",this.clear.bind(this));this.options.showClearBtn&&e.css({visibility:""});var n=t('<div class="confirmation-btns"></div>');t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.cancel+"</button>").appendTo(n).on("click",this.close.bind(this)),t('<button class="btn-flat timepicker-close waves-effect" type="button" tabindex="'+(this.options.twelveHour?"3":"1")+'">'+this.options.i18n.done+"</button>").appendTo(n).on("click",this.done.bind(this)),n.appendTo(this.footer)}},{key:"_clockSetup",value:function(){this.options.twelveHour&&(this.$amBtn=t('<div class="am-btn">AM</div>'),this.$pmBtn=t('<div class="pm-btn">PM</div>'),this.$amBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm),this.$pmBtn.on("click",this._handleAmPmClick.bind(this)).appendTo(this.spanAmPm)),this._buildHoursView(),this._buildMinutesView(),this._buildSVGClock()}},{key:"_buildSVGClock",value:function(){var t=this.options.dialRadius,e=this.options.tickRadius,n=2*t,r=i._createSVGEl("svg");r.setAttribute("class","timepicker-svg"),r.setAttribute("width",n),r.setAttribute("height",n);var o=i._createSVGEl("g");o.setAttribute("transform","translate("+t+","+t+")");var a=i._createSVGEl("circle");a.setAttribute("class","timepicker-canvas-bearing"),a.setAttribute("cx",0),a.setAttribute("cy",0),a.setAttribute("r",4);var s=i._createSVGEl("line");s.setAttribute("x1",0),s.setAttribute("y1",0);var u=i._createSVGEl("circle");u.setAttribute("class","timepicker-canvas-bg"),u.setAttribute("r",e),o.appendChild(s),o.appendChild(u),o.appendChild(a),r.appendChild(o),this._canvas.appendChild(r),this.hand=s,this.bg=u,this.bearing=a,this.g=o}},{key:"_buildHoursView",value:function(){var e=t('<div class="timepicker-tick"></div>');if(this.options.twelveHour)for(var n=1;n<13;n+=1){var i=e.clone(),r=n/6*Math.PI,o=this.options.outerRadius;i.css({left:this.options.dialRadius+Math.sin(r)*o-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(r)*o-this.options.tickRadius+"px"}),i.html(0===n?"00":n),this.hoursView.appendChild(i[0])}else for(var a=0;a<24;a+=1){var s=e.clone(),u=a/6*Math.PI,c=a>0&&a<13,l=c?this.options.innerRadius:this.options.outerRadius;s.css({left:this.options.dialRadius+Math.sin(u)*l-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(u)*l-this.options.tickRadius+"px"}),s.html(0===a?"00":a),this.hoursView.appendChild(s[0])}}},{key:"_buildMinutesView",value:function(){for(var e=t('<div class="timepicker-tick"></div>'),n=0;n<60;n+=5){var r=e.clone(),o=n/30*Math.PI;r.css({left:this.options.dialRadius+Math.sin(o)*this.options.outerRadius-this.options.tickRadius+"px",top:this.options.dialRadius-Math.cos(o)*this.options.outerRadius-this.options.tickRadius+"px"}),r.html(i._addLeadingZero(n)),this.minutesView.appendChild(r[0])}}},{key:"_handleAmPmClick",value:function(e){var n=t(e.target);this.amOrPm=n.hasClass("am-btn")?"AM":"PM",this._updateAmPmView()}},{key:"_updateAmPmView",value:function(){this.options.twelveHour&&(this.$amBtn.toggleClass("text-primary","AM"===this.amOrPm),this.$pmBtn.toggleClass("text-primary","PM"===this.amOrPm))}},{key:"_updateTimeFromInput",value:function(){var t=((this.el.value||this.options.defaultTime||"")+"").split(":");if(this.options.twelveHour&&"undefined"!=typeof t[1]&&(t[1].toUpperCase().indexOf("AM")>0?this.amOrPm="AM":this.amOrPm="PM",t[1]=t[1].replace("AM","").replace("PM","")),"now"===t[0]){var e=new Date(+new Date+this.options.fromNow);t=[e.getHours(),e.getMinutes()],this.options.twelveHour&&(this.amOrPm=t[0]>=12&&t[0]<24?"PM":"AM")}this.hours=+t[0]||0,this.minutes=+t[1]||0,this.spanHours.innerHTML=this.hours,this.spanMinutes.innerHTML=i._addLeadingZero(this.minutes),this._updateAmPmView()}},{key:"showView",value:function(e,n){"minutes"===e&&"visible"===t(this.hoursView).css("visibility");var i="hours"===e,r=i?this.hoursView:this.minutesView,o=i?this.minutesView:this.hoursView;this.currentView=e,t(this.spanHours).toggleClass("text-primary",i),t(this.spanMinutes).toggleClass("text-primary",!i),o.classList.add("timepicker-dial-out"),t(r).css("visibility","visible").removeClass("timepicker-dial-out"),this.resetClock(n),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){t(o).css("visibility","hidden")},this.options.duration)}},{key:"resetClock",value:function(e){var n=this.currentView,i=this[n],r="hours"===n,o=Math.PI/(r?6:30),a=i*o,s=r&&i>0&&i<13?this.options.innerRadius:this.options.outerRadius,u=Math.sin(a)*s,c=-Math.cos(a)*s,l=this;
e?(t(this.canvas).addClass("timepicker-canvas-out"),setTimeout(function(){t(l.canvas).removeClass("timepicker-canvas-out"),l.setHand(u,c)},e)):this.setHand(u,c)}},{key:"setHand",value:function(t,e,n){var r=this,o=Math.atan2(t,-e),a="hours"===this.currentView,s=Math.PI/(a||n?6:30),u=Math.sqrt(t*t+e*e),c=a&&u<(this.options.outerRadius+this.options.innerRadius)/2,l=c?this.options.innerRadius:this.options.outerRadius;this.options.twelveHour&&(l=this.options.outerRadius),o<0&&(o=2*Math.PI+o);var h=Math.round(o/s);o=h*s,this.options.twelveHour?a?0===h&&(h=12):(n&&(h*=5),60===h&&(h=0)):a?(12===h&&(h=0),h=c?0===h?12:h:0===h?0:h+12):(n&&(h*=5),60===h&&(h=0)),this[this.currentView]!==h&&this.vibrate&&this.options.vibrate&&(this.vibrateTimer||(navigator[this.vibrate](10),this.vibrateTimer=setTimeout(function(){r.vibrateTimer=null},100))),this[this.currentView]=h,a?this.spanHours.innerHTML=h:this.spanMinutes.innerHTML=i._addLeadingZero(h);var d=Math.sin(o)*(l-this.options.tickRadius),f=-Math.cos(o)*(l-this.options.tickRadius),p=Math.sin(o)*l,v=-Math.cos(o)*l;this.hand.setAttribute("x2",d),this.hand.setAttribute("y2",f),this.bg.setAttribute("cx",p),this.bg.setAttribute("cy",v)}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this._updateTimeFromInput(),this.showView("hours"),this.modal.open())}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.modal.close())}},{key:"done",value:function(t,e){var n=this.el.value,r=e?"":i._addLeadingZero(this.hours)+":"+i._addLeadingZero(this.minutes);this.time=r,!e&&this.options.twelveHour&&(r=r+" "+this.amOrPm),this.el.value=r,r!==n&&this.$el.trigger("change"),this.close(),this.el.focus()}},{key:"clear",value:function(){this.done(null,!0)}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"_addLeadingZero",value:function(t){return(t<10?"0":"")+t}},{key:"_createSVGEl",value:function(t){var e="http://www.w3.org/2000/svg";return document.createElementNS(e,t)}},{key:"_Pos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?{x:t.targetTouches[0].clientX,y:t.targetTouches[0].clientY}:{x:t.clientX,y:t.clientY}}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Timepicker}},{key:"defaults",get:function(){return e}}]),i}(l);n._template=['<div class= "modal timepicker-modal">','<div class="modal-content timepicker-container">','<div class="timepicker-digital-display">','<div class="timepicker-text-container">','<div class="timepicker-display-column">','<span class="timepicker-span-hours text-primary"></span>',":",'<span class="timepicker-span-minutes"></span>',"</div>",'<div class="timepicker-display-column timepicker-display-am-pm">','<div class="timepicker-span-am-pm"></div>',"</div>","</div>","</div>",'<div class="timepicker-analog-display">','<div class="timepicker-plate">','<div class="timepicker-canvas"></div>','<div class="timepicker-dial timepicker-hours"></div>','<div class="timepicker-dial timepicker-minutes timepicker-dial-out"></div>',"</div>",'<div class="timepicker-footer"></div>',"</div>","</div>","</div>"].join(""),M.Timepicker=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"timepicker","M_Timepicker")}(cash),function(t){"use strict";var e={},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_CharacterCounter=r,r.options=t.extend({},i.defaults,n),r.isInvalid=!1,r.isValidLength=!1,r._setupCounter(),r._setupEventHandlers(),r}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.CharacterCounter=void 0,this._removeCounter()}},{key:"_setupEventHandlers",value:function(){this._handleUpdateCounterBound=this.updateCounter.bind(this),this.el.addEventListener("focus",this._handleUpdateCounterBound,!0),this.el.addEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("focus",this._handleUpdateCounterBound,!0),this.el.removeEventListener("input",this._handleUpdateCounterBound,!0)}},{key:"_setupCounter",value:function(){this.counterEl=document.createElement("span"),t(this.counterEl).addClass("character-counter").css({float:"right","font-size":"12px",height:1}),this.$el.parent().append(this.counterEl)}},{key:"_removeCounter",value:function(){t(this.counterEl).remove()}},{key:"updateCounter",value:function(){var e=+this.$el.attr("data-length"),n=this.el.value.length;this.isValidLength=n<=e;var i=n;e&&(i+="/"+e,this._validateInput()),t(this.counterEl).html(i)}},{key:"_validateInput",value:function(){this.isValidLength&&this.isInvalid?(this.isInvalid=!1,this.$el.removeClass("invalid")):this.isValidLength||this.isInvalid||(this.isInvalid=!0,this.$el.removeClass("valid"),this.$el.addClass("invalid"))}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_CharacterCounter}},{key:"defaults",get:function(){return e}}]),i}(l);M.CharacterCounter=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"characterCounter","M_CharacterCounter")}(cash),function(t){"use strict";var e={duration:200,dist:-100,shift:0,padding:0,numVisible:5,fullWidth:!1,indicators:!1,noWrap:!1,onCycleTo:null},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_Carousel=r,r.options=t.extend({},i.defaults,n),r.hasMultipleSlides=r.$el.find(".carousel-item").length>1,r.showIndicators=r.options.indicators&&r.hasMultipleSlides,r.noWrap=r.options.noWrap||!r.hasMultipleSlides,r.pressed=!1,r.dragged=!1,r.offset=r.target=0,r.images=[],r.itemWidth=r.$el.find(".carousel-item").first().innerWidth(),r.itemHeight=r.$el.find(".carousel-item").first().innerHeight(),r.dim=2*r.itemWidth+r.options.padding||1,r._autoScrollBound=r._autoScroll.bind(r),r._trackBound=r._track.bind(r),r.options.fullWidth&&(r.options.dist=0,r._setCarouselHeight(),r.showIndicators&&r.$el.find(".carousel-fixed-item").addClass("with-indicators")),r.$indicators=t('<ul class="indicators"></ul>'),r.$el.find(".carousel-item").each(function(e,n){if(r.images.push(e),r.showIndicators){var i=t('<li class="indicator-item"></li>');0===n&&i[0].classList.add("active"),r.$indicators.append(i)}}),r.showIndicators&&r.$el.append(r.$indicators),r.count=r.images.length,r.options.numVisible=Math.min(r.count,r.options.numVisible),r.xform="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return"undefined"==typeof document.body.style[e]||(r.xform=e,!1)}),r._setupEventHandlers(),r._scroll(r.offset),r}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.M_Carousel=void 0}},{key:"_setupEventHandlers",value:function(){var t=this;this._handleCarouselTapBound=this._handleCarouselTap.bind(this),this._handleCarouselDragBound=this._handleCarouselDrag.bind(this),this._handleCarouselReleaseBound=this._handleCarouselRelease.bind(this),this._handleCarouselClickBound=this._handleCarouselClick.bind(this),"undefined"!=typeof window.ontouchstart&&(this.el.addEventListener("touchstart",this._handleCarouselTapBound),this.el.addEventListener("touchmove",this._handleCarouselDragBound),this.el.addEventListener("touchend",this._handleCarouselReleaseBound)),this.el.addEventListener("mousedown",this._handleCarouselTapBound),this.el.addEventListener("mousemove",this._handleCarouselDragBound),this.el.addEventListener("mouseup",this._handleCarouselReleaseBound),this.el.addEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.addEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&(this._handleIndicatorClickBound=this._handleIndicatorClick.bind(this),this.$indicators.find(".indicator-item").each(function(e,n){e.addEventListener("click",t._handleIndicatorClickBound)}));var e=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=e.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){var t=this;"undefined"!=typeof window.ontouchstart&&(this.el.removeEventListener("touchstart",this._handleCarouselTapBound),this.el.removeEventListener("touchmove",this._handleCarouselDragBound),this.el.removeEventListener("touchend",this._handleCarouselReleaseBound)),this.el.removeEventListener("mousedown",this._handleCarouselTapBound),this.el.removeEventListener("mousemove",this._handleCarouselDragBound),this.el.removeEventListener("mouseup",this._handleCarouselReleaseBound),this.el.removeEventListener("mouseleave",this._handleCarouselReleaseBound),this.el.removeEventListener("click",this._handleCarouselClickBound),this.showIndicators&&this.$indicators&&this.$indicators.find(".indicator-item").each(function(e,n){e.removeEventListener("click",t._handleIndicatorClickBound)}),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleCarouselTap",value:function(e){"mousedown"===e.type&&t(e.target).is("img")&&e.preventDefault(),this.pressed=!0,this.dragged=!1,this.verticalDragged=!1,this.reference=this._xpos(e),this.referenceY=this._ypos(e),this.velocity=this.amplitude=0,this.frame=this.offset,this.timestamp=Date.now(),clearInterval(this.ticker),this.ticker=setInterval(this._trackBound,100)}},{key:"_handleCarouselDrag",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0;if(this.pressed)if(e=this._xpos(t),n=this._ypos(t),i=this.reference-e,r=Math.abs(this.referenceY-n),r<30&&!this.verticalDragged)(i>2||i<-2)&&(this.dragged=!0,this.reference=e,this._scroll(this.offset+i));else{if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1;this.verticalDragged=!0}if(this.dragged)return t.preventDefault(),t.stopPropagation(),!1}},{key:"_handleCarouselRelease",value:function(t){if(this.pressed)return this.pressed=!1,clearInterval(this.ticker),this.target=this.offset,(this.velocity>10||this.velocity<-10)&&(this.amplitude=.9*this.velocity,this.target=this.offset+this.amplitude),this.target=Math.round(this.target/this.dim)*this.dim,this.noWrap&&(this.target>=this.dim*(this.count-1)?this.target=this.dim*(this.count-1):this.target<0&&(this.target=0)),this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound),this.dragged&&(t.preventDefault(),t.stopPropagation()),!1}},{key:"_handleCarouselClick",value:function(e){if(this.dragged)return e.preventDefault(),e.stopPropagation(),!1;if(!this.options.fullWidth){var n=t(e.target).closest(".carousel-item").index(),i=this._wrap(this.center)-n;0!==i&&(e.preventDefault(),e.stopPropagation()),this._cycleTo(n)}}},{key:"_handleIndicatorClick",value:function(e){e.stopPropagation();var n=t(e.target).closest(".indicator-item");n.length&&this._cycleTo(n.index())}},{key:"_handleResize",value:function(t){this.options.fullWidth?(this.itemWidth=this.$el.find(".carousel-item").first().innerWidth(),this.imageHeight=this.$el.find(".carousel-item.active").height(),this.dim=2*this.itemWidth+this.options.padding,this.offset=2*this.center*this.itemWidth,this.target=this.offset,this._setCarouselHeight(!0)):this._scroll()}},{key:"_setCarouselHeight",value:function(t){var e=this,n=this.$el.find(".carousel-item.active").length?this.$el.find(".carousel-item.active").first():this.$el.find(".carousel-item").first(),i=n.find("img").first();if(i.length)if(i[0].complete){var r=i.height();if(r>0)this.$el.css("height",r+"px");else{var o=i[0].naturalWidth,a=i[0].naturalHeight,s=this.$el.width()/o*a;this.$el.css("height",s+"px")}}else i.one("load",function(t,n){e.$el.css("height",t.offsetHeight+"px")});else if(!t){var u=n.height();this.$el.css("height",u+"px")}}},{key:"_xpos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}},{key:"_ypos",value:function(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}},{key:"_wrap",value:function(t){return t>=this.count?t%this.count:t<0?this._wrap(this.count+t%this.count):t}},{key:"_track",value:function(){var t=void 0,e=void 0,n=void 0,i=void 0;t=Date.now(),e=t-this.timestamp,this.timestamp=t,n=this.offset-this.frame,this.frame=this.offset,i=1e3*n/(1+e),this.velocity=.8*i+.2*this.velocity}},{key:"_autoScroll",value:function(){var t=void 0,e=void 0;this.amplitude&&(t=Date.now()-this.timestamp,e=this.amplitude*Math.exp(-t/this.options.duration),e>2||e<-2?(this._scroll(this.target-e),requestAnimationFrame(this._autoScrollBound)):this._scroll(this.target))}},{key:"_scroll",value:function(e){var n=this;this.$el.hasClass("scrolling")||this.el.classList.add("scrolling"),null!=this.scrollingTimeout&&window.clearTimeout(this.scrollingTimeout),this.scrollingTimeout=window.setTimeout(function(){n.$el.removeClass("scrolling")},this.options.duration);var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,d=void 0,f=this.center,p=1/this.options.numVisible;if(this.offset="number"==typeof e?e:this.offset,this.center=Math.floor((this.offset+this.dim/2)/this.dim),o=this.offset-this.center*this.dim,a=o<0?1:-1,s=-a*o*2/this.dim,r=this.count>>1,this.options.fullWidth?(c="translateX(0)",d=1):(c="translateX("+(this.el.clientWidth-this.itemWidth)/2+"px) ",c+="translateY("+(this.el.clientHeight-this.itemHeight)/2+"px)",d=1-p*s),this.showIndicators){var v=this.center%this.count,m=this.$indicators.find(".indicator-item.active");m.index()!==v&&(m.removeClass("active"),this.$indicators.find(".indicator-item").eq(v)[0].classList.add("active"))}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)],t(u).hasClass("active")||(this.$el.find(".carousel-item").removeClass("active"),u.classList.add("active"));var y=c+" translateX("+-o/2+"px) translateX("+a*this.options.shift*s*i+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,d,0,y)}for(i=1;i<=r;++i){if(this.options.fullWidth?(l=this.options.dist,h=i===r&&o<0?1-s:1):(l=this.options.dist*(2*i+s*a),h=1-p*(2*i+s*a)),!this.noWrap||this.center+i<this.count){u=this.images[this._wrap(this.center+i)];var g=c+" translateX("+(this.options.shift+(this.dim*i-o)/2)+"px) translateZ("+l+"px)";this._updateItemStyle(u,h,-i,g)}if(this.options.fullWidth?(l=this.options.dist,h=i===r&&o>0?1-s:1):(l=this.options.dist*(2*i-s*a),h=1-p*(2*i-s*a)),!this.noWrap||this.center-i>=0){u=this.images[this._wrap(this.center-i)];var b=c+" translateX("+(-this.options.shift+(-this.dim*i-o)/2)+"px) translateZ("+l+"px)";this._updateItemStyle(u,h,-i,b)}}if(!this.noWrap||this.center>=0&&this.center<this.count){u=this.images[this._wrap(this.center)];var w=c+" translateX("+-o/2+"px) translateX("+a*this.options.shift*s+"px) translateZ("+this.options.dist*s+"px)";this._updateItemStyle(u,d,0,w)}var _=this.$el.find(".carousel-item").eq(this._wrap(this.center));f!==this.center&&"function"==typeof this.options.onCycleTo&&this.options.onCycleTo.call(this,_[0],this.dragged),"function"==typeof this.oneTimeCallback&&(this.oneTimeCallback.call(this,_[0],this.dragged),this.oneTimeCallback=null)}},{key:"_updateItemStyle",value:function(t,e,n,i){t.style[this.xform]=i,t.style.zIndex=n,t.style.opacity=e,t.style.visibility="visible"}},{key:"_cycleTo",value:function(t,e){var n=this.center%this.count-t;this.noWrap||(n<0?Math.abs(n+this.count)<Math.abs(n)&&(n+=this.count):n>0&&Math.abs(n-this.count)<n&&(n-=this.count)),this.target=this.dim*Math.round(this.offset/this.dim),n<0?this.target+=this.dim*Math.abs(n):n>0&&(this.target-=this.dim*n),"function"==typeof e&&(this.oneTimeCallback=e),this.offset!==this.target&&(this.amplitude=this.target-this.offset,this.timestamp=Date.now(),requestAnimationFrame(this._autoScrollBound))}},{key:"next",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center+t;if(e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"prev",value:function(t){(void 0===t||isNaN(t))&&(t=1);var e=this.center-t;if(e>this.count||e<0){if(this.noWrap)return;e=this._wrap(e)}this._cycleTo(e)}},{key:"set",value:function(t,e){if((void 0===t||isNaN(t))&&(t=0),t>this.count||t<0){if(this.noWrap)return;t=this._wrap(t)}this._cycleTo(t,e)}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Carousel}},{key:"defaults",get:function(){return e}}]),i}(l);M.Carousel=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"carousel","M_Carousel")}(cash),function(t){"use strict";var e={onOpen:void 0,onClose:void 0},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.el.M_TapTarget=r,r.options=t.extend({},i.defaults,n),r.isOpen=!1,r.$origin=t("#"+r.$el.attr("data-target")),r._setup(),r._calculatePositioning(),r._setupEventHandlers(),r}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this.el.TapTarget=void 0}},{key:"_setupEventHandlers",value:function(){this._handleDocumentClickBound=this._handleDocumentClick.bind(this),this._handleTargetClickBound=this._handleTargetClick.bind(this),this._handleOriginClickBound=this._handleOriginClick.bind(this),this.el.addEventListener("click",this._handleTargetClickBound),this.originEl.addEventListener("click",this._handleOriginClickBound);var t=M.throttle(this._handleResize,200);this._handleThrottledResizeBound=t.bind(this),window.addEventListener("resize",this._handleThrottledResizeBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("click",this._handleTargetClickBound),this.originEl.removeEventListener("click",this._handleOriginClickBound),window.removeEventListener("resize",this._handleThrottledResizeBound)}},{key:"_handleTargetClick",value:function(t){this.open()}},{key:"_handleOriginClick",value:function(t){this.close()}},{key:"_handleResize",value:function(t){this._calculatePositioning()}},{key:"_handleDocumentClick",value:function(e){t(e.target).closest(".tap-target-wrapper").length||(this.close(),e.preventDefault(),e.stopPropagation())}},{key:"_setup",value:function(){this.wrapper=this.$el.parent()[0],this.waveEl=t(this.wrapper).find(".tap-target-wave")[0],this.originEl=t(this.wrapper).find(".tap-target-origin")[0],this.contentEl=this.$el.find(".tap-target-content")[0],t(this.wrapper).hasClass(".tap-target-wrapper")||(this.wrapper=document.createElement("div"),this.wrapper.classList.add("tap-target-wrapper"),this.$el.before(t(this.wrapper)),this.wrapper.append(this.el)),this.contentEl||(this.contentEl=document.createElement("div"),this.contentEl.classList.add("tap-target-content"),this.$el.append(this.contentEl)),this.waveEl||(this.waveEl=document.createElement("div"),this.waveEl.classList.add("tap-target-wave"),this.originEl||(this.originEl=this.$origin.clone(!0,!0),this.originEl.addClass("tap-target-origin"),this.originEl.removeAttr("id"),this.originEl.removeAttr("style"),this.originEl=this.originEl[0],this.waveEl.append(this.originEl)),this.wrapper.append(this.waveEl))}},{key:"_calculatePositioning",value:function(){var e="fixed"===this.$origin.css("position");if(!e)for(var n=this.$origin.parents(),i=0;i<n.length&&!(e="fixed"==t(n[i]).css("position"));i++);var r=this.$origin.outerWidth(),o=this.$origin.outerHeight(),a=e?this.$origin.offset().top-M.getDocumentScrollTop():this.$origin.offset().top,s=e?this.$origin.offset().left-M.getDocumentScrollLeft():this.$origin.offset().left,u=window.innerWidth,c=window.innerHeight,l=u/2,h=c/2,d=s<=l,f=s>l,p=a<=h,v=a>h,m=s>=.25*u&&s<=.75*u,y=this.$el.outerWidth(),g=this.$el.outerHeight(),b=a+o/2-g/2,w=s+r/2-y/2,_=e?"fixed":"absolute",E=m?y:y/2+r,T=g/2,C=p?g/2:0,k=0,S=d&&!m?y/2-r:0,I=0,O=r,D=v?"bottom":"top",A=r>o?2*r:2*r,N=A,P=g/2-N/2,R=y/2-A/2,x={};x.top=p?b+"px":"",x.right=f?u-w-y+"px":"",x.bottom=v?c-b-g+"px":"",x.left=d?w+"px":"",x.position=_,t(this.wrapper).css(x),t(this.contentEl).css({width:E+"px",height:T+"px",top:C+"px",right:I+"px",bottom:k+"px",left:S+"px",padding:O+"px",verticalAlign:D}),t(this.waveEl).css({top:P+"px",left:R+"px",width:A+"px",height:N+"px"})}},{key:"open",value:function(){this.isOpen||("function"==typeof this.options.onOpen&&this.options.onOpen.call(this,this.$origin[0]),this.isOpen=!0,this.wrapper.classList.add("open"),document.body.addEventListener("click",this._handleDocumentClickBound,!0),document.body.addEventListener("touchend",this._handleDocumentClickBound))}},{key:"close",value:function(){this.isOpen&&("function"==typeof this.options.onClose&&this.options.onClose.call(this,this.$origin[0]),this.isOpen=!1,this.wrapper.classList.remove("open"),document.body.removeEventListener("click",this._handleDocumentClickBound,!0),document.body.removeEventListener("touchend",this._handleDocumentClickBound))}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_TapTarget}},{key:"defaults",get:function(){return e}}]),i}(l);M.TapTarget=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"tapTarget","M_TapTarget")}(cash),function(t){"use strict";var e={classes:"",dropdownOptions:{}},n=function(n){function i(e,n){s(this,i);var r=o(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,i,e,n));return r.$el.hasClass("browser-default")?o(r):(r.el.M_FormSelect=r,r.options=t.extend({},i.defaults,n),r.isMultiple=r.$el.prop("multiple"),r.el.tabIndex=-1,r._keysSelected={},r._valueDict={},r._setupDropdown(),r._setupEventHandlers(),r)}return a(i,n),c(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeDropdown(),this.el.M_FormSelect=void 0}},{key:"_setupEventHandlers",value:function(){var e=this;this._handleSelectChangeBound=this._handleSelectChange.bind(this),this._handleOptionClickBound=this._handleOptionClick.bind(this),this._handleInputClickBound=this._handleInputClick.bind(this),t(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.addEventListener("click",e._handleOptionClickBound)}),this.el.addEventListener("change",this._handleSelectChangeBound),this.input.addEventListener("click",this._handleInputClickBound)}},{key:"_removeEventHandlers",value:function(){var e=this;t(this.dropdownOptions).find("li:not(.optgroup)").each(function(t){t.removeEventListener("click",e._handleOptionClickBound)}),this.el.removeEventListener("change",this._handleSelectChangeBound),this.input.removeEventListener("click",this._handleInputClickBound)}},{key:"_handleSelectChange",value:function(t){this._setValueToInput()}},{key:"_handleOptionClick",value:function(e){e.preventDefault();var n=t(e.target).closest("li")[0],i=n.id;if(!t(n).hasClass("disabled")&&!t(n).hasClass("optgroup")&&i.length){var r=!0;if(this.isMultiple){var o=t(this.dropdownOptions).find("li.disabled.selected");o.length&&(o.removeClass("selected"),o.find('input[type="checkbox"]').prop("checked",!1),this._toggleEntryFromArray(o[0].id));var a=t(n).find('input[type="checkbox"]');a.prop("checked",!a.prop("checked")),r=this._toggleEntryFromArray(i)}else t(this.dropdownOptions).find("li").removeClass("active"),t(n).toggleClass("active"),this.input.value=n.textContent;this._activateOption(t(this.dropdownOptions),n),t(this._valueDict[i].el).prop("selected",r),this.$el.trigger("change")}e.stopPropagation()}},{key:"_handleInputClick",value:function(){this.dropdown&&this.dropdown.isOpen&&(this._setValueToInput(),this._setSelectedStates())}},{key:"_setupDropdown",value:function(){var e=this;this.wrapper=document.createElement("div"),t(this.wrapper).addClass("select-wrapper "+this.options.classes),this.$el.before(t(this.wrapper)),this.wrapper.appendChild(this.el),this.el.disabled&&this.wrapper.classList.add("disabled"),this.$selectOptions=this.$el.children("option, optgroup"),this.dropdownOptions=document.createElement("ul"),this.dropdownOptions.id="select-options-"+M.guid(),t(this.dropdownOptions).addClass("dropdown-content select-dropdown "+(this.isMultiple?"multiple-select-dropdown":"")),this.$selectOptions.length&&this.$selectOptions.each(function(n){if(t(n).is("option")){var i=void 0;i=e.isMultiple?e._appendOptionWithIcon(e.$el,n,"multiple"):e._appendOptionWithIcon(e.$el,n),e._addOptionToValueDict(n,i)}else if(t(n).is("optgroup")){var r=t(n).children("option");t(e.dropdownOptions).append(t('<li class="optgroup"><span>'+n.getAttribute("label")+"</span></li>")[0]),r.each(function(t){var n=e._appendOptionWithIcon(e.$el,t,"optgroup-option");e._addOptionToValueDict(t,n)})}}),this.$el.after(this.dropdownOptions),this.input=document.createElement("input"),t(this.input).addClass("select-dropdown dropdown-trigger"),this.input.setAttribute("type","text"),this.input.setAttribute("readonly","true"),this.input.setAttribute("data-target",this.dropdownOptions.id),this.el.disabled&&t(this.input).prop("disabled","true"),this.$el.before(this.input),this._setValueToInput();var n=t('<svg class="caret" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>');if(this.$el.before(n[0]),!this.el.disabled){var i=t.extend({},this.options.dropdownOptions);i.onOpenEnd=function(n){var i=t(e.dropdownOptions).find(".selected").first();if(e.dropdown.isScrollable&&i.length){var r=i[0].getBoundingClientRect().top-e.dropdownOptions.getBoundingClientRect().top;r-=e.dropdownOptions.clientHeight/2,e.dropdownOptions.scrollTop=r}},this.isMultiple&&(i.closeOnClick=!1),this.dropdown=M.Dropdown.init(this.input,i)}this._setSelectedStates()}},{key:"_addOptionToValueDict",value:function(t,e){var n=Object.keys(this._valueDict).length,i=this.dropdownOptions.id+n,r={};e.id=i,r.el=t,r.optionEl=e,this._valueDict[i]=r}},{key:"_removeDropdown",value:function(){t(this.wrapper).find(".caret").remove(),t(this.input).remove(),t(this.dropdownOptions).remove(),t(this.wrapper).before(this.$el),t(this.wrapper).remove()}},{key:"_appendOptionWithIcon",value:function(e,n,i){var r=n.disabled?"disabled ":"",o="optgroup-option"===i?"optgroup-option ":"",a=this.isMultiple?'<label><input type="checkbox"'+r+'"/><span>'+n.innerHTML+"</span></label>":n.innerHTML,s=t("<li></li>"),u=t("<span></span>");u.html(a),s.addClass(r+" "+o),s.append(u);var c=n.getAttribute("data-icon");n.getAttribute("class");if(c){var l=t('<img alt="" src="'+c+'">');s.prepend(l)}return t(this.dropdownOptions).append(s[0]),s[0]}},{key:"_toggleEntryFromArray",value:function(e){var n=!this._keysSelected.hasOwnProperty(e);return n?this._keysSelected[e]=!0:delete this._keysSelected[e],t(this._valueDict[e].optionEl).toggleClass("active"),t(this._valueDict[e].el).prop("selected",n),n}},{key:"_setValueToInput",value:function(){var e="",n=this.$el.find("option");if(n.each(function(n){if(t(n).prop("selected")){var i=t(n).text();e+=""===e?i:", "+i}}),""===e){var i=this.$el.find("option:disabled").eq(0);i.length&&(e=i.text())}this.input.value=e}},{key:"_setSelectedStates",value:function(){this._keysSelected={};for(var e in this._valueDict){var n=this._valueDict[e];t(n.el).prop("selected")?(t(n.optionEl).find('input[type="checkbox"]').prop("checked",!0),this._activateOption(t(this.dropdownOptions),t(n.optionEl)),this._keysSelected[e]=!0):(t(n.optionEl).find('input[type="checkbox"]').prop("checked",!1),t(n.optionEl).removeClass("selected"))}}},{key:"_activateOption",value:function(e,n){if(n){this.isMultiple||e.find("li.selected").removeClass("selected");var i=t(n);i.addClass("selected")}}},{key:"getSelectedValues",value:function(){var t=[];for(var e in this._keysSelected)t.push(this._valueDict[e].el.value);return t}}],[{key:"init",value:function(t,e){return u(i.__proto__||Object.getPrototypeOf(i),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_FormSelect}},{key:"defaults",get:function(){return e}}]),i}(l);M.FormSelect=n,M.jQueryLoaded&&M.initializeJqueryWrapper(n,"formSelect","M_FormSelect")}(cash),function(t,e){"use strict";var n={},i=function(i){function r(e,n){s(this,r);var i=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,r,e,n));return i.el.M_Range=i,i.options=t.extend({},r.defaults,n),i._mousedown=!1,i._setupThumb(),i._setupEventHandlers(),i}return a(r,i),c(r,[{key:"destroy",value:function(){this._removeEventHandlers(),this._removeThumb(),this.el.M_Range=void 0}},{key:"_setupEventHandlers",value:function(){this._handleRangeChangeBound=this._handleRangeChange.bind(this),this._handleRangeFocusBound=this._handleRangeFocus.bind(this),this._handleRangeMousedownTouchstartBound=this._handleRangeMousedownTouchstart.bind(this),this._handleRangeInputMousemoveTouchmoveBound=this._handleRangeInputMousemoveTouchmove.bind(this),this._handleRangeMouseupTouchendBound=this._handleRangeMouseupTouchend.bind(this),this._handleRangeBlurMouseoutTouchleaveBound=this._handleRangeBlurMouseoutTouchleave.bind(this),this.el.addEventListener("change",this._handleRangeChangeBound),this.el.addEventListener("focus",this._handleRangeFocusBound),this.el.addEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.addEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.addEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.addEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.addEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.addEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_removeEventHandlers",value:function(){this.el.removeEventListener("change",this._handleRangeChangeBound),this.el.removeEventListener("focus",this._handleRangeFocusBound),this.el.removeEventListener("mousedown",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("touchstart",this._handleRangeMousedownTouchstartBound),this.el.removeEventListener("input",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mousemove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("touchmove",this._handleRangeInputMousemoveTouchmoveBound),this.el.removeEventListener("mouseup",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("touchend",this._handleRangeMouseupTouchendBound),this.el.removeEventListener("blur",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("mouseout",this._handleRangeBlurMouseoutTouchleaveBound),this.el.removeEventListener("touchleave",this._handleRangeBlurMouseoutTouchleaveBound)}},{key:"_handleRangeChange",value:function(){t(this.value).html(this.$el.val()),t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px")}},{key:"_handleRangeFocus",value:function(){M.tabPressed&&this.$el.addClass("focused")}},{key:"_handleRangeMousedownTouchstart",value:function(e){if(t(this.value).html(this.$el.val()),this._mousedown=!0,this.$el.addClass("active"),t(this.thumb).hasClass("active")||this._showRangeBubble(),"input"!==e.type){var n=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",n+"px")}}},{key:"_handleRangeInputMousemoveTouchmove",value:function(){if(this._mousedown){t(this.thumb).hasClass("active")||this._showRangeBubble();var e=this._calcRangeOffset();t(this.thumb).addClass("active").css("left",e+"px"),t(this.value).html(this.$el.val())}}},{key:"_handleRangeMouseupTouchend",value:function(){this._mousedown=!1,this.$el.removeClass("active")}},{key:"_handleRangeBlurMouseoutTouchleave",value:function(){if(!this._mousedown){this.$el.removeClass("focused");var n=parseInt(this.$el.css("padding-left")),i=7+n+"px";t(this.thumb).hasClass("active")&&(e.remove(this.thumb),
e({targets:this.thumb,height:0,width:0,top:10,easing:"easeOutQuad",marginLeft:i,duration:100})),t(this.thumb).removeClass("active")}}},{key:"_setupThumb",value:function(){this.thumb=document.createElement("span"),this.value=document.createElement("span"),t(this.thumb).addClass("thumb"),t(this.value).addClass("value"),t(this.thumb).append(this.value),this.$el.after(this.thumb)}},{key:"_removeThumb",value:function(){t(this.thumb).remove()}},{key:"_showRangeBubble",value:function(){var n=parseInt(t(this.thumb).parent().css("padding-left")),i=-7+n+"px";e.remove(this.thumb),e({targets:this.thumb,height:30,width:30,top:-30,marginLeft:i,duration:300,easing:"easeOutQuint"})}},{key:"_calcRangeOffset",value:function(){var t=this.$el.width()-15,e=parseFloat(this.$el.attr("max")),n=parseFloat(this.$el.attr("min")),i=(parseFloat(this.$el.val())-n)/(e-n);return i*t}}],[{key:"init",value:function(t,e){return u(r.__proto__||Object.getPrototypeOf(r),"init",this).call(this,this,t,e)}},{key:"getInstance",value:function(t){var e=t.jquery?t[0]:t;return e.M_Range}},{key:"defaults",get:function(){return n}}]),r}(l);M.Range=i,M.jQueryLoaded&&M.initializeJqueryWrapper(i,"range","M_Range"),i.init(t("input[type=range]"))}(cash,M.anime)}).call(e,function(){return this}())},function(t,e,n){(function(t){function i(t,e){this._id=t,this._clearFn=e}var r="undefined"!=typeof t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(140),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},function(t,e,n){"use strict";function i(){function t(t){var e=p[t];d(e,"delete"),delete p[t]}function e(t){return t=t||s,a(p,t)||r("no-app",{name:t}),p[t]}function n(t,e){void 0===e?e=s:"string"==typeof e&&""!==e||r("bad-app-name",{name:e+""}),a(p,e)&&r("duplicate-app",{name:e});var n=new c(t,e,y);return p[e]=n,d(n,"create"),n}function u(){return Object.keys(p).map(function(t){return p[t]})}function l(t,n,i,a,s){v[t]&&r("duplicate-service",{name:t}),v[t]=n,a&&(m[t]=a,u().forEach(function(t){a("create",t)}));var l=function(n){return void 0===n&&(n=e()),"function"!=typeof n[t]&&r("invalid-app-argument",{name:t}),n[t]()};return void 0!==i&&o.deepExtend(l,i),y[t]=l,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this._getService.bind(this,t);return i.apply(this,s?e:[])},l}function h(t){o.deepExtend(y,t)}function d(t,e){Object.keys(v).forEach(function(n){var i=f(t,n);null!==i&&m[i]&&m[i](e,t)})}function f(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}var p={},v={},m={},y={__esModule:!0,initializeApp:n,app:e,apps:null,Promise:Promise,SDK_VERSION:"4.10.1",INTERNAL:{registerService:l,createFirebaseNamespace:i,extendNamespace:h,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:t,factories:v,useAsService:f,Promise:Promise,deepExtend:o.deepExtend}};return o.patchProperty(y,"default",y),Object.defineProperty(y,"apps",{get:u}),o.patchProperty(e,"App",c),y}function r(t,e){throw h.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(106),a=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s="[DEFAULT]",u=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(i){e.push(t.services_[n][i])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,i=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=i}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&r("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc"),e.createFirebaseNamespace=i;var l={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new o.ErrorFactory("app","Firebase",l)},function(t,e,n){(function(t,e){(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function i(){}function r(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function o(t){return null===t}function a(t){return"array"==r(t)}function s(t){var e=r(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==r(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function d(t,e,n){return d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,d.apply(null,arguments)}function f(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function p(t,e){function n(){}n.prototype=e.prototype,t.lb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.$c=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function v(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function m(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function y(t){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function g(t,e){t=t.split("%s");for(var n="",i=t.length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");y.call(this,n+t[i])}function b(t,e){throw new g("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function _(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function E(){this.b=this.a=null}function T(){var t=Ru,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function C(){this.next=this.b=this.a=null}function k(e,n){var i=e.length,r=t(e)?e.split(""):e;for(--i;0<=i;--i)i in r&&n.call(void 0,r[i],i,e)}function S(e){t:{for(var n=Hi,i=e.length,r=t(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&n.call(void 0,r[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function I(t,e){return 0<=mu(t,e)}function O(t,e){e=mu(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function D(t,e){var n=0;k(t,function(i,r){e.call(void 0,i,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&n++})}function A(t){return Array.prototype.concat.apply([],arguments)}function M(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function N(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}function P(t){return Iu.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(_u,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Eu,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Tu,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Cu,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ku,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(Su,"&#0;")),t):t}function R(t,e){return-1!=t.indexOf(e)}function x(t,e){return t<e?-1:t>e?1:0}function L(t){return R(vu,t)}function B(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function F(t){for(var e in t)return!1;return!0}function V(t){var e,n={};for(e in t)n[e]=t[e];return n}function j(t,e){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(var o=0;o<Nu.length;o++)n=Nu[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function U(t){lu.setTimeout(function(){throw t},0)}function q(){var t=lu.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!L("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=d(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!L("Trident")&&!L("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.rb;n.rb=null,t()}},function(t){i.next={rb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){lu.setTimeout(t,0)}}function H(t,e){Mu||W(),Pu||(Mu(),Pu=!0),Ru.add(t,e)}function W(){if(-1!=String(lu.Promise).indexOf("[native code]")){var t=lu.Promise.resolve(void 0);Mu=function(){t.then(K)}}else Mu=function(){var t=K;!u(lu.setImmediate)||lu.Window&&lu.Window.prototype&&!L("Edge")&&lu.Window.prototype.setImmediate==lu.setImmediate?(Au||(Au=q()),Au(t)):lu.setImmediate(t)}}function K(){for(var t;t=T();){try{t.a.call(t.b)}catch(t){U(t)}_(pu,t)}Pu=!1}function $(t,e){if(this.a=xu,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=i)try{var n=this;t.call(e,function(t){it(n,Lu,t)},function(t){if(!(t instanceof ht))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}it(n,Bu,t)})}catch(t){it(this,Bu,t)}}function Q(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function z(t,e,n){var i=Fu.get();return i.g=t,i.b=e,i.f=n,i}function G(t){if(t instanceof $)return t;var e=new $(i);return it(e,Lu,t),e}function X(t){return new $(function(e,n){n(t)})}function Y(t,e,n){rt(t,e,n,null)||H(f(e,t))}function J(t){return new $(function(e,n){var i=t.length,r=[];if(i)for(var o,a=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Y(o,f(a,u),s);else e(r)})}function Z(t){return new $(function(e){var n=t.length,i=[];if(n)for(var r,o=function(t,r,o){n--,i[t]=r?{Zb:!0,value:o}:{Zb:!1,reason:o},0==n&&e(i)},a=0;a<t.length;a++)r=t[a],Y(r,f(o,a,!0),f(o,a,!1));else e(i)})}function tt(t,e){if(t.a==xu)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,a=n.b;a&&(a.c||(i++,a.a==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==xu&&1==i?tt(n,e):(o?(i=o,i.next==n.f&&(n.f=i),i.next=i.next.next):st(n),ut(n,r,Bu,e)))}t.c=null}else it(t,Bu,e)}function et(t,e){t.b||t.a!=Lu&&t.a!=Bu||at(t),t.f?t.f.next=e:t.b=e,t.f=e}function nt(t,e,n,i){var r=z(null,null,null);return r.a=new $(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(t){o(t)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof ht?o(e):t(r)}catch(t){o(t)}}:o}),r.a.c=t,et(t,r),r.a}function it(t,e,n){t.a==xu&&(t===n&&(e=Bu,n=new TypeError("Promise cannot resolve to itself")),t.a=1,rt(n,t.Jc,t.Kc,t)||(t.i=n,t.a=e,t.c=null,at(t),e!=Bu||n instanceof ht||lt(t,n)))}function rt(t,e,n,r){if(t instanceof $)return et(t,z(e||i,n||null,r)),!0;if(m(t))return t.then(e,n,r),!0;if(c(t))try{var o=t.then;if(u(o))return ot(t,o,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function ot(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}function a(t){s||(s=!0,n.call(r,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}function at(t){t.h||(t.h=!0,H(t.Ub,t))}function st(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ut(t,e,n,i){if(n==Bu&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ct(e,n,i);else try{e.c?e.g.call(e.f):ct(e,n,i)}catch(t){Vu.call(null,t)}_(Fu,e)}function ct(t,e,n){e==Lu?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function lt(t,e){t.g=!0,H(function(){t.g&&Vu.call(null,e)})}function ht(t){y.call(this,t)}function dt(){0!=ju&&(Uu[this[hu]||(this[hu]=++du)]=this),this.pa=this.pa,this.oa=this.oa}function ft(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=ju)){var e=t[hu]||(t[hu]=++du);if(0!=ju&&t.oa&&0<t.oa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Uu[e]}}function pt(t){return pt[" "](t),t}function vt(t,e){var n=Zu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function mt(){var t=lu.document;return t?t.documentMode:void 0}function yt(t){return vt(t,function(){for(var e=0,n=wu(String(qu)).split("."),i=wu(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=x(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||x(0==a[2].length,0==s[2].length)||x(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function gt(t,e){this.type=t,this.b=this.target=e,this.Eb=!0}function bt(e,n){if(gt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var i=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(Qu){t:{try{pt(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==i?n=e.fromElement:"mouseout"==i&&(n=e.toElement);this.relatedTarget=n,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:oc[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.c()}}function wt(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.La=r,this.key=++sc,this.ma=this.Ha=!1}function _t(t){t.ma=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Et(t){this.src=t,this.a={},this.b=0}function Tt(t,e){var n=e.type;n in t.a&&O(t.a[n],e)&&(_t(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ct(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.ma&&o.listener==e&&o.capture==!!n&&o.La==i)return r}return-1}function kt(t,e,n,i,r){if(i&&i.once)Ot(t,e,n,i,r);else if(a(e))for(var o=0;o<e.length;o++)kt(t,e[o],n,i,r);else n=Lt(n),t&&t[ac]?Ft(t,e,n,c(i)?!!i.capture:!!i,r):St(t,e,n,!1,i,r)}function St(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=c(r)?!!r.capture:!!r,s=xt(t);if(s||(t[uc]=s=new Et(t)),n=s.add(e,n,i,a,o),!n.proxy){if(i=It(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)rc||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Mt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}lc++}}function It(){var t=Rt,e=nc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Ot(t,e,n,i,r){if(a(e))for(var o=0;o<e.length;o++)Ot(t,e[o],n,i,r);else n=Lt(n),t&&t[ac]?Vt(t,e,n,c(i)?!!i.capture:!!i,r):St(t,e,n,!0,i,r)}function Dt(t,e,n,i,r){if(a(e))for(var o=0;o<e.length;o++)Dt(t,e[o],n,i,r);else i=c(i)?!!i.capture:!!i,n=Lt(n),t&&t[ac]?(t=t.u,e=String(e).toString(),e in t.a&&(o=t.a[e],n=Ct(o,n,i,r),-1<n&&(_t(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=xt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ct(e,n,i,r)),(n=-1<t?e[t]:null)&&At(n))}function At(t){if("number"!=typeof t&&t&&!t.ma){var e=t.src;if(e&&e[ac])Tt(e.u,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Mt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),lc--,(n=xt(e))?(Tt(n,t),0==n.b&&(n.src=null,e[uc]=null)):_t(t)}}}function Mt(t){return t in cc?cc[t]:cc[t]="on"+t}function Nt(t,e,n,i){var r=!0;if((t=xt(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ma&&(o=Pt(o,i),r=r&&!1!==o)}return r}function Pt(t,e){var n=t.listener,i=t.La||t.src;return t.Ha&&At(t),n.call(i,e)}function Rt(t,e){if(t.ma)return!0;if(!nc){if(!e)t:{e=["window","event"];for(var n=lu,i=0;i<e.length;i++)if(n=n[e[i]],null==n){e=null;break t}e=n}if(i=e,e=new bt(i,this),n=!0,!(0>i.keyCode||void 0!=i.returnValue)){t:{var r=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=e.b;r;r=r.parentNode)i.push(r);for(t=t.type,r=i.length-1;0<=r;r--){e.b=i[r];var o=Nt(i[r],t,!0,e);n=n&&o}for(r=0;r<i.length;r++)e.b=i[r],o=Nt(i[r],t,!1,e),n=n&&o}return n}return Pt(t,new bt(e,this))}function xt(t){return t=t[uc],t instanceof Et?t:null}function Lt(t){return u(t)?t:(t[hc]||(t[hc]=function(e){return t.handleEvent(e)}),t[hc])}function Bt(){dt.call(this),this.u=new Et(this),this.Mb=this,this.Ta=null}function Ft(t,e,n,i,r){t.u.add(String(e),n,!1,i,r)}function Vt(t,e,n,i,r){t.u.add(String(e),n,!0,i,r)}function jt(t,e,n,i){if(e=t.u.a[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ma&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ha&&Tt(t.u,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Eb}function Ut(t,e,n){if(u(t))n&&(t=d(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=d(t.handleEvent,t)}return 2147483647<Number(e)?-1:lu.setTimeout(t,e||0)}function qt(t){var e=null;return new $(function(n,i){e=Ut(function(){n(void 0)},t),-1==e&&i(Error("Failed to schedule timer."))}).o(function(t){throw lu.clearTimeout(e),t})}function Ht(e){if(e.R&&"function"==typeof e.R)return e.R();if(t(e))return e.split("");if(s(e)){for(var n=[],i=e.length,r=0;r<i;r++)n.push(e[r]);return n}n=[],i=0;for(r in e)n[i++]=e[r];return n}function Wt(e){if(e.T&&"function"==typeof e.T)return e.T();if(!e.R||"function"!=typeof e.R){if(s(e)||t(e)){var n=[];e=e.length;for(var i=0;i<e;i++)n.push(i);return n}n=[],i=0;for(var r in e)n[i++]=r;return n}}function Kt(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))yu(e,n,void 0);else for(var i=Wt(e),r=Ht(e),o=r.length,a=0;a<o;a++)n.call(void 0,r[a],i&&i[a],e)}function $t(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof $t)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Qt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];zt(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)i=t.a[e],zt(r,i)||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Xt(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Xt){this.f=void 0!==e?e:t.f,Yt(this,t.c),this.l=t.l,this.b=t.b,Jt(this,t.i),this.g=t.g,e=t.a;var n=new se;n.c=e.c,e.a&&(n.a=new $t(e.a),n.b=e.b),Zt(this,n),this.h=t.h}else t&&(n=String(t).match(dc))?(this.f=!!e,Yt(this,n[1]||"",!0),this.l=re(n[2]||""),this.b=re(n[3]||"",!0),Jt(this,n[4]),this.g=re(n[5]||"",!0),Zt(this,n[6]||"",!0),this.h=re(n[7]||"")):(this.f=!!e,this.a=new se(null,this.f))}function Yt(t,e,n){t.c=n?re(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Jt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Zt(t,e,n){e instanceof se?(t.a=e,pe(t.a,t.f)):(n||(e=oe(e,mc)),t.a=new se(e,t.f))}function te(t,e,n){t.a.set(e,n)}function ee(t,e){return t.a.get(e)}function ne(t){return t instanceof Xt?new Xt(t):new Xt(t,void 0)}function ie(t,e){var n=new Xt(null,void 0);return Yt(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function re(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oe(e,n,i){return t(e)?(e=encodeURI(e).replace(n,ae),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ae(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function se(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ue(t){t.a||(t.a=new $t,t.b=0,t.c&&Gt(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ce(t){var e=Wt(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new se(null,void 0);t=Ht(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];a(o)?de(n,r,o):n.add(r,o)}return n}function le(t,e){ue(t),e=fe(t,e),zt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,zt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Qt(t)))}function he(t,e){return ue(t),e=fe(t,e),zt(t.a.b,e)}function de(t,e,n){le(t,e),0<n.length&&(t.c=null,t.a.set(fe(t,e),M(n)),t.b+=n.length)}function fe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function pe(t,e){e&&!t.f&&(ue(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(le(this,e),de(this,n,t))},t)),t.f=e}function ve(){this.a="",this.b=bc}function me(t){return t instanceof ve&&t.constructor===ve&&t.b===bc?t.a:(b("expected object of type Const, got '"+t+"'"),"type_error:Const")}function ye(t){var e=new ve;return e.a=t,e}function ge(){this.a="",this.b=Ec}function be(t){return t instanceof ge&&t.constructor===ge&&t.b===Ec?t.a:(b("expected object of type TrustedResourceUrl, got '"+t+"' of type "+r(t)),"type_error:TrustedResourceUrl")}function we(t,e){var n=me(t);if(!_c.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(wc,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[i],t instanceof ve?me(t):encodeURIComponent(String(t))}),_e(t)}function _e(t){var e=new ge;return e.a=t,e}function Ee(){this.a="",this.b=Cc}function Te(t){return t instanceof Ee&&t.constructor===Ee&&t.b===Cc?t.a:(b("expected object of type SafeUrl, got '"+t+"' of type "+r(t)),"type_error:SafeUrl")}function Ce(t){return t instanceof Ee?t:(t=t.la?t.ja():String(t),Tc.test(t)||(t="about:invalid#zClosurez"),ke(t))}function ke(t){var e=new Ee;return e.a=t,e}function Se(){this.a="",this.b=kc}function Ie(t){return t instanceof Se&&t.constructor===Se&&t.b===kc?t.a:(b("expected object of type SafeHtml, got '"+t+"' of type "+r(t)),"type_error:SafeHtml")}function Oe(t){var e=new Se;return e.a=t,e}function De(e){var n=document;return t(e)?n.getElementById(e):e}function Ae(t,e){B(e,function(e,n){e&&e.la&&(e=e.ja()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Sc.hasOwnProperty(n)?t.setAttribute(Sc[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function Me(e,n,i){var r=arguments,o=document,s=String(r[0]),u=r[1];if(!gc&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',P(u.name),'"'),u.type){s.push(' type="',P(u.type),'"');var c={};j(c,u),delete c.type,u=c}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(t(u)?s.className=u:a(u)?s.className=u.join(" "):Ae(s,u)),2<r.length&&Ne(o,s,r),s}function Ne(e,n,i){function r(i){i&&n.appendChild(t(i)?e.createTextNode(i):i)}for(var o=2;o<i.length;o++){var a=i[o];!s(a)||c(a)&&0<a.nodeType?r(a):yu(Pe(a)?M(a):a,r)}}function Pe(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(u(t))return"function"==typeof t.item}return!1}function Re(t){var e=[];return Le(new xe,t,e),e.join("")}function xe(){}function Le(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),Le(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),r="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o=e[i],"function"!=typeof o&&(n.push(r),Be(i,n),n.push(":"),Le(t,o,n),r=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Be(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Be(t,e){e.push('"',t.replace(Oc,function(t){var e=Ic[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ic[t]=e),e}),'"')}function Fe(){var t=nn();return Wu&&!!Ju&&11==Ju||/Edge\/\d+/.test(t)}function Ve(){return lu.window&&lu.window.location.href||self&&self.location&&self.location.href||""}function je(t,e){e=e||lu.window;var n="about:blank";t&&(n=Te(Ce(t))),e.location.href=n}function Ue(t,e){var n,i=[];for(n in t)if(n in e)if(typeof t[n]!=typeof e[n])i.push(n);else if(a(t[n])){t:{var r=void 0,o=t[n],s=e[n];for(r in o)if(!(r in s)||o[r]!==s[r]){r=!1;break t}for(r in s)if(!(r in o)){r=!1;break t}r=!0}r||i.push(n)}else"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Ue(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n);else i.push(n);for(n in e)n in t||i.push(n);return i}function qe(){var t=nn();return t=tn(t)!=Mc?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!Wu||!Ju||9<Ju)}function He(t){return t=(t||nn()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function We(t){t=t||lu.window;try{t.close()}catch(t){}}function Ke(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=nn().toLowerCase(),i&&(e.target=i,R(n,"crios/")&&(e.target="_blank")),tn(nn())==Ac&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof Ee?n:Ce("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,r=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((L("iPhone")&&!L("iPod")&&!L("iPad")||L("iPad")||L("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(a=i.document.createElement("A"),e instanceof Ee||e instanceof Ee||(e=e.la?e.ja():String(e),Tc.test(e)||(e="about:invalid#zClosurez"),e=ke(e)),a.href=Te(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=Te(e),a&&($u&&R(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,ye("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+P(t)+'">',t=Oe(t),a.document.write(Ie(t)),a.document.close())):(a=i.open(Te(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}function $e(t){return new $(function(e){function n(){qt(2e3).then(function(){return t&&!t.closed?n():void e()})}return n()})}function Qe(){var t=null;return new $(function(e){"complete"==lu.document.readyState?e():(t=function(){e()},Ot(window,"load",t))}).o(function(e){throw Dt(window,"load",t),e})}function ze(){return Ge(void 0)?Qe().then(function(){return new $(function(t,e){var n=lu.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):X(Error("Cordova must run in an Android or iOS file scheme."))}function Ge(t){return t=t||nn(),!("file:"!==un()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xe(){var t=lu.window;try{return!(!t||t==t.top)}catch(t){return!1}}function Ye(){return"object"!=typeof lu.window&&"function"==typeof lu.importScripts}function Je(){return uu.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":uu.INTERNAL.hasOwnProperty("node")?"Node":Ye()?"Worker":"Browser"}function Ze(){var t=Je();return"ReactNative"===t||"Node"===t}function tn(t){var e=t.toLowerCase();return R(e,"opera/")||R(e,"opr/")||R(e,"opios/")?"Opera":R(e,"iemobile")?"IEMobile":R(e,"msie")||R(e,"trident/")?"IE":R(e,"edge/")?"Edge":R(e,"firefox/")?Ac:R(e,"silk/")?"Silk":R(e,"blackberry")?"Blackberry":R(e,"webos")?"Webos":!R(e,"safari/")||R(e,"chrome/")||R(e,"crios/")||R(e,"android")?!R(e,"chrome/")&&!R(e,"crios/")||R(e,"edge/")?R(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Mc:"Safari";
}function en(t,e){e=e||[];var n,i=[],r={};for(n in Nc)r[Nc[n]]=!0;for(n=0;n<e.length;n++)"undefined"!=typeof r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),e=i,e.length||(e=["FirebaseCore-web"]),i=Je(),"Browser"===i?(r=nn(),i=tn(r)):"Worker"===i&&(r=nn(),i=tn(r)+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function nn(){return lu.navigator&&lu.navigator.userAgent||""}function rn(t,e){t=t.split("."),e=e||lu;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function on(){try{var t=lu.localStorage,e=fn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Fe()||!!lu.indexedDB}catch(t){return Ye()&&!!lu.indexedDB}return!1}function an(){return(sn()||"chrome-extension:"===un()||Ge())&&!Ze()&&on()&&!Ye()}function sn(){return"http:"===un()||"https:"===un()}function un(){return lu.location&&lu.location.protocol||null}function cn(t){return t=t||nn(),!He(t)&&tn(t)!=Ac}function ln(t){return"undefined"==typeof t?null:Re(t)}function hn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function dn(t){if(null!==t)return JSON.parse(t)}function fn(t){return t?t:Math.floor(1e9*Math.random()).toString()}function pn(t){return t=t||nn(),"Safari"!=tn(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function vn(){var t=lu.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function mn(){var t=lu.navigator;return!t||"boolean"!=typeof t.onLine||!sn()&&"chrome-extension:"!==un()&&"undefined"==typeof t.connection||t.onLine}function yn(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.c=t,this.b=e,t=nn(),e=Je(),this.a=He(t)||"ReactNative"===e}function gn(){var t=lu.document;return!t||"undefined"==typeof t.visibilityState||"visible"==t.visibilityState}function bn(){var t=lu.document,e=null;return gn()||!t?G():new $(function(n){e=function(){gn()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function wn(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function _n(){return!(!rn("fireauth.oauthhelper",lu)&&!rn("fireauth.iframe",lu))}function En(t,e,n){Pc?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Tn(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&En(t,n,e[n])}function Cn(t){var e={};return Tn(e,t),e}function kn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Sn(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0}function In(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)En(e,n,In(t[n]))}return e}function On(t){var e={},n=t[Bc],i=t[Fc];if(t=t[Vc],!t||t!=Lc&&!n)throw Error("Invalid provider user info!");e[Uc]=i||null,e[jc]=n||null,En(this,Hc,t),En(this,qc,In(e))}function Dn(t,e){this.code=Wc+t,this.message=e||Kc[t]||""}function An(t){var e=t&&t.code;return e?new Dn(e.substring(Wc.length),t.message):null}function Mn(t){var e=t[Gc];if("undefined"==typeof e)throw new Dn("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Dn("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[$c];if(n&&"object"==typeof n){e=n[Jc];var i=n[Xc];if(n=n[Yc],"string"==typeof e&&e.length){if(this.a=e,"undefined"!=typeof i&&"boolean"!=typeof i)throw new Dn("argument-error",Xc+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!=typeof n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Dn("argument-error",Yc+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!=typeof e)throw new Dn("argument-error",Jc+" property must be a non empty string when specified.");if("undefined"!=typeof i||"undefined"!=typeof n)throw new Dn("missing-android-pkg-name")}}else if("undefined"!=typeof n)throw new Dn("argument-error",$c+" property must be a non null object when specified.");if(this.f=null,(e=t[zc])&&"object"==typeof e){if(e=e[Zc],"string"==typeof e&&e.length)this.f=e;else if("undefined"!=typeof e)throw new Dn("argument-error",Zc+" property must be a non empty string when specified.")}else if("undefined"!=typeof e)throw new Dn("argument-error",zc+" property must be a non null object when specified.");if(t=t[Qc],"undefined"!=typeof t&&"boolean"!=typeof t)throw new Dn("argument-error",Qc+" property must be a boolean when specified.");this.c=!!t}function Nn(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f;for(var n in e)null===e[n]&&delete e[n];return e}function Pn(t){return gu(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function Rn(t){var e="";return xn(t,function(t){e+=String.fromCharCode(t)}),e}function xn(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=el[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Ln();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Ln(){if(!tl){tl={},el={};for(var t=0;65>t;t++)tl[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),el[tl[t]]=t,62<=t&&(el["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Bn(t){this.c=t.sub,fu(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Fn(t){if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var i=JSON.parse(Rn(t));if(i.sub&&i.iss&&i.aud&&i.exp)return new Bn(i)}catch(t){}return null}function Vn(t){for(var e in rl)if(rl[e].Na==t)return rl[e];return null}function jn(t){var e={};e["facebook.com"]=Hn,e["google.com"]=Kn,e["github.com"]=Wn,e["twitter.com"]=$n;var n=t&&t[al];try{if(n)return e[n]?new e[n](t):new qn(t);if("undefined"!=typeof t[ol])return new Un(t)}catch(t){}return null}function Un(t){var e=t[al];if(!e&&t[ol]){var n=Fn(t[ol]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!=typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),En(this,"providerId",e),En(this,"isNewUser",n)}function qn(t){Un.call(this,t),t=dn(t.rawUserInfo||"{}"),En(this,"profile",In(t||{}))}function Hn(t){if(qn.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Wn(t){if(qn.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");En(this,"username",this.profile&&this.profile.login||null)}function Kn(t){if(qn.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $n(t){if(qn.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");En(this,"username",t.screenName||null)}function Qn(t){this.a=ne(t)}function zn(t){var e=ne(t),n=ee(e,"link"),i=ee(ne(n),"link");return e=ee(e,"deep_link_id"),ee(ne(e),"link")||e||i||n||t}function Gn(t,e){return t.then(function(t){if(t[kl]){var n=Fn(t[kl]);if(!n||e!=n.c)throw new Dn("user-mismatch");return t}throw new Dn("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==Wc+"user-not-found"?new Dn("user-mismatch"):t})}function Xn(t,e,n){if(e.idToken||e.accessToken)e.idToken&&En(this,"idToken",e.idToken),e.accessToken&&En(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Dn("internal-error","failed to construct a credential");En(this,"accessToken",e.oauthToken),En(this,"secret",e.oauthTokenSecret)}En(this,"providerId",t),En(this,"signInMethod",n)}function Yn(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:ce(e).toString(),requestUri:"http://localhost"}}function Jn(t,e){this.zc=e||[],Tn(this,{providerId:t,isOAuthProvider:!0}),this.tb={},this.Za=(Vn(t)||{}).Ma||null,this.Xa=null}function Zn(t){Jn.call(this,t,il),this.a=[]}function ti(){Zn.call(this,"facebook.com")}function ei(t){if(!t)throw new Dn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new ti).credential(null,e)}function ni(){Zn.call(this,"github.com")}function ii(t){if(!t)throw new Dn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new ni).credential(null,e)}function ri(){Zn.call(this,"google.com"),this.ta("profile")}function oi(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new ri).credential(n,e)}function ai(){Jn.call(this,"twitter.com",nl)}function si(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Dn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xn("twitter.com",n,"twitter.com")}function ui(t,e,n){this.a=t,this.b=e,En(this,"providerId","password"),En(this,"signInMethod",n===ci.EMAIL_LINK_SIGN_IN_METHOD?ci.EMAIL_LINK_SIGN_IN_METHOD:ci.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ci(){Tn(this,{providerId:"password",isOAuthProvider:!1})}function li(t,e){if(e=hi(e),!e)throw new Dn("argument-error","Invalid email link!");return new ui(t,e,ci.EMAIL_LINK_SIGN_IN_METHOD)}function hi(t){t=zn(t),t=new Qn(t);var e=ee(t.a,"oobCode")||null;return"signIn"===(ee(t.a,"mode")||null)&&e?e:null}function di(t){if(!(t.Ra&&t.Qa||t.Ea&&t.Y))throw new Dn("internal-error");this.a=t,En(this,"providerId","phone"),En(this,"signInMethod","phone")}function fi(t){return t.a.Ea&&t.a.Y?{temporaryProof:t.a.Ea,phoneNumber:t.a.Y}:{sessionInfo:t.a.Ra,code:t.a.Qa}}function pi(t){try{this.a=t||uu.auth()}catch(t){throw new Dn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Tn(this,{providerId:"phone",isOAuthProvider:!1})}function vi(t,e){if(!t)throw new Dn("missing-verification-id");if(!e)throw new Dn("missing-verification-code");return new di({Ra:t,Qa:e})}function mi(t){if(t.temporaryProof&&t.phoneNumber)return new di({Ea:t.temporaryProof,Y:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return oi(t,n);case"facebook.com":return ei(n);case"github.com":return ii(n);case"twitter.com":return si(n,i);default:return new Zn(e).credential(t,n)}}catch(t){return null}}function yi(t){if(!t.isOAuthProvider)throw new Dn("invalid-oauth-provider")}function gi(t,e,n,i,r){if(this.b=t,this.c=e||null,this.f=n||null,this.g=i||null,this.a=r||null,!this.f&&!this.a)throw new Dn("invalid-auth-event");if(this.f&&this.a)throw new Dn("invalid-auth-event");if(this.f&&!this.g)throw new Dn("invalid-auth-event")}function bi(t){return t=t||{},t.type?new gi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&An(t.error)):null}function wi(){this.b=null,this.a=[]}function _i(t){var e="unauthorized-domain",n=void 0,i=ne(t);t=i.b,i=i.c,"chrome-extension"==i?n=N("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=N("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Dn.call(this,e,n)}function Ei(t,e,n){Dn.call(this,t,n),t=e||{},t.ub&&En(this,"email",t.ub),t.Y&&En(this,"phoneNumber",t.Y),t.credential&&En(this,"credential",t.credential)}function Ti(t){if(t.code){var e=t.code||"";0==e.indexOf(Wc)&&(e=e.substring(Wc.length));var n={credential:mi(t)};if(t.email)n.ub=t.email;else{if(!t.phoneNumber)return new Dn(e,t.message||void 0);n.Y=t.phoneNumber}return new Ei(e,n,t.message)}return null}function Ci(){}function ki(t){return t.c||(t.c=t.b())}function Si(){}function Ii(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Oi(){}function Di(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=d(this.ac,this),this.a.onerror=d(this.zb,this),this.a.onprogress=d(this.bc,this),this.a.ontimeout=d(this.ec,this)}function Ai(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Mi(t,e,n){this.reset(t,e,n,void 0,void 0)}function Ni(t){this.f=t,this.b=this.c=this.a=null}function Pi(t,e){this.name=t,this.value=e}function Ri(t){return t.c?t.c:t.a?Ri(t.a):(b("Root logger has no level set."),null)}function xi(t){ml||(ml=new Ni(""),vl[""]=ml,ml.c=fl);var e;if(!(e=vl[t])){e=new Ni(t);var n=t.lastIndexOf("."),i=t.substr(n+1);n=xi(t.substr(0,n)),n.b||(n.b={}),n.b[i]=e,e.a=n,vl[t]=e}return e}function Li(t,e){t&&t.log(pl,e,void 0)}function Bi(t){this.f=t}function Fi(t){Bt.call(this),this.i=t,this.readyState=yl,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=xi("goog.net.FetchXmlHttp")}function Vi(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ji(t){Bt.call(this),this.headers=new $t,this.D=t||null,this.c=!1,this.A=this.a=null,this.h=this.N=this.l="",this.f=this.I=this.i=this.G=!1,this.g=0,this.s=null,this.m=gl,this.v=this.O=!1}function Ui(t,e,n,i,r){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.D?t.D.a():cl.a(),t.A=ki(t.D?t.D:cl),t.a.onreadystatechange=d(t.Db,t);try{Li(t.b,Ji(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return Li(t.b,Ji(t,"Error opening Xhr: "+e.message)),void Wi(t,e)}e=i||"";var o=new $t(t.headers);r&&Kt(r,function(t,e){o.set(e,t)}),r=S(o.T()),i=lu.FormData&&e instanceof lu.FormData,!I(wl,n)||r||i||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{zi(t),0<t.g&&(t.v=qi(t.a),Li(t.b,Ji(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=d(t.Fa,t)):t.s=Ut(t.Fa,t.g,t)),Li(t.b,Ji(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){Li(t.b,Ji(t,"Send error: "+e.message)),Wi(t,e)}}function qi(t){return Wu&&yt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Hi(t){return"content-type"==t.toLowerCase()}function Wi(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ki(t),Qi(t)}function Ki(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function $i(t){if(t.c&&"undefined"!=typeof cu)if(t.A[1]&&4==Gi(t)&&2==Xi(t))Li(t.b,Ji(t,"Local request error detected and ignored"));else if(t.i&&4==Gi(t))Ut(t.Db,0,t);else if(t.dispatchEvent("readystatechange"),4==Gi(t)){Li(t.b,Ji(t,"Request complete")),t.c=!1;try{var e=Xi(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var r;if(r=0===e){var o=String(t.l).match(dc)[1]||null;if(!o&&lu.self&&lu.self.location){var a=lu.self.location.protocol;o=a.substr(0,a.length-1)}r=!bl.test(o?o.toLowerCase():"")}i=r}if(i)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<Gi(t)?t.a.statusText:""}catch(e){Li(t.b,"Can not get status: "+e.message),s=""}t.h=s+" ["+Xi(t)+"]",Ki(t)}}finally{Qi(t)}}}function Qi(t,e){if(t.a){zi(t);var n=t.a,r=t.A[0]?i:null;t.a=null,t.A=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(hl,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function zi(t){t.a&&t.v&&(t.a.ontimeout=null),t.s&&(lu.clearTimeout(t.s),t.s=null)}function Gi(t){return t.a?t.a.readyState:0}function Xi(t){try{return 2<Gi(t)?t.a.status:-1}catch(t){return-1}}function Yi(t){try{return t.a?t.a.responseText:""}catch(e){return Li(t.b,"Can not get responseText: "+e.message),""}}function Ji(t,e){return e+" ["+t.N+" "+t.l+" "+Xi(t)+"]"}function Zi(t,e){this.g=[],this.v=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.u=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function tr(t,e,n){t.a=!0,t.c=n,t.f=!e,or(t)}function er(t){if(t.a){if(!t.u)throw new ar(t);t.u=!1}}function nr(t,e){ir(t,null,e,void 0)}function ir(t,e,n,i){t.g.push([e,n,i]),t.a&&or(t)}function rr(t){return bu(t.g,function(t){return u(t[1])})}function or(t){if(t.h&&t.a&&rr(t)){var e=t.h,n=_l[e];n&&(lu.clearTimeout(n.a),delete _l[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=n=!1;t.g.length&&!t.i;){var r=t.g.shift(),o=r[0],a=r[1];if(r=r[2],o=t.f?a:o)try{var s=o.call(r||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(m(e)||"function"==typeof lu.Promise&&e instanceof lu.Promise)&&(i=!0,t.i=!0)}catch(i){e=i,t.f=!0,rr(t)||(n=!0)}}t.c=e,i&&(s=d(t.m,t,!0),i=d(t.m,t,!1),e instanceof Zi?(ir(e,s,i),e.A=!0):e.then(s,i)),n&&(e=new ur(e),_l[e.a]=e,t.h=e.a)}function ar(){y.call(this)}function sr(){y.call(this)}function ur(t){this.a=lu.setTimeout(d(this.c,this),0),this.b=t}function cr(t){var e={},n=e.document||document,i=be(t),r=document.createElement("SCRIPT"),o={Fb:r,Fa:void 0},a=new Zi(hr,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){dr(r,!0);var t=new fr(Tl,"Timeout reached for loading script "+i);er(a),tr(a,!1,t)},u),o.Fa=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(dr(r,e.ad||!1,s),a.D())},r.onerror=function(){dr(r,!0,s);var t=new fr(El,"Error while loading script "+i);er(a),tr(a,!1,t)},o=e.attributes||{},j(o,{type:"text/javascript",charset:"UTF-8"}),Ae(r,o),r.src=be(t),lr(n).appendChild(r),a}function lr(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function hr(){if(this&&this.Fb){var t=this.Fb;t&&"SCRIPT"==t.tagName&&dr(t,!0,this.Fa)}}function dr(t,e,n){null!=n&&lu.clearTimeout(n),t.onload=i,t.onerror=i,t.onreadystatechange=i,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function fr(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),y.call(this,n),this.code=t}function pr(t){this.f=t}function vr(t,e,n){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Sl,this.f=V(t.secureTokenHeaders||Il),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||Ol,this.a=V(t.firebaseHeaders||Dl),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==Je(),n=lu.XMLHttpRequest||n&&uu.INTERNAL.node&&uu.INTERNAL.node.XMLHttpRequest,!n&&!Ye())throw new Dn("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Ye()?this.c=new Bi(self):Ze()?this.c=new pr(n):this.c=new Oi}function mr(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function yr(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function gr(t,e,n,i,r,o,a){mn()?(qe()||Ye()?t=d(t.m,t):(Cl||(Cl=new $(function(t,e){br(t,e)})),t=d(t.u,t)),t(e,n,i,r,o,a)):n&&n(null)}function br(t,e){if(((window.gapi||{}).client||{}).request)t();else{lu[Ml]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=we(Al,{onload:Ml});nr(cr(n),function(){e(Error("CORS_UNSUPPORTED"))})}}function wr(t,e){return new $(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?gr(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?i(Vr(t)):t.access_token&&t.refresh_token?n(t):i(new Dn("internal-error")):i(new Dn("network-request-failed"))},"POST",ce(e).toString(),t.f,t.l.get()):i(new Dn("internal-error"))})}function _r(t,e,n,i,r,o){var a=ne(t.g+e);te(a,"key",t.b),o&&te(a,"cb",fu().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&te(a,u,i[u]);return new $(function(e,o){gr(t,a.toString(),function(t){t?t.error?o(Vr(t,r||{})):e(t):o(new Dn("network-request-failed"))},n,s?void 0:Re(hn(i)),t.a,t.h.get())})}function Er(t){if(!ul.test(t.email))throw new Dn("invalid-email")}function Tr(t){"email"in t&&Er(t)}function Cr(t,e){return Br(t,Bl,{identifier:e,continueUri:sn()?Ve():"http://localhost"}).then(function(t){return t.allProviders||[]})}function kr(t,e){return Br(t,Bl,{identifier:e,continueUri:sn()?Ve():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Sr(t){return Br(t,$l,{}).then(function(t){return t.authorizedDomains||[]})}function Ir(t){if(!t[kl])throw new Dn("internal-error")}function Or(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Dn("internal-error")}else{if(!t.sessionInfo)throw new Dn("missing-verification-id");if(!t.code)throw new Dn("missing-verification-code")}}function Dr(t,e){return Br(t,Gl,e)}function Ar(t,e,n){return Br(t,Vl,{idToken:e,deleteProvider:n})}function Mr(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new Dn("internal-error")}function Nr(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ti(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ti(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ti(t)):t.errorMessage&&(e=Fr(t.errorMessage)),e)throw e;if(!t[kl])throw new Dn("internal-error")}function Pr(t,e){return e.returnIdpCredential=!0,Br(t,Zl,e)}function Rr(t,e){return e.returnIdpCredential=!0,Br(t,eh,e)}function xr(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Br(t,th,e)}function Lr(t){if(!t.oobCode)throw new Dn("invalid-action-code")}function Br(t,e,n){if(!Sn(n,e.S))return X(new Dn("internal-error"));var i,r=e.Cb||"POST";return G(n).then(e.w).then(function(){return e.P&&(n.returnSecureToken=!0),_r(t,e.endpoint,r,n,e.Tb,e.pb||!1)}).then(function(t){return i=t}).then(e.J).then(function(){if(!e.$)return i;if(!(e.$ in i))throw new Dn("internal-error");return i[e.$]})}function Fr(t){return Vr({error:{errors:[{message:t}],code:400,message:t}})}function Vr(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new Dn(i[n]):null)return n;n=t.error&&t.error.message||"",i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},j(i,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var r in i)if(0===n.indexOf(r))return new Dn(i[r],e);return!e&&t&&(e=ln(t)),new Dn("internal-error",e)}function jr(t){for(var e in sh)if(sh[e].id===t)return t=sh[e],{firebaseEndpoint:t.Ya,secureTokenEndpoint:t.eb};return null}function Ur(t){this.b=t,this.a=null,this.ab=qr(this)}function qr(t){return Kr().then(function(){return new $(function(e,n){rn("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},lh.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}function Hr(t,e){return t.ab.then(function(){return new $(function(n){t.a.send(e.type,e,n,rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Wr(t,e){t.ab.then(function(){t.a.register("authEvent",e,rn("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Kr(){return hh?hh:hh=new $(function(t,e){if(mn()){var n=function(){vn(),rn("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){vn(),e(Error("Network Error"))},timeout:ch.get()})};if(rn("gapi.iframes.Iframe"))t();else if(rn("gapi.load"))n();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();lu[i]=function(){rn("gapi.load")?n():e(Error("Network Error"))},i=we(uh,{onload:i}),G(cr(i)).o(function(){e(Error("Network Error"))})}}else e(Error("Network Error"))}).o(function(t){throw hh=null,t})}function $r(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=ie(this.i,"/__/auth/iframe"),te(this.a,"apiKey",this.g),te(this.a,"appName",this.h),this.b=null,this.c=[]}function Qr(t,e,n,i,r){this.m=t,this.u=e,this.c=n,this.l=i,this.h=this.g=this.i=null,this.a=r,this.f=null}function zr(t){try{return uu.app(t).auth().Ka()}catch(t){return[]}}function Gr(t,e,n,i,r){this.u=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.m=this.s=this.v=null,this.g=[],this.l=this.a=null}function Xr(t){var e=Ve();return Sr(t).then(function(t){t:{var n=ne(e),i=n.c;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=ne(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Dc.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new _i(Ve())})}function Yr(t){return t.l?t.l:(t.l=Qe().then(function(){if(!t.s){var e=t.c,n=t.h,i=zr(t.b),r=new $r(t.u,t.f,t.b);r.f=e,r.b=n,r.c=M(i||[]),t.s=r.toString()}t.i=new Ur(t.s),to(t)}),t.l)}function Jr(t){return t.m||(t.v=t.c?en(t.c,zr(t.b)):null,t.m=new vr(t.f,jr(t.h),t.v)),t.m}function Zr(t,e,n,i,r,o,a,s,u,c){return t=new Qr(t,e,n,i,r),t.i=o,t.g=a,t.h=s,t.b=V(u||null),t.f=c,t.toString()}function to(t){if(!t.i)throw Error("IfcHandler must be initialized!");Wr(t.i,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=bi(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return n={},n.status=i?"ACK":"ERROR",G(n)}return n.status="ERROR",G(n)})}function eo(t){var e={type:"webStorageSupport"};return Yr(t).then(function(){return Hr(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!=typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function no(t){if(this.a=t||uu.INTERNAL.reactNative&&uu.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Dn("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function io(){this.a={},this.type="inMemory"}function ro(){try{var t=!!lu.indexedDB}catch(e){t=!1}if(!t)throw new Dn("web-storage-unsupported");this.f={},this.c=[],this.a=0,this.h=lu.indexedDB,this.type="indexedDB"}function oo(t){return new $(function(e,n){var i=t.h.open("firebaseLocalStorageDb",1);i.onerror=function(t){n(Error(t.target.errorCode))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},i.onsuccess=function(t){e(t.target.result)}})}function ao(t){return t.g||(t.g=oo(t)),t.g}function so(t){return t.objectStore("firebaseLocalStorage")}function uo(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function co(t){return new $(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function lo(t){function e(){return t.b=qt(800).then(d(t.Ic,t)).then(function(e){0<e.length&&yu(t.c,function(t){t(e)})}).then(e).o(function(t){"STOP_EVENT"!=t.message&&e()}),t.b}t.b&&t.b.cancel("STOP_EVENT"),e()}function ho(){if(!po()){if("Node"==Je())throw new Dn("internal-error","The LocalStorage compatibility library was not found.");throw new Dn("web-storage-unsupported")}this.a=fo()||uu.INTERNAL.node.localStorage,this.type="localStorage"}function fo(){try{var t=lu.localStorage,e=fn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function po(){var t="Node"==Je();if(t=fo()||t&&uu.INTERNAL.node&&uu.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function vo(){this.type="nullStorage"}function mo(){if(!go()){if("Node"==Je())throw new Dn("internal-error","The SessionStorage compatibility library was not found.");throw new Dn("web-storage-unsupported")}this.a=yo()||uu.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function yo(){try{var t=lu.sessionStorage,e=fn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function go(){var t="Node"==Je();if(t=yo()||t&&uu.INTERNAL.node&&uu.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function bo(){var t={};t.Browser=vh,t.Node=mh,t.ReactNative=yh,t.Worker=gh,this.a=t[Je()]}function wo(t){var e=new Dn("invalid-persistence-type"),n=new Dn("unsupported-persistence-type");t:{for(i in bh)if(bh[i]==t){var i=!0;break t}i=!1}if(!i||"string"!=typeof t)throw e;switch(Je()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!on()&&"none"!==t)throw n}}function _o(){var t=!(pn(nn())||!Xe()),e=cn(),n=on();this.m=t,this.h=e,this.l=n,this.a={},fh||(fh=new bo),t=fh;try{if(!Fe()&&_n()||!lu.indexedDB)var i=new t.a.B;else dh||(dh=new ro),i=dh;this.g=i}catch(t){this.g=new io,this.h=!0}try{this.i=new t.a.Pa}catch(t){this.i=new io}this.u=new io,this.f=d(this.Kb,this),this.b={}}function Eo(){return ph||(ph=new _o),ph}function To(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Co(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ko(t,e,n){var i=Co(e,n),r=To(t,e.B);return t.get(e,n).then(function(o){
var a=null;try{a=dn(lu.localStorage.getItem(i))}catch(t){}return a&&!o?(lu.localStorage.removeItem(i),t.set(e,a,n)):void(a&&o&&"localStorage"!=r.type&&lu.localStorage.removeItem(i))})}function So(t,e,n){return n=Co(e,n),"local"==e.B&&(t.b[n]=null),To(t,e.B).X(n)}function Io(t){Oo(t),t.c=setInterval(function(){for(var e in t.a){var n=lu.localStorage.getItem(e),i=t.b[e];n!=i&&(t.b[e]=n,n=new bt({type:"storage",key:e,target:window,oldValue:i,newValue:n,a:!0}),t.Kb(n))}},1e3)}function Oo(t){t.c&&(clearInterval(t.c),t.c=null)}function Do(t){this.a=t,this.b=Eo()}function Ao(t){return t.b.get(_h,t.a).then(function(t){return bi(t)})}function Mo(){this.a=Eo()}function No(){this.b=-1}function Po(t,e){this.b=-1,this.b=Eh,this.f=lu.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=lu.Int32Array?new Int32Array(64):Array(64),void 0!==wh||(wh=lu.Int32Array?new Int32Array(Ih):Ih),this.reset()}function Ro(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|wh[e])|0,a=o+(a+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+d|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function xo(e,n,i){void 0===i&&(i=n.length);var r=0,o=e.c;if(t(n))for(;r<i;)e.f[o++]=n.charCodeAt(r++),o==e.b&&(Ro(e),o=0);else{if(!s(n))throw Error("message must be string or array");for(;r<i;){var a=n[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(Ro(e),o=0)}}e.c=o,e.g+=i}function Lo(){Po.call(this,8,Oh)}function Bo(t,e,n,i,r){this.u=t,this.i=e,this.l=n,this.m=i||null,this.s=r||null,this.h=e+":"+n,this.v=new Mo,this.g=new Do(this.h),this.f=null,this.b=[],this.a=this.c=null}function Fo(t){return new Dn("invalid-cordova-configuration",t)}function Vo(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function jo(t){var e=new Lo;xo(e,t),t=[];var n=8*e.g;56>e.c?xo(e,Sh,56-e.c):xo(e,Sh,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(Ro(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return Pn(t)}function Uo(t,e,n,i){var r=Vo(),o=new gi(e,i,null,r,new Dn("no-auth-event")),a=rn("BuildInfo.packageName",lu);if("string"!=typeof a)throw new Dn("invalid-cordova-configuration");var s=rn("BuildInfo.displayName",lu),u={};if(nn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!nn().toLowerCase().match(/android/))return X(new Dn("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),r=jo(r),u.sessionId=r;var c=Zr(t.u,t.i,t.l,e,n,null,i,t.m,u,t.s);return t.ca().then(function(){var e=t.h;return t.v.a.set(_h,o.C(),e)}).then(function(){var e=rn("cordova.plugins.browsertab.isAvailable",lu);if("function"!=typeof e)throw new Dn("invalid-cordova-configuration");var n=null;e(function(e){if(e){if(n=rn("cordova.plugins.browsertab.openUrl",lu),"function"!=typeof n)throw new Dn("invalid-cordova-configuration");n(c)}else{if(n=rn("cordova.InAppBrowser.open",lu),"function"!=typeof n)throw new Dn("invalid-cordova-configuration");e=nn(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}function qo(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function Ho(t){return t.f||(t.f=t.ca().then(function(){return new $(function(e){function n(i){return e(i),t.Ja(n),!1}t.va(n),Ko(t)})})),t.f}function Wo(t){var e=null;return Ao(t.g).then(function(n){return e=n,n=t.g,So(n.b,_h,n.a)}).then(function(){return e})}function Ko(t){function e(e){i=!0,r&&r.cancel(),Wo(t).then(function(i){var r=n;if(i&&e&&e.url){var o=null;r=zn(e.url),-1!=r.indexOf("/__/auth/callback")&&(o=ne(r),o=dn(ee(o,"firebaseError")||null),o=(o="object"==typeof o?An(o):null)?new gi(i.b,i.c,null,null,o):new gi(i.b,i.c,r,i.g)),r=o||n}qo(t,r)})}var n=new gi("unknown",null,null,null,new Dn("no-auth-event")),i=!1,r=qt(500).then(function(){return Wo(t).then(function(){i||qo(t,n)})}),o=lu.handleOpenURL;lu.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(rn("BuildInfo.packageName",lu).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},sl||(sl=new wi),sl.subscribe(e)}function $o(t){this.a=t,this.b=Eo()}function Qo(t){return t.b.set(Dh,"pending",t.a)}function zo(t){return So(t.b,Dh,t.a)}function Go(t){return t.b.get(Dh,t.a).then(function(t){return"pending"==t})}function Xo(t,e,n){this.v=t,this.l=e,this.u=n,this.h=[],this.f=!1,this.i=d(this.m,this),this.c=new ia,this.s=new la,this.g=new $o(this.l+":"+this.u),this.b={},this.b.unknown=this.c,this.b.signInViaRedirect=this.c,this.b.linkViaRedirect=this.c,this.b.reauthViaRedirect=this.c,this.b.signInViaPopup=this.s,this.b.linkViaPopup=this.s,this.b.reauthViaPopup=this.s,this.a=Yo(this.v,this.l,this.u,Pl)}function Yo(t,e,n,i){var r=uu.SDK_VERSION||null;return Ge()?new Bo(t,e,n,r,i):new Gr(t,e,n,r,i)}function Jo(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ca().o(function(n){throw t.a==e&&t.reset(),n})}function Zo(t){t.a.Gb()&&Jo(t).o(function(e){var n=new gi("unknown",null,null,null,new Dn("operation-not-supported-in-this-environment"));ea(e)&&t.m(n)}),t.a.Bb()||ra(t.c)}function ta(t,e,n,i,r,o){return t.a.xb(e,n,i,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},r,o)}function ea(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function na(t,e,n){var i=e+":"+n;return Nh[i]||(Nh[i]=new Xo(t,e,n)),Nh[i]}function ia(){this.b=null,this.f=[],this.c=[],this.a=null,this.g=!1}function ra(t){t.g||(t.g=!0,ua(t,!1,null,null))}function oa(t,e,n){n=n.wa(e.b,e.c);var i=e.f,r=e.g,o=!!e.b.match(/Redirect$/);n(i,r).then(function(e){ua(t,o,e,null)}).o(function(e){ua(t,o,null,e)})}function aa(t,e){if(t.b=function(){return X(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function sa(t,e){if(t.b=function(){return G(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ua(t,e,n,i){e?i?aa(t,i):sa(t,n):sa(t,{user:null}),t.f=[],t.c=[]}function ca(t){var e=new Dn("timeout");t.a&&t.a.cancel(),t.a=qt(Mh.get()).then(function(){t.b||ua(t,!0,null,e)})}function la(){}function ha(t,e){var n=t.c,i=t.b;e.wa(i,n)(t.f,t.g).then(function(t){e.fa(i,t,null,n)}).o(function(t){e.fa(i,null,t,n)})}function da(t,e){this.a=e,En(this,"verificationId",t)}function fa(t,e,n,i){return new pi(t).Sa(e,n).then(function(t){return new da(t,i)})}function pa(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function va(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function ma(t,e){t.stop(),t.b=qt(va(t,e)).then(function(){return bn()}).then(function(){return t.h()}).then(function(){ma(t,!0)}).o(function(e){t.i(e)&&ma(t,!1)})}function ya(t){this.f=t,this.b=this.a=null,this.c=0}function ga(t,e){var n=e[kl],i=e.refreshToken;e=ba(e.expiresIn),t.b=n,t.c=e,t.a=i}function ba(t){return fu()+1e3*parseInt(t,10)}function wa(t,e){return wr(t.f,e).then(function(e){return t.b=e.access_token,t.c=ba(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function _a(t,e){this.a=t||null,this.b=e||null,Tn(this,{lastSignInTime:wn(e||null),creationTime:wn(t||null)})}function Ea(t){return new _a(t.a,t.b)}function Ta(t,e,n,i,r,o){Tn(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function Ca(t,e){gt.call(this,t);for(var n in e)this[n]=e[n]}function ka(t,e,n){this.D=[],this.G=t.apiKey,this.s=t.appName,this.A=t.authDomain||null,t=uu.SDK_VERSION?en(uu.SDK_VERSION):null,this.b=new vr(this.G,jr(Pl),t),this.h=new ya(this.b),Pa(this,e[kl]),ga(this.h,e),En(this,"refreshToken",this.h.a),Ba(this,n||{}),Bt.call(this),this.I=!1,this.A&&an()&&(this.a=na(this.A,this.G,this.s)),this.N=[],this.i=null,this.l=Aa(this),this.U=d(this.Ga,this);var i=this;this.ha=null,this.sa=function(t){i.na(t.h)},this.W=null,this.O=[],this.ra=function(t){Ia(i,t.f)},this.V=null}function Sa(t,e){t.W&&Dt(t.W,"languageCodeChanged",t.sa),(t.W=e)&&kt(e,"languageCodeChanged",t.sa)}function Ia(t,e){t.O=e,yr(t.b,uu.SDK_VERSION?en(uu.SDK_VERSION,t.O):null)}function Oa(t,e){t.V&&Dt(t.V,"frameworkChanged",t.ra),(t.V=e)&&kt(e,"frameworkChanged",t.ra)}function Da(t){try{return uu.app(t.s).auth()}catch(e){throw new Dn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.s+"'!")}}function Aa(t){return new pa(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-fu()-3e5;return 0<e?e:0})}function Ma(t){t.m||t.l.b||(t.l.start(),Dt(t,"tokenChanged",t.U),kt(t,"tokenChanged",t.U))}function Na(t){Dt(t,"tokenChanged",t.U),t.l.stop()}function Pa(t,e){t.qa=e,En(t,"_lat",e)}function Ra(t,e){D(t.N,function(t){return t==e})}function xa(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Z(e).then(function(){return t})}function La(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Ba(t,e){Tn(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new _a(e.createdAt,e.lastLoginAt),providerData:[]})}function Fa(){}function Va(t){return G().then(function(){if(t.m)throw new Dn("app-deleted")})}function ja(t){return gu(t.providerData,function(t){return t.providerId})}function Ua(t,e){e&&(qa(t,e.providerId),t.providerData.push(e))}function qa(t,e){D(t.providerData,function(t){return t.providerId==e})}function Ha(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&En(t,e,n)}function Wa(t,e){t!=e&&(Tn(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?En(t,"metadata",Ea(e.metadata)):En(t,"metadata",new _a),yu(e.providerData,function(e){Ua(t,e)}),t.h=e.h,En(t,"refreshToken",t.h.a))}function Ka(t){return t.F().then(function(e){var n=t.isAnonymous;return Qa(t,e).then(function(){return n||Ha(t,"isAnonymous",!1),e})})}function $a(t,e){e[kl]&&t.qa!=e[kl]&&(ga(t.h,e),t.dispatchEvent(new Ca("tokenChanged")),Pa(t,e[kl]),Ha(t,"refreshToken",t.h.a))}function Qa(t,e){return Br(t.b,ql,{idToken:e}).then(d(t.tc,t))}function za(t){return(t=t.providerUserInfo)&&t.length?gu(t,function(t){return new Ta(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Ga(t,e){return Ka(t).then(function(){if(I(ja(t),e))return xa(t).then(function(){throw new Dn("provider-already-linked")})})}function Xa(t,e,n){var i=mi(e);return e=jn(e),Cn({user:t,credential:i,additionalUserInfo:e,operationType:n})}function Ya(t,e){return $a(t,e),t.reload().then(function(){return t})}function Ja(t,e,n,i,r){if(!an())return X(new Dn("operation-not-supported-in-this-environment"));if(t.i&&!r)return X(t.i);var o=Vn(n.providerId),a=fn(t.uid+":::"),s=null;(!cn()||Xe())&&t.A&&n.isOAuthProvider&&(s=Zr(t.A,t.G,t.s,e,n,null,a,uu.SDK_VERSION||null));var u=Ke(s,o&&o.Aa,o&&o.za);return i=i().then(function(){if(ts(t),!r)return t.F().then(function(){})}).then(function(){return ta(t.a,u,e,n,a,!!s)}).then(function(){return new $(function(n,i){t.fa(e,null,new Dn("cancelled-popup-request"),t.g||null),t.f=n,t.v=i,t.g=a,t.c=t.a.Da(t,e,u,a)})}).then(function(t){return u&&We(u),t?Cn(t):null}).o(function(t){throw u&&We(u),t}),es(t,i,r)}function Za(t,e,n,i,r){if(!an())return X(new Dn("operation-not-supported-in-this-environment"));if(t.i&&!r)return X(t.i);var o=null,a=fn(t.uid+":::");return i=i().then(function(){if(ts(t),!r)return t.F().then(function(){})}).then(function(){return t.Z=a,xa(t)}).then(function(e){return t.da&&(e=t.da,e=e.b.set(Ph,t.C(),e.a)),e}).then(function(){return t.a.Ba(e,n,a)}).o(function(e){if(o=e,t.da)return as(t.da);throw o}).then(function(){if(o)throw o}),es(t,i,r)}function ts(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Dn("internal-error");throw new Dn("auth-domain-config-required")}}function es(t,e,n){var i=ns(t,e,n);return t.D.push(i),i.ga(function(){O(t.D,i)}),i}function ns(t,e,n){return t.i&&!n?(e.cancel(),X(t.i)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Ca("userInvalidated")),t.i=e),e})}function is(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[kl]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-fu())/1e3;var i=new ka(e,n,t);return t.providerData&&yu(t.providerData,function(t){t&&Ua(i,Cn(t))}),t.redirectEventId&&(i.Z=t.redirectEventId),i}function rs(t,e,n,i){var r=new ka(t,e);return n&&(r.da=n),i&&Ia(r,i),r.reload().then(function(){return r})}function os(t){this.a=t,this.b=Eo()}function as(t){return So(t.b,Ph,t.a)}function ss(t,e){return t.b.get(Ph,t.a).then(function(t){return t&&e&&(t.authDomain=e),is(t||{})})}function us(t){this.a=t,this.b=Eo(),this.c=null,this.f=ls(this),this.b.addListener(hs("local"),this.a,d(this.g,this))}function cs(t,e){var n,i=[];for(n in bh)bh[n]!==e&&i.push(So(t.b,hs(bh[n]),t.a));return i.push(So(t.b,Rh,t.a)),J(i)}function ls(t){var e=hs("local"),n=hs("session"),i=hs("none");return ko(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Rh,t.a).then(function(t){return t?hs(t):e})})})}).then(function(e){return t.c=e,cs(t,e.B)}).o(function(){t.c||(t.c=e)})}function hs(t){return{name:"authUser",B:t}}function ds(t){return ms(t,function(){return t.b.set(Rh,t.c.B,t.a)})}function fs(t,e){return ms(t,function(){return t.b.set(t.c,e.C(),t.a)})}function ps(t){return ms(t,function(){return So(t.b,t.c,t.a)})}function vs(t,e){return ms(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),is(t||{})})})}function ms(t,e){return t.f=t.f.then(e,e),t.f}function ys(t){if(this.l=!1,En(this,"app",t),!Ds(this).options||!Ds(this).options.apiKey)throw new Dn("invalid-api-key");t=uu.SDK_VERSION?en(uu.SDK_VERSION):null,this.b=new vr(Ds(this).options&&Ds(this).options.apiKey,jr(Pl),t),this.N=[],this.m=[],this.I=[],this.Ob=uu.INTERNAL.createSubscribe(d(this.hc,this)),this.O=void 0,this.Pb=uu.INTERNAL.createSubscribe(d(this.ic,this)),Cs(this,null),this.h=new us(Ds(this).options.apiKey+":"+Ds(this).name),this.G=new os(Ds(this).options.apiKey+":"+Ds(this).name),this.U=Rs(this,Ss(this)),this.i=Rs(this,Is(this)),this.W=!1,this.ha=d(this.Hc,this),this.Ga=d(this.ka,this),this.qa=d(this.Yb,this),this.ra=d(this.fc,this),this.sa=d(this.gc,this),Es(this),this.INTERNAL={},this.INTERNAL.delete=d(this.delete,this),this.INTERNAL.logFramework=d(this.pc,this),this.s=0,Bt.call(this),ws(this),this.D=[]}function gs(t){gt.call(this,"languageCodeChanged"),this.h=t}function bs(t){gt.call(this,"frameworkChanged"),this.f=t}function ws(t){Object.defineProperty(t,"lc",{get:function(){return this.aa()},set:function(t){this.na(t)},enumerable:!1}),t.V=null}function _s(t){return t.Nb||X(new Dn("auth-domain-config-required"))}function Es(t){var e=Ds(t).options.authDomain,n=Ds(t).options.apiKey;e&&an()&&(t.Nb=t.U.then(function(){if(!t.l){if(t.a=na(e,n,Ds(t).name),t.a.subscribe(t),As(t)&&La(As(t)),t.A){La(t.A);var i=t.A;i.na(t.aa()),Sa(i,t),i=t.A,Ia(i,t.D),Oa(i,t),t.A=null}return t.a}}))}function Ts(t,e){var n={};return n.apiKey=Ds(t).options.apiKey,n.authDomain=Ds(t).options.authDomain,n.appName=Ds(t).name,t.U.then(function(){return rs(n,e,t.G,t.Ka())}).then(function(e){return As(t)&&e.uid==As(t).uid?(Wa(As(t),e),t.ka(e)):(Cs(t,e),La(e),t.ka(e))}).then(function(){Ns(t)})}function Cs(t,e){As(t)&&(Ra(As(t),t.Ga),Dt(As(t),"tokenChanged",t.qa),Dt(As(t),"userDeleted",t.ra),Dt(As(t),"userInvalidated",t.sa),Na(As(t))),e&&(e.N.push(t.Ga),kt(e,"tokenChanged",t.qa),kt(e,"userDeleted",t.ra),kt(e,"userInvalidated",t.sa),0<t.s&&Ma(e)),En(t,"currentUser",e),e&&(e.na(t.aa()),Sa(e,t),Ia(e,t.D),Oa(e,t))}function ks(t){var e=ss(t.G,Ds(t).options.authDomain).then(function(e){return(t.A=e)&&(e.da=t.G),as(t.G)});return Rs(t,e)}function Ss(t){var e=Ds(t).options.authDomain,n=ks(t).then(function(){return vs(t.h,e)}).then(function(e){return e?(e.da=t.G,t.A&&(t.A.Z||null)==(e.Z||null)?e:e.reload().then(function(){return fs(t.h,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:ps(t.h)})):null}).then(function(e){Cs(t,e||null)});return Rs(t,n)}function Is(t){return t.U.then(function(){return t.ba()}).o(function(){}).then(function(){if(!t.l)return t.ha()}).o(function(){}).then(function(){if(!t.l){t.W=!0;var e=t.h;e.b.addListener(hs("local"),e.a,t.ha)}})}function Os(t,e){var n=null,i=null;return Rs(t,e.then(function(e){return n=mi(e),i=jn(e),Ts(t,e)}).then(function(){return Cn({user:As(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function Ds(t){return t.app}function As(t){return t.currentUser}function Ms(t){return As(t)&&As(t)._lat||null}function Ns(t){if(t.W){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](Ms(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Ms(t))}}function Ps(t,e){t.I.push(e),Rs(t,t.i.then(function(){!t.l&&I(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Ms(t)))}))}function Rs(t,e){return t.N.push(e),e.ga(function(){O(t.N,e)}),e}function xs(t,e,n,i,r,o){if(En(this,"type","recaptcha"),this.b=this.c=null,this.m=!1,this.l=e,this.a=n||{theme:"light",type:"image"},this.g=[],this.a[Bh])throw new Dn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.h="invisible"===this.a[Fh],!lu.document)throw new Dn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!De(e)||!this.h&&De(e).hasChildNodes())throw new Dn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new vr(t,o||null,r||null),this.s=i||function(){return null};var a=this;this.i=[];var s=this.a[xh];this.a[xh]=function(t){if(Ls(a,t),"function"==typeof s)s(t);else if("string"==typeof s){var e=rn(s,lu);"function"==typeof e&&e(t)}};var u=this.a[Lh];this.a[Lh]=function(){if(Ls(a,null),"function"==typeof u)u();else if("string"==typeof u){var t=rn(u,lu);"function"==typeof t&&t()}}}function Ls(t,e){for(var n=0;n<t.i.length;n++)try{t.i[n](e)}catch(t){}}function Bs(t,e){D(t.i,function(t){return t==e})}function Fs(t,e){return t.g.push(e),e.ga(function(){O(t.g,e)}),e}function Vs(t){if(t.m)throw new Dn("internal-error","RecaptchaVerifier instance has been destroyed.")}function js(){this.b=lu.grecaptcha?1/0:0,this.c=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function Us(t,e){return new $(function(n,i){if(mn())if(!lu.grecaptcha||e!==t.c&&!t.b){lu[t.a]=function(){if(lu.grecaptcha){t.c=e;var r=lu.grecaptcha.render;lu.grecaptcha.render=function(e,n){return e=r(e,n),t.b++,e},n()}else i(new Dn("internal-error"));delete lu[t.a]};var r=we(Vh,{onload:t.a,hl:e||""});G(cr(r)).o(function(){i(new Dn("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else n();else i(new Dn("network-request-failed"))})}function qs(){return jh||(jh=new js),jh}function Hs(t,e,n){try{this.f=n||uu.app()}catch(t){throw new Dn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.f.options||!this.f.options.apiKey)throw new Dn("invalid-api-key");n=this.f.options.apiKey;var i=this,r=null;try{r=this.f.auth().Ka()}catch(t){}r=uu.SDK_VERSION?en(uu.SDK_VERSION,r):null,xs.call(this,n,t,e,function(){try{var t=i.f.auth().aa()}catch(e){t=null}return t},r,jr(Pl))}function Ws(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Dn("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=Uh.length)throw new Dn("internal-error","Argument validator received an unsupported number of arguments.");n=Uh[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new Dn("argument-error",t+" failed: "+i)}function Ks(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function $s(){return{name:"opt_forceRefresh",K:"a boolean",optional:!0,M:e}}function Qs(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function zs(t,e){return{name:t||"",K:"a function",optional:!!e,M:u}}function Gs(t,e){return{name:t||"",K:"null",optional:!!e,M:o}}function Xs(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Ys(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ys)}}}function Js(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof uu.app.App)}}}function Zs(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.xa||!n)}}}function tu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function eu(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function nu(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function iu(t,e){for(var n in e){var i=e[n].name;t[i]=ou(i,t[n],e[n].j)}}function ru(t,e,n,i){t[e]=ou(e,n,i)}function ou(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return Ws(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=au(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}function au(t){return t=t.split("."),t[t.length-1]}var su,uu=n(24).default,cu=cu||{},lu=this,hu="closure_uid_"+(1e9*Math.random()>>>0),du=0,fu=Date.now||function(){return+new Date};p(y,Error),y.prototype.name="CustomError",p(g,y),g.prototype.name="AssertionError",w.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var pu=new w(function(){return new C},function(t){t.reset()});E.prototype.add=function(t,e){var n=pu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},C.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},C.prototype.reset=function(){this.next=this.b=this.a=null};var vu,mu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(e,n){if(t(e))return t(n)&&1==n.length?e.indexOf(n,0):-1;for(var i=0;i<e.length;i++)if(i in e&&e[i]===n)return i;return-1},yu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,i){for(var r=e.length,o=t(e)?e.split(""):e,a=0;a<r;a++)a in o&&n.call(i,o[a],a,e)},gu=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(e,n){for(var i=e.length,r=Array(i),o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&(r[a]=n.call(void 0,o[a],a,e));return r},bu=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(e,n){for(var i=e.length,r=t(e)?e.split(""):e,o=0;o<i;o++)if(o in r&&n.call(void 0,r[o],o,e))return!0;return!1},wu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},_u=/&/g,Eu=/</g,Tu=/>/g,Cu=/"/g,ku=/'/g,Su=/\x00/g,Iu=/[\x00&<>"']/;t:{var Ou=lu.navigator;if(Ou){var Du=Ou.userAgent;if(Du){vu=Du;break t}}vu=""}var Au,Mu,Nu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Pu=!1,Ru=new E,xu=0,Lu=2,Bu=3;Q.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Fu=new w(function(){return new Q},function(t){t.reset()});$.prototype.then=function(t,e,n){return nt(this,u(t)?t:null,u(e)?e:null,n)},v($),su=$.prototype,su.ga=function(t,e){return t=z(t,t,e),t.c=!0,et(this,t),this},su.o=function(t,e){return nt(this,null,t,e)},su.cancel=function(t){this.a==xu&&H(function(){var e=new ht(t);tt(this,e)},this)},su.Jc=function(t){this.a=xu,it(this,Lu,t)},su.Kc=function(t){this.a=xu,it(this,Bu,t)},su.Ub=function(){for(var t;t=st(this);)ut(this,t,this.a,this.i);this.h=!1};var Vu=U;p(ht,y),ht.prototype.name="cancel";var ju=0,Uu={};dt.prototype.pa=!1,dt.prototype.ua=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()},pt[" "]=i;var qu,Hu=L("Opera"),Wu=L("Trident")||L("MSIE"),Ku=L("Edge"),$u=Ku||Wu,Qu=L("Gecko")&&!(R(vu.toLowerCase(),"webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),zu=R(vu.toLowerCase(),"webkit")&&!L("Edge");t:{var Gu="",Xu=function(){var t=vu;return Qu?/rv:([^\);]+)(\)|;)/.exec(t):Ku?/Edge\/([\d\.]+)/.exec(t):Wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):zu?/WebKit\/(\S+)/.exec(t):Hu?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Xu&&(Gu=Xu?Xu[1]:""),Wu){var Yu=mt();if(null!=Yu&&Yu>parseFloat(Gu)){qu=String(Yu);break t}}qu=Gu}var Ju,Zu={},tc=lu.document;Ju=tc&&Wu?mt()||("CSS1Compat"==tc.compatMode?parseInt(qu,10):5):void 0;var ec=Object.freeze||function(t){return t},nc=!Wu||9<=Number(Ju),ic=Wu&&!yt("9"),rc=function(){if(!lu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return lu.addEventListener("test",i,e),lu.removeEventListener("test",i,e),t}();gt.prototype.c=function(){this.Eb=!1},p(bt,gt);var oc=ec({2:"touch",3:"pen",4:"mouse"});bt.prototype.c=function(){bt.lb.c.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ic)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},bt.prototype.g=function(){return this.a};var ac="closure_listenable_"+(1e6*Math.random()|0),sc=0;Et.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=Ct(t,e,i,r);return-1<a?(e=t[a],n||(e.Ha=!1)):(e=new wt(e,this.src,o,!!i,r),e.Ha=n,t.push(e)),e};var uc="closure_lm_"+(1e6*Math.random()|0),cc={},lc=0,hc="__closure_events_fn_"+(1e9*Math.random()>>>0);p(Bt,dt),Bt.prototype[ac]=!0,Bt.prototype.addEventListener=function(t,e,n,i){kt(this,t,e,n,i)},Bt.prototype.removeEventListener=function(t,e,n,i){Dt(this,t,e,n,i)},Bt.prototype.dispatchEvent=function(e){var n,i=this.Ta;if(i)for(n=[];i;i=i.Ta)n.push(i);i=this.Mb;var r=e.type||e;if(t(e))e=new gt(e,i);else if(e instanceof gt)e.target=e.target||i;else{var o=e;e=new gt(r,i),j(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var s=e.b=n[a];o=jt(s,r,!0,e)&&o}if(s=e.b=i,o=jt(s,r,!0,e)&&o,o=jt(s,r,!1,e)&&o,n)for(a=0;a<n.length;a++)s=e.b=n[a],o=jt(s,r,!1,e)&&o;return o},Bt.prototype.ua=function(){if(Bt.lb.ua.call(this),this.u){var t,e=this.u,n=0;for(t in e.a){for(var i=e.a[t],r=0;r<i.length;r++)++n,_t(i[r]);delete e.a[t],e.b--}}this.Ta=null},su=$t.prototype,su.R=function(){Qt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},su.T=function(){return Qt(this),this.a.concat()},su.clear=function(){this.b={},this.c=this.a.length=0},su.get=function(t,e){return zt(this.b,t)?this.b[t]:e},su.set=function(t,e){zt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},su.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var dc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Xt.prototype.toString=function(){var t=[],e=this.c;e&&t.push(oe(e,fc,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(oe(e,fc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(oe(n,"/"==n.charAt(0)?vc:pc,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",oe(n,yc)),t.join("")};var fc=/[#\/\?@]/g,pc=/[#\?:]/g,vc=/[#\?]/g,mc=/[#\?@]/g,yc=/#/g;su=se.prototype,su.add=function(t,e){ue(this),this.c=null,t=fe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},su.clear=function(){this.a=this.c=null,this.b=0},su.forEach=function(t,e){ue(this),this.a.forEach(function(n,i){yu(n,function(n){t.call(e,n,i,this)},this)},this)},su.T=function(){ue(this);for(var t=this.a.R(),e=this.a.T(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},su.R=function(e){ue(this);var n=[];if(t(e))he(this,e)&&(n=A(n,this.a.get(fe(this,e))));else{e=this.a.R();for(var i=0;i<e.length;i++)n=A(n,e[i])}return n},su.set=function(t,e){return ue(this),this.c=null,t=fe(this,t),he(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},su.get=function(t,e){return t=t?this.R(t):[],0<t.length?String(t[0]):e},su.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.T(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var gc=!Wu||9<=Number(Ju);ve.prototype.la=!0,ve.prototype.ja=function(){return this.a},ve.prototype.toString=function(){return"Const{"+this.a+"}"};var bc={};ye(""),ge.prototype.la=!0,ge.prototype.ja=function(){return this.a},ge.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var wc=/%{(\w+)}/g,_c=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Ec={};Ee.prototype.la=!0,Ee.prototype.ja=function(){return this.a},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Tc=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Cc={};ke("about:blank"),Se.prototype.la=!0,Se.prototype.ja=function(){return this.a},Se.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var kc={};Oe("<!DOCTYPE html>"),Oe(""),Oe("<br>");var Sc={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ic={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Oc=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Dc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ac="Firefox",Mc="Chrome",Nc={Pc:"FirebaseCore-web",Rc:"FirebaseUI-web"};yn.prototype.get=function(){return this.a?this.b:this.c};var Pc,Rc={};try{var xc={};Object.defineProperty(xc,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(xc,"abcd",{configurable:!0,enumerable:!0,value:2}),Pc=2==xc.abcd}catch(t){Pc=!1}var Lc="EMAIL_SIGNIN",Bc="email",Fc="newEmail",Vc="requestType",jc="email",Uc="fromEmail",qc="data",Hc="operation";p(Dn,Error),Dn.prototype.C=function(){return{code:this.code,message:this.message}},Dn.prototype.toJSON=function(){return this.C()};var Wc="auth/",Kc={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",
"app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},$c="android",Qc="handleCodeInApp",zc="iOS",Gc="url",Xc="installApp",Yc="minimumVersion",Jc="packageName",Zc="bundleId",tl=null,el=null;Bn.prototype.f=function(){return this.b};var nl="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),il=["client_id","response_type","scope","redirect_uri","state"],rl={Qc:{Ma:"locale",Aa:500,za:600,Na:"facebook.com",cb:il},Sc:{Ma:null,Aa:500,za:620,Na:"github.com",cb:il},Tc:{Ma:"hl",Aa:515,za:680,Na:"google.com",cb:il},Zc:{Ma:"lang",Aa:485,za:705,Na:"twitter.com",cb:nl}},ol="idToken",al="providerId";p(qn,Un),p(Hn,qn),p(Wn,qn),p(Kn,qn),p($n,qn),Xn.prototype.xa=function(t){return Pr(t,Yn(this))},Xn.prototype.c=function(t,e){var n=Yn(this);return n.idToken=e,Rr(t,n)},Xn.prototype.f=function(t,e){var n=Yn(this);return Gn(xr(t,n),e)},Xn.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},Jn.prototype.Ca=function(t){return this.tb=V(t),this},p(Zn,Jn),Zn.prototype.ta=function(t){return I(this.a,t)||this.a.push(t),this},Zn.prototype.yb=function(){return M(this.a)},Zn.prototype.credential=function(t,e){if(!t&&!e)throw new Dn("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xn(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},p(ti,Zn),En(ti,"PROVIDER_ID","facebook.com"),En(ti,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),p(ni,Zn),En(ni,"PROVIDER_ID","github.com"),En(ni,"GITHUB_SIGN_IN_METHOD","github.com"),p(ri,Zn),En(ri,"PROVIDER_ID","google.com"),En(ri,"GOOGLE_SIGN_IN_METHOD","google.com"),p(ai,Jn),En(ai,"PROVIDER_ID","twitter.com"),En(ai,"TWITTER_SIGN_IN_METHOD","twitter.com"),ui.prototype.xa=function(t){return this.signInMethod==ci.EMAIL_LINK_SIGN_IN_METHOD?Br(t,jl,{email:this.a,oobCode:this.b}):Br(t,ih,{email:this.a,password:this.b})},ui.prototype.c=function(t,e){return this.signInMethod==ci.EMAIL_LINK_SIGN_IN_METHOD?Br(t,Ul,{idToken:e,email:this.a,oobCode:this.b}):Br(t,Yl,{idToken:e,email:this.a,password:this.b})},ui.prototype.f=function(t,e){return Gn(this.xa(t),e)},ui.prototype.C=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Tn(ci,{PROVIDER_ID:"password"}),Tn(ci,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Tn(ci,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),di.prototype.xa=function(t){return t.Sa(fi(this))},di.prototype.c=function(t,e){var n=fi(this);return n.idToken=e,Br(t,oh,n)},di.prototype.f=function(t,e){var n=fi(this);return n.operation="REAUTH",t=Br(t,ah,n),Gn(t,e)},di.prototype.C=function(){var t={providerId:"phone"};return this.a.Ra&&(t.verificationId=this.a.Ra),this.a.Qa&&(t.verificationCode=this.a.Qa),this.a.Ea&&(t.temporaryProof=this.a.Ea),this.a.Y&&(t.phoneNumber=this.a.Y),t},pi.prototype.Sa=function(e,n){var i=this.a.b;return G(n.verify()).then(function(r){if(!t(r))throw new Dn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Dr(i,{phoneNumber:e,recaptchaToken:r}).then(function(t){return"function"==typeof n.reset&&n.reset(),t},function(t){throw"function"==typeof n.reset&&n.reset(),t});default:throw new Dn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Tn(pi,{PROVIDER_ID:"phone"}),Tn(pi,{PHONE_SIGN_IN_METHOD:"phone"}),gi.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.C()}};var sl=null;wi.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=rn("universalLinks.subscribe",lu),"function"==typeof t&&t(null,this.b))},wi.prototype.unsubscribe=function(t){D(this.a,function(e){return e==t})},p(_i,Dn),p(Ei,Dn),Ei.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&j(t,e),t},Ei.prototype.toJSON=function(){return this.C()};var ul=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;Ci.prototype.c=null;var cl;p(Si,Ci),Si.prototype.a=function(){var t=Ii(this);return t?new ActiveXObject(t):new XMLHttpRequest},Si.prototype.b=function(){var t={};return Ii(this)&&(t[0]=!0,t[1]=!0),t},cl=new Si,p(Oi,Ci),Oi.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Di;throw Error("Unsupported browser")},Oi.prototype.b=function(){return{}},su=Di.prototype,su.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},su.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},su.abort=function(){this.a.abort()},su.setRequestHeader=function(){},su.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},su.ac=function(){this.status=200,this.responseText=this.a.responseText,Ai(this,4)},su.zb=function(){this.status=500,this.responseText="",Ai(this,4)},su.ec=function(){this.zb()},su.bc=function(){this.status=200,Ai(this,1)},su.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Mi.prototype.a=null;var ll=0;Mi.prototype.reset=function(t,e,n,i,r){"number"==typeof r||ll++,i||fu(),delete this.a},Pi.prototype.toString=function(){return this.name};var hl=new Pi("SEVERE",1e3),dl=new Pi("WARNING",900),fl=new Pi("CONFIG",700),pl=new Pi("FINE",500);Ni.prototype.log=function(t,e,n){if(t.value>=Ri(this).value)for(u(e)&&(e=e()),t=new Mi(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var vl={},ml=null;p(Bi,Ci),Bi.prototype.a=function(){return new Fi(this.f)},Bi.prototype.b=function(t){return function(){return t}}({}),p(Fi,Bt);var yl=0;su=Fi.prototype,su.open=function(t,e){if(this.readyState!=yl)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,Vi(this)},su.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.dc.bind(this),this.Ab.bind(this))},su.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Vi(this)),this.readyState=yl},su.dc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,Vi(this)),this.a&&(this.readyState=3,Vi(this),this.a&&t.text().then(this.cc.bind(this,t),this.Ab.bind(this))))},su.cc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,Vi(this))},su.Ab=function(t){var e=this.f;e&&e.log(dl,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,Vi(this))},su.setRequestHeader=function(t,e){this.g.append(t,e)},su.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(dl,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},su.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(dl,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},p(ji,Bt);var gl="";ji.prototype.b=xi("goog.net.XhrIo");var bl=/^https?$/i,wl=["POST","PUT"];su=ji.prototype,su.Fa=function(){"undefined"!=typeof cu&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Li(this.b,Ji(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},su.abort=function(){this.a&&this.c&&(Li(this.b,Ji(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qi(this))},su.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Qi(this,!0)),ji.lb.ua.call(this)},su.Db=function(){this.pa||(this.I||this.i||this.f?$i(this):this.sc())},su.sc=function(){$i(this)},su.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case gl:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(hl,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return Li(this.b,"Can not get response: "+t.message),null}},Zi.prototype.cancel=function(t){if(this.a)this.c instanceof Zi&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.s,this):this.u=!0,this.a||(t=new sr(this),er(this),tr(this,!1,t))}},Zi.prototype.m=function(t,e){this.i=!1,tr(this,t,e)},Zi.prototype.D=function(){er(this),tr(this,!0,null)},Zi.prototype.then=function(t,e,n){var i,r,o=new $(function(t,e){i=t,r=e});return ir(this,i,function(t){t instanceof sr?o.cancel():r(t)}),o.then(t,e,n)},v(Zi),p(ar,y),ar.prototype.message="Deferred has already fired",ar.prototype.name="AlreadyCalledError",p(sr,y),sr.prototype.message="Deferred was canceled",sr.prototype.name="CanceledError",ur.prototype.c=function(){throw delete _l[this.a],this.b};var _l={},El=0,Tl=1;p(fr,y),p(pr,Ci),pr.prototype.a=function(){return new this.f},pr.prototype.b=function(){return{}};var Cl,kl="idToken",Sl=new yn(3e4,6e4),Il={"Content-Type":"application/x-www-form-urlencoded"},Ol=new yn(3e4,6e4),Dl={"Content-Type":"application/json"};vr.prototype.m=function(t,e,n,i,r,o){if(Ye()&&("undefined"==typeof lu.fetch||"undefined"==typeof lu.Headers||"undefined"==typeof lu.Request))throw new Dn("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ji(this.c);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}Ft(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(Yi(this))||null}catch(e){t=null}e&&e(t)}),Vt(a,"ready",function(){s&&clearTimeout(s),ft(this)}),Vt(a,"timeout",function(){s&&clearTimeout(s),ft(this),e&&e(null)}),Ui(a,t,n,i,r)};var Al=ye("https://apis.google.com/js/client.js?onload=%{onload}"),Ml="__fcb"+Math.floor(1e6*Math.random()).toString();vr.prototype.u=function(t,e,n,i,r){var o=this;Cl.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},vr.prototype.jb=function(){return Br(this,Jl,{})},vr.prototype.mb=function(t,e){return Br(this,Xl,{idToken:t,email:e})},vr.prototype.nb=function(t,e){return Br(this,Yl,{idToken:t,password:e})};var Nl={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};su=vr.prototype,su.ob=function(t,e){var n={idToken:t},i=[];return B(Nl,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),Br(this,Xl,n)},su.gb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},j(t,e),Br(this,Kl,t)},su.hb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},j(t,e),Br(this,Hl,t)},su.fb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},j(t,e),Br(this,Wl,t)},su.Sa=function(t){return Br(this,rh,t)},su.Wa=function(t,e){return Br(this,zl,{oobCode:t,newPassword:e})},su.Ia=function(t){return Br(this,xl,{oobCode:t})},su.Ua=function(t){return Br(this,Rl,{oobCode:t})};var Pl,Rl={endpoint:"setAccountInfo",w:Lr,$:"email"},xl={endpoint:"resetPassword",w:Lr,J:function(t){if(!t.email||!t.requestType)throw new Dn("internal-error")}},Ll={endpoint:"signupNewUser",w:function(t){if(Er(t),!t.password)throw new Dn("weak-password")},J:Ir,P:!0},Bl={endpoint:"createAuthUri"},Fl={endpoint:"deleteAccount",S:["idToken"]},Vl={endpoint:"setAccountInfo",S:["idToken","deleteProvider"],w:function(t){if(!a(t.deleteProvider))throw new Dn("internal-error")}},jl={endpoint:"emailLinkSignin",S:["email","oobCode"],w:Er,J:Ir,P:!0},Ul={endpoint:"emailLinkSignin",S:["idToken","email","oobCode"],w:Er,J:Ir,P:!0},ql={endpoint:"getAccountInfo"},Hl={endpoint:"getOobConfirmationCode",S:["requestType"],w:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Dn("internal-error");Er(t)},$:"email"},Wl={endpoint:"getOobConfirmationCode",S:["idToken","requestType"],w:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Dn("internal-error")},$:"email"},Kl={endpoint:"getOobConfirmationCode",S:["requestType"],w:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Dn("internal-error");Er(t)},$:"email"},$l={pb:!0,endpoint:"getProjectConfig",Cb:"GET"},Ql={pb:!0,endpoint:"getRecaptchaParam",Cb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Dn("internal-error")}},zl={endpoint:"resetPassword",w:Lr,$:"email"},Gl={endpoint:"sendVerificationCode",S:["phoneNumber","recaptchaToken"],$:"sessionInfo"},Xl={endpoint:"setAccountInfo",S:["idToken"],w:Tr,P:!0},Yl={endpoint:"setAccountInfo",S:["idToken"],w:function(t){if(Tr(t),!t.password)throw new Dn("weak-password")},J:Ir,P:!0},Jl={endpoint:"signupNewUser",J:Ir,P:!0},Zl={endpoint:"verifyAssertion",w:Mr,J:Nr,P:!0},th={endpoint:"verifyAssertion",w:Mr,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Dn("user-not-found");if(t.errorMessage)throw Fr(t.errorMessage);if(!t[kl])throw new Dn("internal-error")},P:!0},eh={endpoint:"verifyAssertion",w:function(t){if(Mr(t),!t.idToken)throw new Dn("internal-error")},J:Nr,P:!0},nh={endpoint:"verifyCustomToken",w:function(t){if(!t.token)throw new Dn("invalid-custom-token")},J:Ir,P:!0},ih={endpoint:"verifyPassword",w:function(t){if(Er(t),!t.password)throw new Dn("wrong-password")},J:Ir,P:!0},rh={endpoint:"verifyPhoneNumber",w:Or,J:Ir},oh={endpoint:"verifyPhoneNumber",w:function(t){if(!t.idToken)throw new Dn("internal-error");Or(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ti(t);Ir(t)}},ah={Tb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",w:Or,J:Ir},sh={Vc:{Ya:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://securetoken.googleapis.com/v1/token",id:"p"},Xc:{Ya:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",eb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},Yc:{Ya:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",eb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};Pl=jr("__EID__")?"__EID__":void 0;var uh=ye("https://apis.google.com/js/api.js?onload=%{onload}"),ch=new yn(3e4,6e4),lh=new yn(5e3,15e3),hh=null;$r.prototype.toString=function(){return this.f?te(this.a,"v",this.f):le(this.a.a,"v"),this.b?te(this.a,"eid",this.b):le(this.a.a,"eid"),this.c.length?te(this.a,"fw",this.c.join(",")):le(this.a.a,"fw"),this.a.toString()},Qr.prototype.toString=function(){var t=ie(this.m,"/__/auth/handler");if(te(t,"apiKey",this.u),te(t,"appName",this.c),te(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=uu.app(this.c).auth().aa()}catch(t){n=null}e.Xa=n,te(t,"providerId",this.a.providerId),e=this.a,n=hn(e.tb);for(var i in n)n[i]=n[i].toString();i=e.zc,n=V(n);for(var r=0;r<i.length;r++){var o=i[r];o in n&&delete n[o]}e.Za&&e.Xa&&!n[e.Za]&&(n[e.Za]=e.Xa),F(n)||te(t,"customParameters",ln(n))}if("function"==typeof this.a.yb&&(e=this.a.yb(),e.length&&te(t,"scopes",e.join(","))),this.i?te(t,"redirectUrl",this.i):le(t.a,"redirectUrl"),this.g?te(t,"eventId",this.g):le(t.a,"eventId"),this.h?te(t,"v",this.h):le(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!ee(t,a)&&te(t,a,this.b[a]);return this.f?te(t,"eid",this.f):le(t.a,"eid"),a=zr(this.c),a.length&&te(t,"fw",a.join(",")),t.toString()},su=Gr.prototype,su.Da=function(t,e,n){var i=new Dn("popup-closed-by-user"),r=new Dn("web-storage-unsupported"),o=this,a=!1;return this.ca().then(function(){eo(o).then(function(n){n||(t&&We(t),e(r),a=!0)})}).o(function(){}).then(function(){if(!a)return $e(t)}).then(function(){if(!a)return qt(n).then(function(){e(i)})})},su.Gb=function(){var t=nn();return!cn(t)&&!pn(t)},su.Bb=function(){return!1},su.xb=function(t,e,n,i,r,o,a){if(!t)return X(new Dn("popup-blocked"));if(a&&!cn())return this.ca().o(function(e){We(t),r(e)}),i(),G();this.a||(this.a=Xr(Jr(this)));var s=this;return this.a.then(function(){var e=s.ca().o(function(e){throw We(t),r(e),e});return i(),e}).then(function(){if(yi(n),!a){var i=Zr(s.u,s.f,s.b,e,n,null,o,s.c,void 0,s.h);je(i,t)}}).o(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},su.Ba=function(t,e,n){this.a||(this.a=Xr(Jr(this)));var i=this;return this.a.then(function(){yi(e);var r=Zr(i.u,i.f,i.b,t,e,Ve(),n,i.c,void 0,i.h);je(r)}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},su.ca=function(){var t=this;return Yr(this).then(function(){return t.i.ab}).o(function(){throw t.a=null,new Dn("network-request-failed")})},su.Lb=function(){return!0},su.va=function(t){this.g.push(t)},su.Ja=function(t){D(this.g,function(e){return e==t})},su=no.prototype,su.get=function(t){return G(this.a.getItem(t)).then(function(t){return t&&dn(t)})},su.set=function(t,e){return G(this.a.setItem(t,ln(e)))},su.X=function(t){return G(this.a.removeItem(t))},su.ia=function(){},su.ea=function(){},su=io.prototype,su.get=function(t){return G(this.a[t])},su.set=function(t,e){return this.a[t]=e,G()},su.X=function(t){return delete this.a[t],G()},su.ia=function(){},su.ea=function(){};var dh;su=ro.prototype,su.set=function(t,e){var n,i=!1,r=this;return ao(this).then(function(e){return n=e,e=so(uo(n,!0)),co(e.get(t))}).then(function(o){var a=so(uo(n,!0));return o?(o.value=e,co(a.put(o))):(r.a++,i=!0,o={},o.fbase_key=t,o.value=e,co(a.add(o)))}).then(function(){r.f[t]=e}).ga(function(){i&&r.a--})},su.get=function(t){return ao(this).then(function(e){return co(so(uo(e,!1)).get(t))}).then(function(t){return t&&t.value})},su.X=function(t){var e=!1,n=this;return ao(this).then(function(i){return e=!0,n.a++,co(so(uo(i,!0)).delete(t))}).then(function(){delete n.f[t]}).ga(function(){e&&n.a--})},su.Ic=function(){var t=this;return ao(this).then(function(t){var e=so(uo(t,!1));return e.getAll?co(e.getAll()):new $(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e.continue()):t(i)},r.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},i=[];if(0==t.a){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=Ue(t.f,n),t.f=n}return i})},su.ia=function(t){0==this.c.length&&lo(this),this.c.push(t)},su.ea=function(t){D(this.c,function(e){return e==t}),0==this.c.length&&this.b&&this.b.cancel("STOP_EVENT")},su=ho.prototype,su.get=function(t){var e=this;return G().then(function(){var n=e.a.getItem(t);return dn(n)})},su.set=function(t,e){var n=this;return G().then(function(){var i=ln(e);null===i?n.X(t):n.a.setItem(t,i)})},su.X=function(t){var e=this;return G().then(function(){e.a.removeItem(t)})},su.ia=function(t){lu.window&&kt(lu.window,"storage",t)},su.ea=function(t){lu.window&&Dt(lu.window,"storage",t)},su=vo.prototype,su.get=function(){return G(null)},su.set=function(){return G()},su.X=function(){return G()},su.ia=function(){},su.ea=function(){},su=mo.prototype,su.get=function(t){var e=this;return G().then(function(){var n=e.a.getItem(t);return dn(n)})},su.set=function(t,e){var n=this;return G().then(function(){var i=ln(e);null===i?n.X(t):n.a.setItem(t,i)})},su.X=function(t){var e=this;return G().then(function(){e.a.removeItem(t)})},su.ia=function(){},su.ea=function(){};var fh,ph,vh={B:ho,Pa:mo},mh={B:ho,Pa:mo},yh={B:no,Pa:vo},gh={B:ho,Pa:vo},bh={Uc:"local",NONE:"none",Wc:"session"};su=_o.prototype,su.get=function(t,e){return To(this,t.B).get(Co(t,e))},su.set=function(t,e,n){var i=Co(t,n),r=this,o=To(this,t.B);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.B&&(r.b[i]=e)})},su.addListener=function(t,e,n){t=Co(t,e),this.l&&(this.b[t]=lu.localStorage.getItem(t)),F(this.a)&&(To(this,"local").ia(this.f),this.h||(Fe()||!_n())&&lu.indexedDB||!this.l||Io(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},su.removeListener=function(t,e,n){t=Co(t,e),this.a[t]&&(D(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),F(this.a)&&(To(this,"local").ea(this.f),Oo(this))},su.Kb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var i=this.b[n];"undefined"==typeof i&&(i=null);var r=lu.localStorage.getItem(n);r!==i&&(this.b[n]=r,this.Va(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!=typeof t.a.a?To(this,"local").ea(this.f):Oo(this),this.m)if(n=lu.localStorage.getItem(e),i=t.a.newValue,i!==n)null!==i?lu.localStorage.setItem(e,i):lu.localStorage.removeItem(e);else if(this.b[e]===i&&"undefined"==typeof t.a.a)return;var o=this;n=function(){"undefined"==typeof t.a.a&&o.b[e]===lu.localStorage.getItem(e)||(o.b[e]=lu.localStorage.getItem(e),o.Va(e))},Wu&&Ju&&10==Ju&&lu.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else yu(t,d(this.Va,this))},su.Va=function(t){this.a[t]&&yu(this.a[t],function(t){t()})};var wh,_h={name:"authEvent",B:"local"};p(Po,No);for(var Eh=64,Th=Eh-1,Ch=[],kh=0;kh<Th;kh++)Ch[kh]=0;var Sh=A(128,Ch);Po.prototype.reset=function(){this.g=this.c=0,this.a=lu.Int32Array?new Int32Array(this.h):M(this.h)};var Ih=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];p(Lo,Po);var Oh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];su=Bo.prototype,su.ca=function(){return this.ya?this.ya:this.ya=ze().then(function(){if("function"!=typeof rn("universalLinks.subscribe",lu))throw Fo("cordova-universal-links-plugin is not installed");if("undefined"==typeof rn("BuildInfo.packageName",lu))throw Fo("cordova-plugin-buildinfo is not installed");if("function"!=typeof rn("cordova.plugins.browsertab.openUrl",lu))throw Fo("cordova-plugin-browsertab is not installed");if("function"!=typeof rn("cordova.InAppBrowser.open",lu))throw Fo("cordova-plugin-inappbrowser is not installed")},function(){throw new Dn("cordova-not-ready")})},su.Da=function(t,e){return e(new Dn("operation-not-supported-in-this-environment")),G()},su.xb=function(){return X(new Dn("operation-not-supported-in-this-environment"))},su.Lb=function(){return!1},su.Gb=function(){return!0},su.Bb=function(){return!0},su.Ba=function(t,e,n){if(this.c)return X(new Dn("redirect-operation-pending"));var i=this,r=lu.document,o=null,a=null,s=null,u=null;return this.c=G().then(function(){return yi(e),Ho(i)}).then(function(){return Uo(i,t,e,n)}).then(function(){return new $(function(t,e){a=function(){var e=rn("cordova.plugins.browsertab.close",lu);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(a),s=function(){o||(o=qt(2e3).then(function(){e(new Dn("redirect-cancelled-by-user"))}))},u=function(){gn()&&s()},r.addEventListener("resume",s,!1),nn().toLowerCase().match(/android/)||r.addEventListener("visibilitychange",u,!1)}).o(function(t){return Wo(i).then(function(){throw t})})}).ga(function(){s&&r.removeEventListener("resume",s,!1),u&&r.removeEventListener("visibilitychange",u,!1),
o&&o.cancel(),a&&i.Ja(a),i.c=null})},su.va=function(t){this.b.push(t),Ho(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new gi("unknown",null,null,null,new Dn("no-auth-event")),t(e))})},su.Ja=function(t){D(this.b,function(e){return e==t})};var Dh={name:"pendingRedirect",B:"session"};Xo.prototype.reset=function(){this.f=!1,this.a.Ja(this.i),this.a=Yo(this.v,this.l,this.u)},Xo.prototype.subscribe=function(t){if(I(this.h,t)||this.h.push(t),!this.f){var e=this;Go(this.g).then(function(t){t?zo(e.g).then(function(){Jo(e).o(function(t){var n=new gi("unknown",null,null,null,new Dn("operation-not-supported-in-this-environment"));ea(t)&&e.m(n)})}):Zo(e)}).o(function(){Zo(e)})}},Xo.prototype.unsubscribe=function(t){D(this.h,function(e){return e==t})},Xo.prototype.m=function(t){if(!t)throw new Dn("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.qb(t.b,t.c)){(e=this.b[t.b])&&e.h(t,i),e=!0;break}}return ra(this.c),e};var Ah=new yn(2e3,1e4),Mh=new yn(3e4,6e4);Xo.prototype.ba=function(){return this.c.ba()},Xo.prototype.Ba=function(t,e,n){var i,r=this;return Qo(this.g).then(function(){return r.a.Ba(t,e,n).o(function(t){if(ea(t))throw new Dn("operation-not-supported-in-this-environment");return i=t,zo(r.g).then(function(){throw i})}).then(function(){return r.a.Lb()?new $(function(){}):zo(r.g).then(function(){return r.ba()}).then(function(){}).o(function(){})})})},Xo.prototype.Da=function(t,e,n,i){return this.a.Da(n,function(n){t.fa(e,null,n,i)},Ah.get())};var Nh={};ia.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ia.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,i=t.c,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;"unknown"!=n||r||o?t.a?(ua(this,!0,null,t.a),G()):e.wa(n,i)?oa(this,t,e):X(new Dn("invalid-auth-event")):(ua(this,!1,null,null),G())}else X(new Dn("invalid-auth-event"))},ia.prototype.ba=function(){var t=this;return new $(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),ca(t))})},la.prototype.h=function(t,e){if(t){var n=t.b,i=t.c;t.a?(e.fa(t.b,null,t.a,t.c),G()):e.wa(n,i)?ha(t,e):X(new Dn("invalid-auth-event"))}else X(new Dn("invalid-auth-event"))},da.prototype.confirm=function(t){return t=vi(this.verificationId,t),this.a(t)},pa.prototype.start=function(){this.a=this.c,ma(this,!0)},pa.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ya.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},ya.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?X(new Dn("user-token-expired")):t||!this.b||fu()>this.c-3e4?this.a?wa(this,{grant_type:"refresh_token",refresh_token:this.a}):G(null):G({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},_a.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},p(Ca,gt),p(ka,Bt),ka.prototype.na=function(t){this.ha=t,mr(this.b,t)},ka.prototype.aa=function(){return this.ha},ka.prototype.Ka=function(){return M(this.O)},ka.prototype.Ga=function(){this.l.b&&(this.l.stop(),this.l.start())},En(ka.prototype,"providerId","firebase"),su=ka.prototype,su.reload=function(){var t=this;return es(this,Va(this).then(function(){return Ka(t).then(function(){return xa(t)}).then(Fa)}))},su.F=function(t){var e=this;return es(this,Va(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Dn("internal-error");return t.accessToken!=e.qa&&(Pa(e,t.accessToken),e.dispatchEvent(new Ca("tokenChanged"))),Ha(e,"refreshToken",t.refreshToken),t.accessToken}))},su.getToken=function(t){return Rc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]||(Rc["firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead."]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("firebase.User.prototype.getToken is deprecated. Please use firebase.User.prototype.getIdToken instead.")),this.F(t)},su.tc=function(t){if(t=t.users,!t||!t.length)throw new Dn("internal-error");t=t[0],Ba(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=za(t),n=0;n<e.length;n++)Ua(this,e[n]);Ha(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},su.bb=function(t){var e=this,n=null;return es(this,t.f(this.b,this.uid).then(function(t){return $a(e,t),n=Xa(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},su.uc=function(t){return this.bb(t).then(function(){})},su.$a=function(t){var e=this,n=null;return es(this,Ga(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=Xa(e,t,"link"),Ya(e,t)}).then(function(){return n}))},su.kc=function(t){return this.$a(t).then(function(t){return t.user})},su.mc=function(t,e){var n=this;return es(this,Ga(this,"phone").then(function(){return fa(Da(n),t,e,d(n.$a,n))}))},su.vc=function(t,e){var n=this;return es(this,G().then(function(){return fa(Da(n),t,e,d(n.bb,n))}),!0)},su.mb=function(t){var e=this;return es(this,this.F().then(function(n){return e.b.mb(n,t)}).then(function(t){return $a(e,t),e.reload()}))},su.Mc=function(t){var e=this;return es(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return $a(e,t),e.reload()}))},su.nb=function(t){var e=this;return es(this,this.F().then(function(n){return e.b.nb(n,t)}).then(function(t){return $a(e,t),e.reload()}))},su.ob=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Va(this);var e=this;return es(this,this.F().then(function(n){return e.b.ob(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return $a(e,t),Ha(e,"displayName",t.displayName||null),Ha(e,"photoURL",t.photoUrl||null),yu(e.providerData,function(t){"password"===t.providerId&&(En(t,"displayName",e.displayName),En(t,"photoURL",e.photoURL))}),xa(e)}).then(Fa))},su.Lc=function(t){var e=this;return es(this,Ka(this).then(function(n){return I(ja(e),t)?Ar(e.b,n,[t]).then(function(t){var n={};return yu(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),yu(ja(e),function(t){n[t]||qa(e,t)}),n[pi.PROVIDER_ID]||En(e,"phoneNumber",null),xa(e)}):xa(e).then(function(){throw new Dn("no-such-provider")})}))},su.delete=function(){var t=this;return es(this,this.F().then(function(e){return Br(t.b,Fl,{idToken:e})}).then(function(){t.dispatchEvent(new Ca("userDeleted"))})).then(function(){for(var e=0;e<t.D.length;e++)t.D[e].cancel("app-deleted");Sa(t,null),Oa(t,null),t.D=[],t.m=!0,Na(t),En(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},su.qb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.Z||null)==e||"reauthViaRedirect"==t&&(this.Z||null)==e)},su.fa=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},su.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?d(this.vb,this):"reauthViaPopup"==t&&e==(this.g||null)?d(this.wb,this):"linkViaRedirect"==t&&(this.Z||null)==e?d(this.vb,this):"reauthViaRedirect"==t&&(this.Z||null)==e?d(this.wb,this):null},su.nc=function(t){var e=this;return Ja(this,"linkViaPopup",t,function(){return Ga(e,t.providerId).then(function(){return xa(e)})},!1)},su.wc=function(t){return Ja(this,"reauthViaPopup",t,function(){return G()},!0)},su.oc=function(t){var e=this;return Za(this,"linkViaRedirect",t,function(){return Ga(e,t.providerId)},!1)},su.xc=function(t){return Za(this,"reauthViaRedirect",t,function(){return G()},!0)},su.vb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null,r=this.F().then(function(i){return Rr(n.b,{requestUri:t,sessionId:e,idToken:i})}).then(function(t){return i=Xa(n,t,"link"),Ya(n,t)}).then(function(){return i});return es(this,r)},su.wb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var i=null,r=G().then(function(){return Gn(xr(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return i=Xa(n,t,"reauthenticate"),$a(n,t),n.i=null,n.reload()}).then(function(){return i});return es(this,r,!0)},su.fb=function(t){var e=this,n=null;return es(this,this.F().then(function(e){return n=e,"undefined"==typeof t||F(t)?{}:Nn(new Mn(t))}).then(function(t){return e.b.fb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},su.toJSON=function(){return this.C()},su.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.G,appName:this.s,authDomain:this.A,stsTokenManager:this.h.C(),redirectEventId:this.Z||null};return this.metadata&&j(t,this.metadata.C()),yu(this.providerData,function(e){t.providerData.push(kn(e))}),t};var Ph={name:"redirectUser",B:"session"};us.prototype.g=function(){var t=this,e=hs("local");ms(this,function(){return G().then(function(){return t.c&&"local"!=t.c.B?t.b.get(e,t.a):null}).then(function(n){if(n)return cs(t,"local").then(function(){t.c=e})})})};var Rh={name:"persistence",B:"session"};us.prototype.ib=function(t){var e=null,n=this;return wo(t),ms(this,function(){return t!=n.c.B?n.b.get(n.c,n.a).then(function(i){return e=i,cs(n,t)}).then(function(){if(n.c=hs(t),e)return n.b.set(n.c,e,n.a)}):G()})},p(ys,Bt),p(gs,gt),p(bs,gt),su=ys.prototype,su.ib=function(t){return t=this.h.ib(t),Rs(this,t)},su.na=function(t){this.V===t||this.l||(this.V=t,mr(this.b,this.V),this.dispatchEvent(new gs(this.aa())))},su.aa=function(){return this.V},su.Nc=function(){var t=lu.navigator;this.na(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},su.pc=function(t){this.D.push(t),yr(this.b,uu.SDK_VERSION?en(uu.SDK_VERSION,this.D):null),this.dispatchEvent(new bs(this.D))},su.Ka=function(){return M(this.D)},su.toJSON=function(){return{apiKey:Ds(this).options.apiKey,authDomain:Ds(this).options.authDomain,appName:Ds(this).name,currentUser:As(this)&&As(this).C()}},su.qb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},su.fa=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},su.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?d(this.Xb,this):null},su.Xb=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,r=null,o=Pr(n.b,t).then(function(t){return i=mi(t),r=jn(t),t});return t=n.U.then(function(){return o}).then(function(t){return Ts(n,t)}).then(function(){return Cn({user:As(n),credential:i,additionalUserInfo:r,operationType:"signIn"})}),Rs(this,t)},su.Fc=function(t){if(!an())return X(new Dn("operation-not-supported-in-this-environment"));var e=this,n=Vn(t.providerId),i=fn(),r=null;(!cn()||Xe())&&Ds(this).options.authDomain&&t.isOAuthProvider&&(r=Zr(Ds(this).options.authDomain,Ds(this).options.apiKey,Ds(this).name,"signInViaPopup",t,null,i,uu.SDK_VERSION||null));var o=Ke(r,n&&n.Aa,n&&n.za);return n=_s(this).then(function(e){return ta(e,o,"signInViaPopup",t,i,!!r)}).then(function(){return new $(function(t,n){e.fa("signInViaPopup",null,new Dn("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=e.a.Da(e,"signInViaPopup",o,i)})}).then(function(t){return o&&We(o),t?Cn(t):null}).o(function(t){throw o&&We(o),t}),Rs(this,n)},su.Gc=function(t){if(!an())return X(new Dn("operation-not-supported-in-this-environment"));var e=this,n=_s(this).then(function(){return ds(e.h)}).then(function(){return e.a.Ba("signInViaRedirect",t)});return Rs(this,n)},su.ba=function(){if(!an())return X(new Dn("operation-not-supported-in-this-environment"));var t=this,e=_s(this).then(function(){return t.a.ba()}).then(function(t){return t?Cn(t):null});return Rs(this,e)},su.kb=function(){var t=this,e=this.i.then(function(){return As(t)?(Cs(t,null),ps(t.h).then(function(){Ns(t)})):G()});return Rs(this,e)},su.Hc=function(){var t=this;return vs(this.h,Ds(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=As(t)&&e){n=As(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Wa(As(t),e),As(t).F();(As(t)||e)&&(Cs(t,e),e&&(La(e),e.da=t.G),t.a&&t.a.subscribe(t),Ns(t))}})},su.ka=function(t){return fs(this.h,t)},su.Yb=function(){Ns(this),this.ka(As(this))},su.fc=function(){this.kb()},su.gc=function(){this.kb()},su.hc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(As(e))})},su.ic=function(t){var e=this;Ps(this,function(){t.next(As(e))})},su.rc=function(t,e,n){var i=this;return this.W&&uu.Promise.resolve().then(function(){u(t)?t(As(i)):u(t.next)&&t.next(As(i))}),this.Ob(t,e,n)},su.qc=function(t,e,n){var i=this;return this.W&&uu.Promise.resolve().then(function(){i.O=i.getUid(),u(t)?t(As(i)):u(t.next)&&t.next(As(i))}),this.Pb(t,e,n)},su.$b=function(t){var e=this,n=this.i.then(function(){return As(e)?As(e).F(t).then(function(t){return{accessToken:t}}):null});return Rs(this,n)},su.Bc=function(t){return this.Hb(t).then(function(t){return t.user})},su.Hb=function(t){var e=this;return this.i.then(function(){return Os(e,Br(e.b,nh,{token:t}))}).then(function(t){var n=t.user;return Ha(n,"isAnonymous",!1),e.ka(n),t})},su.Ib=function(t,e){var n=this;return this.i.then(function(){return Os(n,Br(n.b,ih,{email:t,password:e}))})},su.Cc=function(t,e){return this.Ib(t,e).then(function(t){return t.user})},su.Sb=function(t,e){return this.sb(t,e).then(function(t){return t.user})},su.sb=function(t,e){var n=this;return this.i.then(function(){return Os(n,Br(n.b,Ll,{email:t,password:e}))})},su.Ac=function(t){return this.Oa(t).then(function(t){return t.user})},su.Oa=function(t){var e=this;return this.i.then(function(){return Os(e,t.xa(e.b))})},su.jb=function(){return this.Jb().then(function(t){return t.user})},su.Jb=function(){var t=this;return this.i.then(function(){var e=As(t);if(e&&e.isAnonymous){var n=Cn({providerId:null,isNewUser:!1});return Cn({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Os(t,t.b.jb()).then(function(e){var n=e.user;return Ha(n,"isAnonymous",!0),t.ka(n),e})})},su.getUid=function(){return As(this)&&As(this).uid||null},su.Qb=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&As(this)&&Ma(As(this))},su.yc=function(t){var e=this;yu(this.m,function(n){n==t&&e.s--}),0>this.s&&(this.s=0),0==this.s&&As(this)&&Na(As(this)),this.removeAuthTokenListener(t)},su.addAuthTokenListener=function(t){var e=this;this.m.push(t),Rs(this,this.i.then(function(){e.l||I(e.m,t)&&t(Ms(e))}))},su.removeAuthTokenListener=function(t){D(this.m,function(e){return e==t})},su.delete=function(){this.l=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,t.b.removeListener(hs("local"),t.a,this.ha)),this.a&&this.a.unsubscribe(this),uu.Promise.resolve()},su.Vb=function(t){return Rs(this,Cr(this.b,t))},su.Wb=function(t){return Rs(this,kr(this.b,t))},su.jc=function(t){return!!hi(t)},su.hb=function(t,e){var n=this;return Rs(this,G().then(function(){var t=new Mn(e);if(!t.c)throw new Dn("argument-error",Qc+" must be true when sending sign in link to email");return Nn(t)}).then(function(e){return n.b.hb(t,e)}).then(function(){}))},su.Oc=function(t){return this.Ia(t).then(function(t){return t.data.email})},su.Wa=function(t,e){return Rs(this,this.b.Wa(t,e).then(function(){}))},su.Ia=function(t){return Rs(this,this.b.Ia(t).then(function(t){return new On(t)}))},su.Ua=function(t){return Rs(this,this.b.Ua(t).then(function(){}))},su.gb=function(t,e){var n=this;return Rs(this,G().then(function(){return"undefined"==typeof e||F(e)?{}:Nn(new Mn(e))}).then(function(e){return n.b.gb(t,e)}).then(function(){}))},su.Ec=function(t,e){return Rs(this,fa(this,t,e,d(this.Oa,this)))},su.Dc=function(t,e){var n=this;return Rs(this,G().then(function(){var i=li(t,e||Ve());return n.Oa(i)}))};var xh="callback",Lh="expired-callback",Bh="sitekey",Fh="size";su=xs.prototype,su.ya=function(){var t=this;return this.c?this.c:this.c=Fs(this,G().then(function(){if(sn()&&!Ye())return Qe();throw new Dn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return Us(qs(),t.s())}).then(function(){return Br(t.u,Ql,{})}).then(function(e){t.a[Bh]=e.recaptchaSiteKey}).o(function(e){throw t.c=null,e}))},su.render=function(){Vs(this);var t=this;return Fs(this,this.ya().then(function(){if(null===t.b){var e=t.l;if(!t.h){var n=De(e);e=Me("DIV"),n.appendChild(e)}t.b=grecaptcha.render(e,t.a)}return t.b}))},su.verify=function(){Vs(this);var t=this;return Fs(this,this.render().then(function(e){return new $(function(n){var i=grecaptcha.getResponse(e);if(i)n(i);else{var r=function(e){e&&(Bs(t,r),n(e))};t.i.push(r),t.h&&grecaptcha.execute(t.b)}})}))},su.reset=function(){Vs(this),null!==this.b&&grecaptcha.reset(this.b)},su.clear=function(){Vs(this),this.m=!0,qs().b--;for(var t=0;t<this.g.length;t++)this.g[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.h){t=De(this.l);for(var e;e=t.firstChild;)t.removeChild(e)}};var Vh=ye("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),jh=null;p(Hs,xs);var Uh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");iu(ys.prototype,{Ua:{name:"applyActionCode",j:[Ks("code")]},Ia:{name:"checkActionCode",j:[Ks("code")]},Wa:{name:"confirmPasswordReset",j:[Ks("code"),Ks("newPassword")]},Sb:{name:"createUserWithEmailAndPassword",j:[Ks("email"),Ks("password")]},sb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[Ks("email"),Ks("password")]},Vb:{name:"fetchProvidersForEmail",j:[Ks("email")]},Wb:{name:"fetchSignInMethodsForEmail",j:[Ks("email")]},ba:{name:"getRedirectResult",j:[]},jc:{name:"isSignInWithEmailLink",j:[Ks("emailLink")]},qc:{name:"onAuthStateChanged",j:[nu(Qs(),zs(),"nextOrObserver"),zs("opt_error",!0),zs("opt_completed",!0)]},rc:{name:"onIdTokenChanged",j:[nu(Qs(),zs(),"nextOrObserver"),zs("opt_error",!0),zs("opt_completed",!0)]},gb:{name:"sendPasswordResetEmail",j:[Ks("email"),nu(Qs("opt_actionCodeSettings",!0),Gs(null,!0),"opt_actionCodeSettings",!0)]},hb:{name:"sendSignInLinkToEmail",j:[Ks("email"),Qs("actionCodeSettings")]},ib:{name:"setPersistence",j:[Ks("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Zs()]},jb:{name:"signInAnonymously",j:[]},Jb:{name:"signInAnonymouslyAndRetrieveData",j:[]},Ac:{name:"signInWithCredential",j:[Zs()]},Bc:{name:"signInWithCustomToken",j:[Ks("token")]},Hb:{name:"signInAndRetrieveDataWithCustomToken",j:[Ks("token")]},Cc:{name:"signInWithEmailAndPassword",j:[Ks("email"),Ks("password")]},Dc:{name:"signInWithEmailLink",j:[Ks("email"),Ks("emailLink",!0)]},Ib:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[Ks("email"),Ks("password")]},Ec:{name:"signInWithPhoneNumber",j:[Ks("phoneNumber"),eu()]},Fc:{name:"signInWithPopup",j:[tu()]},Gc:{name:"signInWithRedirect",j:[tu()]},kb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ks(null,!0)]},Nc:{name:"useDeviceLanguage",j:[]},Oc:{name:"verifyPasswordResetCode",j:[Ks("code")]}}),function(t,e){for(var n in e){var i=e[n].name;if(i!==n){var r=e[n].Rb;Object.defineProperty(t,i,{get:function(){return this[n]},set:function(t){Ws(i,[r],[t],!0),this[n]=t},enumerable:!0})}}}(ys.prototype,{lc:{name:"languageCode",Rb:nu(Ks(),Gs(),"languageCode")}}),ys.Persistence=bh,ys.Persistence.LOCAL="local",ys.Persistence.SESSION="session",ys.Persistence.NONE="none",iu(ka.prototype,{delete:{name:"delete",j:[]},F:{name:"getIdToken",j:[$s()]},getToken:{name:"getToken",j:[$s()]},$a:{name:"linkAndRetrieveDataWithCredential",j:[Zs()]},kc:{name:"linkWithCredential",j:[Zs()]},mc:{name:"linkWithPhoneNumber",j:[Ks("phoneNumber"),eu()]},nc:{name:"linkWithPopup",j:[tu()]},oc:{name:"linkWithRedirect",j:[tu()]},bb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Zs()]},uc:{name:"reauthenticateWithCredential",j:[Zs()]},vc:{name:"reauthenticateWithPhoneNumber",j:[Ks("phoneNumber"),eu()]},wc:{name:"reauthenticateWithPopup",j:[tu()]},xc:{name:"reauthenticateWithRedirect",j:[tu()]},reload:{name:"reload",j:[]},fb:{name:"sendEmailVerification",j:[nu(Qs("opt_actionCodeSettings",!0),Gs(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ks(null,!0)]},Lc:{name:"unlink",j:[Ks("provider")]},mb:{name:"updateEmail",j:[Ks("email")]},nb:{name:"updatePassword",j:[Ks("password")]},Mc:{name:"updatePhoneNumber",j:[Zs("phone")]},ob:{name:"updateProfile",j:[Qs("profile")]}}),iu($.prototype,{ga:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),iu(da.prototype,{confirm:{name:"confirm",j:[Ks("verificationCode")]}}),ru(ci,"credential",function(t,e){return new ui(t,e)},[Ks("email"),Ks("password")]),iu(ti.prototype,{ta:{name:"addScope",j:[Ks("scope")]},Ca:{name:"setCustomParameters",j:[Qs("customOAuthParameters")]}}),ru(ti,"credential",ei,[nu(Ks(),Qs(),"token")]),ru(ci,"credentialWithLink",li,[Ks("email"),Ks("emailLink")]),iu(ni.prototype,{ta:{name:"addScope",j:[Ks("scope")]},Ca:{name:"setCustomParameters",j:[Qs("customOAuthParameters")]}}),ru(ni,"credential",ii,[nu(Ks(),Qs(),"token")]),iu(ri.prototype,{ta:{name:"addScope",j:[Ks("scope")]},Ca:{name:"setCustomParameters",j:[Qs("customOAuthParameters")]}}),ru(ri,"credential",oi,[nu(Ks(),nu(Qs(),Gs()),"idToken"),nu(Ks(),Gs(),"accessToken",!0)]),iu(ai.prototype,{Ca:{name:"setCustomParameters",j:[Qs("customOAuthParameters")]}}),ru(ai,"credential",si,[nu(Ks(),Qs(),"token"),Ks("secret",!0)]),iu(Zn.prototype,{ta:{name:"addScope",j:[Ks("scope")]},credential:{name:"credential",j:[nu(Ks(),Gs(),"idToken",!0),nu(Ks(),Gs(),"accessToken",!0)]},Ca:{name:"setCustomParameters",j:[Qs("customOAuthParameters")]}}),ru(pi,"credential",vi,[Ks("verificationId"),Ks("verificationCode")]),iu(pi.prototype,{Sa:{name:"verifyPhoneNumber",j:[Ks("phoneNumber"),eu()]}}),iu(Dn.prototype,{toJSON:{name:"toJSON",j:[Ks(null,!0)]}}),iu(Ei.prototype,{toJSON:{name:"toJSON",j:[Ks(null,!0)]}}),iu(_i.prototype,{toJSON:{name:"toJSON",j:[Ks(null,!0)]}}),iu(Hs.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"==typeof uu||!uu.INTERNAL||!uu.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ys,Error:Dn};ru(t,"EmailAuthProvider",ci,[]),ru(t,"FacebookAuthProvider",ti,[]),ru(t,"GithubAuthProvider",ni,[]),ru(t,"GoogleAuthProvider",ri,[]),ru(t,"TwitterAuthProvider",ai,[]),ru(t,"OAuthProvider",Zn,[Ks("providerId")]),ru(t,"PhoneAuthProvider",pi,[Ys()]),ru(t,"RecaptchaVerifier",Hs,[nu(Ks(),Xs(),"recaptchaContainer"),Qs("recaptchaParameters",!0),Js()]),uu.INTERNAL.registerService("auth",function(t,e){return t=new ys(t),e({INTERNAL:{getUid:d(t.getUid,t),getToken:d(t.$b,t),addAuthTokenListener:d(t.Qb,t),removeAuthTokenListener:d(t.yc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),uu.INTERNAL.extendNamespace({User:ka})}()}).call("undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n(11),function(){return this}())},function(t,e,n){"use strict";function i(t){o.configureForFirebase(t)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(24);n(90);var o=n(89);e.registerFirestore=i,i(r.default)},function(t,e,n){"use strict";function i(t){if(!t)return new u;switch(t.type){case"gapi":return new h(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new a.FirestoreError(a.Code.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(69),o=n(1),a=n(2),s=function(){function t(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}return t}();e.OAuthToken=s;var u=function(){function t(){this.userListener=null}return t.prototype.getToken=function(t){return Promise.resolve(null)},t.prototype.setUserChangeListener=function(t){o.assert(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,t(r.User.UNAUTHENTICATED)},t.prototype.removeUserChangeListener=function(){o.assert(null!==this.userListener,"removeUserChangeListener() when no listener registered"),this.userListener=null},t}();e.EmptyCredentialsProvider=u;var c=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.userCounter=0,this.userListener=null,this.tokenListener=function(){var t=e.getUser();e.currentUser&&t.isEqual(e.currentUser)||(e.currentUser=t,e.userCounter++,e.userListener&&e.userListener(e.currentUser))},this.userCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(t){var e=this;o.assert(null!=this.tokenListener,"getToken cannot be called after listener removed.");var n=this.userCounter;return this.app.INTERNAL.getToken(t).then(function(t){if(e.userCounter!==n)throw new a.FirestoreError(a.Code.ABORTED,"getToken aborted due to uid change.");return t?(o.assert("string"==typeof t.accessToken,"Invalid tokenData returned from getToken():"+t),new s(t.accessToken,e.currentUser)):null})},t.prototype.setUserChangeListener=function(t){o.assert(!this.userListener,"Can only call setUserChangeListener() once."),this.userListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeUserChangeListener=function(){o.assert(null!=this.tokenListener,"removeUserChangeListener() called twice"),o.assert(null!==this.userListener,"removeUserChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.userListener=null},t.prototype.getUser=function(){"function"!=typeof this.app.INTERNAL.getUid&&o.fail("This version of the Firestore SDK requires at least version 3.7.0 of firebase.js.");var t=this.app.INTERNAL.getUid();return o.assert(null===t||"string"==typeof t,"Received invalid UID: "+t),new r.User(t)},t}();e.FirebaseCredentialsProvider=c;var l=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=r.User.FIRST_PARTY,o.assert(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}();e.FirstPartyToken=l;var h=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,o.assert(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(t){return Promise.resolve(new l(this.gapi,this.sessionIndex))},t.prototype.setUserChangeListener=function(t){t(r.User.FIRST_PARTY)},t.prototype.removeUserChangeListener=function(){},t}();e.FirstPartyCredentialsProvider=h,e.makeCredentialsProvider=i},function(t,e,n){"use strict";function i(t,e){return void 0===e?{merge:!1}:(k.validateOptionNames(t,e,["merge"]),k.validateNamedOptionalType(t,"boolean","merge",e.merge),e)}function r(t,e){return void 0===e?{}:(k.validateOptionNames(t,e,["serverTimestamps"]),k.validateNamedOptionalPropertyEquals(t,"options","serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function o(t,e,n){if(e instanceof j){if(e.firestore!==n)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw k.invalidClassError(t,"DocumentReference",1,e)}function a(t,e){if(e.oldDocs.isEmpty()){var n,i=0;return e.docChanges.map(function(r){var o=new H(t,r.doc.key,r.doc,e.fromCache);return _.assert(r.type===f.ChangeType.Added,"Invalid event type for first snapshot"),_.assert(!n||e.query.docComparator(n,r.doc)<0,"Got added events in wrong order"),n=r.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var r=e.oldDocs;return e.docChanges.map(function(n){var i=new H(t,n.doc.key,n.doc,e.fromCache),o=-1,a=-1;return n.type!==f.ChangeType.Added&&(o=r.indexOf(n.doc.key),_.assert(o>=0,"Index for document not found"),r=r.delete(n.doc.key)),n.type!==f.ChangeType.Removed&&(r=r.add(n.doc),a=r.indexOf(n.doc.key)),{type:s(n.type),doc:i,oldIndex:o,newIndex:a}})}function s(t){switch(t){case f.ChangeType.Added:return"added";case f.ChangeType.Modified:case f.ChangeType.Metadata:return"modified";case f.ChangeType.Removed:return"removed";default:return _.fail("Unknown change type: "+t)}}Object.defineProperty(e,"__esModule",{value:!0});var u=n(10),c=n(33),l=n(46),h=n(71),d=n(35),f=n(26),p=n(9),v=n(4),m=n(18),y=n(29),g=n(14),b=n(13),w=n(39),_=n(1),E=n(100),T=n(40),C=n(2),k=n(22),S=n(5),I=n(5),O=n(6),D=n(12),A=n(65),M=n(67),N=n(68),P="firestore.googleapis.com",R=!0,x=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P,this.ssl=R}else k.validateNamedType("settings","string","host",t.host),this.host=t.host,k.validateNamedOptionalType("settings","boolean","ssl",t.ssl),this.ssl=D.defaulted(t.ssl,R);k.validateOptionNames("settings",t,["host","ssl","credentials"]),k.validateNamedOptionalType("settings","object","credentials",t.credentials),this.credentials=t.credentials}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials},t}(),L=function(){function t(){}return t}(),B=function(){function t(e){var n=this;this._queue=new T.AsyncQueue,this.INTERNAL={delete:function(){return u.__awaiter(n,void 0,void 0,function(){return u.__generator(this,function(t){return this._firestoreClient?[2,this._firestoreClient.shutdown()]:[2]})})}};var i=new L;if("object"==typeof e.options){var r=e;i.firebaseApp=r,i.databaseId=t.databaseIdFromApp(r),i.persistenceKey=i.firebaseApp.name,i.credentials=new A.FirebaseCredentialsProvider(r)}else{var o=e;if(!o.projectId)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Must provide projectId");i.databaseId=new l.DatabaseId(o.projectId,o.database),i.persistenceKey="[DEFAULT]",i.credentials=new A.EmptyCredentialsProvider}i.settings=new x({}),this._config=i,this._databaseId=i.databaseId}return t.prototype.settings=function(t){if(k.validateExactNumberOfArgs("Firestore.settings",arguments,1),k.validateArgType("Firestore.settings","object",1,t),D.contains(t,"persistence"))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new x(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new C.FirestoreError(C.Code.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=A.makeCredentialsProvider(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(){if(this._firestoreClient)throw new C.FirestoreError(C.Code.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(!0)},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(!1),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;_.assert(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),
_.assert(!this._firestoreClient,"configureClient() called multiple times");var n=new l.DatabaseInfo(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl),i=function(t){if(t instanceof j){var n=e._config.databaseId,i=t.firestore._config.databaseId;if(!i.isEqual(n))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Document reference is for database "+(i.projectId+"/"+i.database+" but should be ")+("for database "+n.projectId+"/"+n.database));return new N.DocumentKeyReference(e._config.databaseId,t._key)}return t};return this._dataConverter=new N.UserDataConverter(i),this._firestoreClient=new h.FirestoreClient(b.PlatformSupport.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!D.contains(e,"projectId")){if(D.contains(e,"firestoreId"))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,'"firestoreId" is now specified as "projectId" in firebase.initializeApp.');throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.')}if(D.contains(e,"firestoreOptions"))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,'"firestoreOptions" values are now specified with Firestore.settings()');var n=e.projectId;if(!n||"string"!=typeof n)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new l.DatabaseId(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new C.FirestoreError(C.Code.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(k.validateExactNumberOfArgs("Firestore.collection",arguments,1),k.validateArgType("Firestore.collection","string",1,t),!t)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new $(g.ResourcePath.fromString(t),this)},t.prototype.doc=function(t){if(k.validateExactNumberOfArgs("Firestore.doc",arguments,1),k.validateArgType("Firestore.doc","string",1,t),!t)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),j.forPath(g.ResourcePath.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return k.validateExactNumberOfArgs("Firestore.runTransaction",arguments,1),k.validateArgType("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new F(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new V(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(S.getLogLevel()){case I.LogLevel.DEBUG:return"debug";case I.LogLevel.ERROR:return"error";case I.LogLevel.SILENT:return"silent";default:return _.fail("Unknown log level: "+S.getLogLevel())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(k.validateExactNumberOfArgs("Firestore.setLogLevel",arguments,1),k.validateArgType("Firestore.setLogLevel","string",1,t),t){case"debug":S.setLogLevel(S.LogLevel.DEBUG);break;case"error":S.setLogLevel(S.LogLevel.ERROR);break;case"silent":S.setLogLevel(S.LogLevel.SILENT);break;default:throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid log level: "+t)}},t}();e.Firestore=B;var F=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;k.validateExactNumberOfArgs("Transaction.get",arguments,1);var n=o("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return _.fail("Mismatch in docs returned from document lookup.");var i=t[0];return i instanceof p.NoDocument?new q(e._firestore,n._key,null,!1):new q(e._firestore,n._key,i,!1)})},t.prototype.set=function(t,e,n){k.validateBetweenNumberOfArgs("Transaction.set",arguments,2,3);var r=o("Transaction.set",t,this._firestore);n=i("Transaction.set",n);var a=n.merge?this._firestore._dataConverter.parseMergeData("Transaction.set",e):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,a),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var a,s;return"string"==typeof e||e instanceof c.FieldPath?(k.validateAtLeastNumberOfArgs("Transaction.update",arguments,3),a=o("Transaction.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,i)):(k.validateExactNumberOfArgs("Transaction.update",arguments,2),a=o("Transaction.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){k.validateExactNumberOfArgs("Transaction.delete",arguments,1);var e=o("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}();e.Transaction=F;var V=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){k.validateBetweenNumberOfArgs("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=o("WriteBatch.set",t,this._firestore);n=i("WriteBatch.set",n);var a=n.merge?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(a.toMutations(r._key,y.Precondition.NONE)),this},t.prototype.update=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.verifyNotCommitted();var a,s;return"string"==typeof e||e instanceof c.FieldPath?(k.validateAtLeastNumberOfArgs("WriteBatch.update",arguments,3),a=o("WriteBatch.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,i)):(k.validateExactNumberOfArgs("WriteBatch.update",arguments,2),a=o("WriteBatch.update",t,this._firestore),s=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(s.toMutations(a._key,y.Precondition.exists(!0))),this},t.prototype.delete=function(t){k.validateExactNumberOfArgs("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=o("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new y.DeleteMutation(e._key,y.Precondition.NONE)),this},t.prototype.commit=function(){return u.__awaiter(this,void 0,void 0,function(){return u.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C.FirestoreError(C.Code.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();e.WriteBatch=V;var j=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!==0)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+(e.canonicalString()+" has "+e.length));return new t(new v.DocumentKey(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new $(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(k.validateExactNumberOfArgs("DocumentReference.collection",arguments,1),k.validateArgType("DocumentReference.collection","string",1,t),!t)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=g.ResourcePath.fromString(t);return new $(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw k.invalidClassError("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){k.validateBetweenNumberOfArgs("DocumentReference.set",arguments,1,2),e=i("DocumentReference.set",e);var n=e.merge?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,y.Precondition.NONE))},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r;return"string"==typeof t||t instanceof c.FieldPath?(k.validateAtLeastNumberOfArgs("DocumentReference.update",arguments,2),r=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(k.validateExactNumberOfArgs("DocumentReference.update",arguments,1),r=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(r.toMutations(this._key,y.Precondition.exists(!0)))},t.prototype.delete=function(){return k.validateExactNumberOfArgs("DocumentReference.delete",arguments,0),this._firestoreClient.write([new y.DeleteMutation(this._key,y.Precondition.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];k.validateBetweenNumberOfArgs("DocumentReference.onSnapshot",arguments,1,4);var n,i={includeMetadataChanges:!1},r=0;"object"!=typeof t[r]||M.isPartialObserver(t[r])||(i=t[r],k.validateOptionNames("DocumentReference.onSnapshot",i,["includeMetadataChanges"]),k.validateNamedOptionalType("DocumentReference.onSnapshot","boolean","includeMetadataChanges",i.includeMetadataChanges),r++);var o={includeDocumentMetadataChanges:i.includeMetadataChanges,includeQueryMetadataChanges:i.includeMetadataChanges};return M.isPartialObserver(t[r])?n=t[r]:(k.validateArgType("DocumentReference.onSnapshot","function",r,t[r]),k.validateOptionalArgType("DocumentReference.onSnapshot","function",r+1,t[r+1]),k.validateOptionalArgType("DocumentReference.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new E.AsyncObserver({next:function(t){if(e.next){_.assert(t.docs.size<=1,"Too many documents returned on a document query");var i=t.docs.get(n._key);e.next(new q(n.firestore,n._key,i,t.fromCache))}},error:i}),o=this._firestoreClient.listen(d.Query.atPath(this._key.path),r,t);return function(){r.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(){var t=this;return k.validateExactNumberOfArgs("DocumentReference.get",arguments,0),new Promise(function(e,n){var i=t.onSnapshotInternal({includeQueryMetadataChanges:!0,includeDocumentMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){i(),!t.exists&&t.metadata.fromCache?n(new C.FirestoreError(C.Code.ABORTED,"Failed to get document because the client is offline.")):e(t)},error:n})})},t}();e.DocumentReference=j;var U=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),q=function(){function t(t,e,n,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=i}return t.prototype.data=function(t){return k.validateBetweenNumberOfArgs("DocumentSnapshot.data",arguments,0,1),t=r("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,m.FieldValueOptions.fromSnapshotOptions(t)):void 0},t.prototype.get=function(t,e){if(k.validateBetweenNumberOfArgs("DocumentSnapshot.get",arguments,1,2),e=r("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(N.fieldPathFromArgument("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,m.FieldValueOptions.fromSnapshotOptions(e))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new j(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new U(null!==this._document&&this._document.hasLocalMutations,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw k.invalidClassError("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,i={};return t.forEach(function(t,r){i[t]=n.convertValue(r,e)}),i},t.prototype.convertValue=function(t,e){if(t instanceof m.ObjectValue)return this.convertObject(t,e);if(t instanceof m.ArrayValue)return this.convertArray(t,e);if(t instanceof m.RefValue){var n=t.value(e),i=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(i)||S.error("Document "+this._key.path+" contains a document reference within a different database ("+(t.databaseId.projectId+"/"+t.databaseId.database+") which is not ")+"supported. It will be treated as a reference in the current "+("database ("+i.projectId+"/"+i.database+") ")+"instead."),new j(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}();e.DocumentSnapshot=q;var H=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r)||this}return u.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return _.assert("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(q);e.QueryDocumentSnapshot=H;var W=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,i){k.validateExactNumberOfArgs("Query.where",arguments,3),k.validateArgType("Query.where","string",2,n),k.validateDefined("Query.where",3,i);var r,o=N.fieldPathFromArgument("Query.where",e);if(o.isKeyField())if("string"==typeof i){if(i.indexOf("/")!==-1)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===i)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var a=this._query.path.child(new g.ResourcePath([i]));_.assert(a.length%2===0,"Path should be a document key"),r=new m.RefValue(this.firestore._databaseId,new v.DocumentKey(a))}else{if(!(i instanceof j))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+(k.valueDescription(i)+"."));var s=i;r=new m.RefValue(this.firestore._databaseId,s._key)}else r=this.firestore._dataConverter.parseQueryValue("Query.where",i);var u=d.fieldFilter(o,d.RelationOp.fromString(n),r);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){k.validateBetweenNumberOfArgs("Query.orderBy",arguments,1,2),k.validateOptionalArgType("Query.orderBy","string",2,n);var i;if(void 0===n||"asc"===n)i=d.Direction.ASCENDING;else{if("desc"!==n)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");i=d.Direction.DESCENDING}if(null!==this._query.startAt)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var r=N.fieldPathFromArgument("Query.orderBy",e),o=new d.OrderBy(r,i);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(k.validateExactNumberOfArgs("Query.limit",arguments,1),k.validateArgType("Query.limit","number",1,e),e<=0)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k.validateAtLeastNumberOfArgs("Query.startAt",arguments,1);var r=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(r),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k.validateAtLeastNumberOfArgs("Query.startAfter",arguments,1);var r=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(r),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k.validateAtLeastNumberOfArgs("Query.endBefore",arguments,1);var r=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(r),this.firestore)},t.prototype.endAt=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];k.validateAtLeastNumberOfArgs("Query.endAt",arguments,1);var r=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(r),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw k.invalidClassError("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,i){if(k.validateDefined(t,1,e),e instanceof q){if(n.length>0)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var r=e;if(!r.exists)throw new C.FirestoreError(C.Code.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+(t+"()."));return this.boundFromDocument(t,r._document,i)}var o=[e].concat(n);return this.boundFromFields(t,o,i)},t.prototype.boundFromDocument=function(t,e,n){for(var i=[],r=0,o=this._query.orderBy;r<o.length;r++){var a=o[r];if(a.field.isKeyField())i.push(new m.RefValue(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a "+("document for which the field '"+u+"' (used as the ")+"orderBy) does not exist.")}i.push(s)}}return new d.Bound(i,n)},t.prototype.boundFromFields=function(t,e,n){var i=this._query.explicitOrderBy;if(e.length>i.length)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var r=[],o=0;o<e.length;o++){var a=e[o],s=i[o];if(s.field.isKeyField()){if("string"!=typeof a)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+(t+"(), but got a "+typeof a));if(a.indexOf("/")!==-1)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+(t+"()"));var u=new v.DocumentKey(this._query.path.child(a));r.push(new m.RefValue(this.firestore._databaseId,u))}else{var c=this.firestore._dataConverter.parseQueryValue(t,a);r.push(c)}}return new d.Bound(r,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];k.validateBetweenNumberOfArgs("Query.onSnapshot",arguments,1,4);var n,i={},r=0;return"object"!=typeof t[r]||M.isPartialObserver(t[r])||(i=t[r],k.validateOptionNames("Query.onSnapshot",i,["includeQueryMetadataChanges","includeDocumentMetadataChanges"]),k.validateNamedOptionalType("Query.onSnapshot","boolean","includeDocumentMetadataChanges",i.includeDocumentMetadataChanges),k.validateNamedOptionalType("Query.onSnapshot","boolean","includeQueryMetadataChanges",i.includeQueryMetadataChanges),r++),M.isPartialObserver(t[r])?n=t[r]:(k.validateArgType("Query.onSnapshot","function",r,t[r]),k.validateOptionalArgType("Query.onSnapshot","function",r+1,t[r+1]),k.validateOptionalArgType("Query.onSnapshot","function",r+2,t[r+2]),n={next:t[r],error:t[r+1],complete:t[r+2]}),this.onSnapshotInternal(i,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,i=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(i=e.error.bind(e));var r=new E.AsyncObserver({next:function(t){e.next&&e.next(new K(n.firestore,n._query,t))},error:i}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,r,t);return function(){r.mute(),o.unlisten(a)}},t.prototype.get=function(){var t=this;return k.validateExactNumberOfArgs("Query.get",arguments,0),new Promise(function(e,n){var i=t.onSnapshotInternal({includeDocumentMetadataChanges:!1,includeQueryMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(t){i(),e(t)},error:n})})},t.prototype.validateNewFilter=function(t){if(t instanceof d.RelationFilter&&t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have"+(" inequality filters on '"+e.toString()+"'")+(" and '"+t.field.toString()+"'"));var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality "+("(<, <=, >, or >=) on field '"+t.toString()+"' ")+("and so you must also use '"+t.toString()+"' ")+"as your first Query.orderBy(), but your first Query.orderBy() "+("is on field '"+e.toString()+"' instead."))},t}();e.Query=W;var K=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this.metadata=new U(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;k.validateBetweenNumberOfArgs("QuerySnapshot.forEach",arguments,1,2),k.validateArgType("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(i){t.call(e,n.convertToDocumentImpl(i))})},Object.defineProperty(t.prototype,"query",{get:function(){return new W(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"docChanges",{get:function(){return this._cachedChanges||(this._cachedChanges=a(this._firestore,this._snapshot)),this._cachedChanges},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw k.invalidClassError("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new H(this._firestore,t.key,t,this.metadata.fromCache)},t}();e.QuerySnapshot=K;var $=function(t){function e(e,n){var i=t.call(this,d.Query.atPath(e),n)||this;if(e.length%2!==1)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+(e.canonicalString()+" has "+e.length));return i}return u.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new j(new v.DocumentKey(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(k.validateBetweenNumberOfArgs("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=O.AutoId.newId()),k.validateArgType("CollectionReference.doc","string",1,t),""===t)throw new C.FirestoreError(C.Code.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=g.ResourcePath.fromString(t);return j.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){k.validateExactNumberOfArgs("CollectionReference.add",arguments,1),k.validateArgType("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(W);e.CollectionReference=$,e.changesFromSnapshot=a,e.PublicFirestore=w.makeConstructorPrivate(B,"Use firebase.firestore() instead."),e.PublicTransaction=w.makeConstructorPrivate(F,"Use firebase.firestore().runTransaction() instead."),e.PublicWriteBatch=w.makeConstructorPrivate(V,"Use firebase.firestore().batch() instead."),e.PublicDocumentReference=w.makeConstructorPrivate(j,"Use firebase.firestore().doc() instead."),e.PublicDocumentSnapshot=w.makeConstructorPrivate(q),e.PublicQueryDocumentSnapshot=w.makeConstructorPrivate(H),e.PublicQuery=w.makeConstructorPrivate(W),e.PublicQuerySnapshot=w.makeConstructorPrivate(K),e.PublicCollectionReference=w.makeConstructorPrivate($,"Use firebase.firestore().collection() instead.")},function(t,e){"use strict";function n(t){return i(t,["next","error","complete"])}function i(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,i=0,r=e;i<r.length;i++){var o=r[i];if(o in n&&"function"==typeof n[o])return!0}return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.isPartialObserver=n},function(t,e,n){"use strict";function i(t){switch(t){case O.Set:case O.MergeSet:case O.Update:return!0;case O.QueryValue:return!1;default:throw p.fail("Unexpected case for UserDataSource: "+t)}}function r(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof C.GeoPoint||t instanceof _.Blob||t instanceof A||t instanceof T.FieldValueImpl)}function o(t,e,n){if(!r(n)||!m.isPlainObject(n)){var i=m.valueDescription(n);throw"an object"===i?e.createError(t+" a custom object"):e.createError(t+" "+i)}}function a(t,e){if(e instanceof E.FieldPath)return e._internalPath;if("string"==typeof e)return s(t,e);var n="Field path arguments must be of type string or FieldPath.";throw new v.FirestoreError(v.Code.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}function s(t,e){try{return E.fromDotSeparatedString(e)._internalPath}catch(e){var n=u(e);throw new v.FirestoreError(v.Code.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function u(t){return t instanceof Error?t.message:t.toString()}Object.defineProperty(e,"__esModule",{value:!0});var c=n(16),l=n(18),h=n(18),d=n(29),f=n(14),p=n(1),v=n(2),m=n(22),y=n(6),g=n(12),b=n(15),w=n(23),_=n(32),E=n(33),T=n(45),C=n(34),k=/^__.*__$/,S=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new d.PatchMutation(t,this.data,this.fieldMask,e)):n.push(new d.SetMutation(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new d.TransformMutation(t,this.fieldTransforms)),n},t}();e.ParsedSetData=S;var I=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new d.PatchMutation(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new d.TransformMutation(t,this.fieldTransforms)),n},t}();e.ParsedUpdateData=I;var O;!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.QueryValue=3]="QueryValue"}(O||(O={}));var D=function(){function t(t,e,n,i,r,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=i,void 0===r&&this.validatePath(),this.arrayElement=void 0!==i&&i,this.fieldTransforms=r||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePathSegment(e),i},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),i=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return i.validatePath(),i},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new v.FirestoreError(v.Code.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(i(this.dataSource)&&k.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),A=function(){function t(t,e){this.databaseId=t,this.key=e}return t}();e.DocumentKeyReference=A;var M=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new D(O.Set,t,f.FieldPath.EMPTY_PATH);o("Data must be an object, but it was:",n,e);var i=this.parseData(e,n);return new S(i,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e){var n=new D(O.MergeSet,t,f.FieldPath.EMPTY_PATH);o("Data must be an object, but it was:",n,e);var i=this.parseData(e,n),r=new d.FieldMask(n.fieldMask);return new S(i,r,n.fieldTransforms)},t.prototype.parseUpdateData=function(t,e){var n=this,i=new D(O.Update,t,f.FieldPath.EMPTY_PATH);o("Data must be an object, but it was:",i,e);var r=[],a=l.ObjectValue.EMPTY;g.forEach(e,function(e,o){var u=s(t,e),c=i.childContextForFieldPath(u);if(o=n.runPreConverter(o,c),o instanceof T.DeleteFieldValueImpl)r.push(u);else{var l=n.parseData(o,c);null!=l&&(r.push(u),a=a.set(u,l))}});var u=new d.FieldMask(r);return new I(a,u,i.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,i){var r=new D(O.Update,t,f.FieldPath.EMPTY_PATH),o=[a(t,e)],s=[n];if(i.length%2!==0)throw new v.FirestoreError(v.Code.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<i.length;u+=2)o.push(a(t,i[u])),s.push(i[u+1]);for(var c=[],h=l.ObjectValue.EMPTY,u=0;u<o.length;++u){var p=o[u],m=r.childContextForFieldPath(p),y=this.runPreConverter(s[u],m);if(y instanceof T.DeleteFieldValueImpl)c.push(p);else{var g=this.parseData(y,m);null!=g&&(c.push(p),h=h.set(p,g))}}var b=new d.FieldMask(c);return new I(h,b,r.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new D(O.QueryValue,t,f.FieldPath.EMPTY_PATH),i=this.parseData(e,n);return p.assert(null!=i,"Parsed data should not be null."),p.assert(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=u(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){
if(t=this.runPreConverter(t,e),r(t))return o("Unsupported field value:",e,t),this.parseObject(t,e);if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return t instanceof T.FieldValueImpl?(this.parseSentinelFieldValue(t,e),null):this.parseScalarValue(t,e)},t.prototype.parseArray=function(t,e){for(var n=[],i=0,r=0,o=t;r<o.length;r++){var a=o[r],s=this.parseData(a,e.childContextForArray(i));null==s&&(s=h.NullValue.INSTANCE),n.push(s),i++}return new h.ArrayValue(n)},t.prototype.parseObject=function(t,e){var n=this,i=new b.SortedMap(y.primitiveComparator);return g.forEach(t,function(t,r){var o=n.parseData(r,e.childContextForField(t));null!=o&&(i=i.insert(t,o))}),new l.ObjectValue(i)},t.prototype.parseScalarValue=function(t,e){if(null===t)return h.NullValue.INSTANCE;if("number"==typeof t)return w.isSafeInteger(t)?new h.IntegerValue(t):new h.DoubleValue(t);if("boolean"==typeof t)return h.BooleanValue.of(t);if("string"==typeof t)return new h.StringValue(t);if(t instanceof Date)return new h.TimestampValue(c.Timestamp.fromDate(t));if(t instanceof C.GeoPoint)return new h.GeoPointValue(t);if(t instanceof _.Blob)return new h.BlobValue(t);if(t instanceof A)return new h.RefValue(t.databaseId,t.key);throw e.createError("Unsupported field value: "+m.valueDescription(t))},t.prototype.parseSentinelFieldValue=function(t,e){if(!i(e.dataSource))throw e.createError(t.methodName+" can only be used with update() and set()");if(null===e.path)throw e.createError(t.methodName+" is not currently supported inside arrays");if(t instanceof T.DeleteFieldValueImpl){if(e.dataSource!==O.MergeSet)throw e.dataSource===O.Update?(p.assert(null==e.path||e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}")}else t instanceof T.ServerTimestampFieldValueImpl?e.fieldTransforms.push(new d.FieldTransform(e.path,d.ServerTimestampTransform.instance)):p.fail("Unknown FieldValue type: "+t)},t}();e.UserDataConverter=M,e.fieldPathFromArgument=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}();e.User=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(25),o=n(26),a=n(49),s=n(1),u=n(41),c=function(){function t(){this.listeners=[]}return t}(),l=function(){function t(t){this.syncEngine=t,this.queries=new u.ObjectMap(function(t){return t.canonicalId()}),this.onlineState=r.OnlineState.Unknown,this.syncEngine.subscribe(this.onChange.bind(this),this.onError.bind(this))}return t.prototype.listen=function(t){var e=t.query,n=!1,i=this.queries.get(e);return i||(n=!0,i=new c,this.queries.set(e,i)),i.listeners.push(t),t.applyOnlineStateChange(this.onlineState),i.viewSnap&&t.onViewSnapshot(i.viewSnap),n?this.syncEngine.listen(e).then(function(t){return i.targetId=t,t}):Promise.resolve(i.targetId)},t.prototype.unlisten=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n,r,o;return i.__generator(this,function(i){return e=t.query,n=!1,r=this.queries.get(e),r&&(o=r.listeners.indexOf(t),o>=0&&(r.listeners.splice(o,1),n=0===r.listeners.length)),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onChange=function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e],r=i.query,o=this.queries.get(r);if(o){for(var a=0,s=o.listeners;a<s.length;a++){var u=s[a];u.onViewSnapshot(i)}o.viewSnap=i}}},t.prototype.onError=function(t,e){var n=this.queries.get(t);if(n)for(var i=0,r=n.listeners;i<r.length;i++){var o=r[i];o.onError(e)}this.queries.delete(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var i=0,r=n.listeners;i<r.length;i++){var o=r[i];o.applyOnlineStateChange(t)}})},t}();e.EventManager=l;var h=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=r.OnlineState.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(s.assert(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeDocumentMetadataChanges){for(var e=[],n=0,i=t.docChanges;n<i.length;n++){var r=i[n];r.type!==o.ChangeType.Metadata&&e.push(r)}t=new o.ViewSnapshot(t.query,t.docs,t.oldDocs,e,t.fromCache,t.hasPendingWrites,t.syncStateChanged)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(s.assert(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==r.OnlineState.Offline;return this.options.waitForSyncWhenOnline&&n?(s.assert(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===r.OnlineState.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeQueryMetadataChanges===!0},t.prototype.raiseInitialEvent=function(e){s.assert(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=new o.ViewSnapshot(e.query,e.docs,a.DocumentSet.emptySet(e.docs),t.getInitialViewChanges(e),e.fromCache,e.hasPendingWrites,!0),this.raisedInitialEvent=!0,this.queryObserver.next(e)},t.getInitialViewChanges=function(t){var e=[];return t.docs.forEach(function(t){e.push({type:o.ChangeType.Added,doc:t})}),e},t}();e.QueryListener=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(70),o=n(72),a=n(48),s=n(76),u=n(81),c=n(84),l=n(87),h=n(94),d=n(98),f=n(50),p=n(2),v=n(5),m=n(52),y="FirestoreClient",g=function(){function t(t,e,n,i){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=i}return t.prototype.start=function(t){var e=this,n=new m.Deferred,i=new m.Deferred,r=!1;return this.credentials.setUserChangeListener(function(o){r?e.asyncQueue.enqueue(function(){return e.handleUserChange(o)}):(r=!0,e.initializePersistence(t,i).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueue(function(){return n.promise}),i.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.enableNetwork()})},t.prototype.initializePersistence=function(t,e){var n=this;return t?this.startIndexedDbPersistence().then(e.resolve).catch(function(t){return e.reject(t),n.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),n.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t.code===p.Code.FAILED_PRECONDITION||t.code===p.Code.UNIMPLEMENTED},t.prototype.startIndexedDbPersistence=function(){this.garbageCollector=new l.NoOpGarbageCollector;var t=s.IndexedDbPersistence.buildStoragePrefix(this.databaseInfo),e=new f.JsonProtoSerializer(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=new s.IndexedDbPersistence(t,e),this.persistence.start()},t.prototype.startMemoryPersistence=function(){return this.garbageCollector=new a.EagerGarbageCollector,this.persistence=new c.MemoryPersistence,this.persistence.start()},t.prototype.initializeRest=function(t){var e=this;return this.platform.loadConnection(this.databaseInfo).then(function(n){e.localStore=new u.LocalStore(e.persistence,t,e.garbageCollector);var i=e.platform.newSerializer(e.databaseInfo.databaseId),a=new h.Datastore(e.asyncQueue,n,e.credentials,i),s=function(t){e.syncEngine.applyOnlineStateChange(t),e.eventMgr.applyOnlineStateChange(t)};return e.remoteStore=new d.RemoteStore(e.localStore,a,e.asyncQueue,s),e.syncEngine=new o.SyncEngine(e.localStore,e.remoteStore,t),e.remoteStore.syncEngine=e.syncEngine,e.eventMgr=new r.EventManager(e.syncEngine),e.localStore.start()}).then(function(){return e.remoteStore.start()})},t.prototype.handleUserChange=function(t){return this.asyncQueue.verifyOperationInProgress(),v.debug(y,"User Changed: "+t.uid),this.syncEngine.handleUserChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.remoteStore.disableNetwork()})},t.prototype.shutdown=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.credentials.removeUserChangeListener(),t.remoteStore.shutdown()}).then(function(){return t.persistence.shutdown()})},t.prototype.listen=function(t,e,n){var i=this,o=new r.QueryListener(t,e,n);return this.asyncQueue.enqueue(function(){return i.eventMgr.listen(o)}),o},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueue(function(){return e.eventMgr.unlisten(t)})},t.prototype.write=function(t){var e=this,n=new m.Deferred;return this.asyncQueue.enqueue(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}();e.FirestoreClient=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(48),r=n(82),o=n(19),a=n(27),s=n(9),u=n(4),c=n(21),l=n(1),h=n(5),d=n(6),f=n(12),p=n(41),v=n(15),m=n(23),y=n(35),g=n(8),b=n(47),w=n(74),_="SyncEngine",E=function(){function t(t,e,n,i){this.query=t,this.targetId=e,this.resumeToken=n,this.view=i}return t}(),T=function(){function t(t,e,n){this.localStore=t,this.remoteStore=e,this.currentUser=n,this.viewHandler=null,this.errorHandler=null,this.queryViewsByQuery=new p.ObjectMap(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new v.SortedMap(u.DocumentKey.comparator),this.limboKeysByTarget={},this.limboDocumentRefs=new a.ReferenceSet,this.limboCollector=new i.EagerGarbageCollector,this.mutationUserCallbacks={},this.targetIdGenerator=b.TargetIdGenerator.forSyncEngine()}return t.prototype.subscribe=function(t,e){l.assert(null!==t&&null!==e,"View and error handlers cannot be null"),l.assert(null===this.viewHandler&&null===this.errorHandler,"SyncEngine already has a subscriber."),this.viewHandler=t,this.errorHandler=e,this.limboCollector.addGarbageSource(this.limboDocumentRefs)},t.prototype.listen=function(t){var e=this;return this.assertSubscribed("listen()"),l.assert(!this.queryViewsByQuery.has(t),"We already listen to the query: "+t),this.localStore.allocateQuery(t).then(function(n){return e.localStore.executeQuery(t).then(function(i){return e.localStore.remoteDocumentKeys(n.targetId).then(function(r){var o=new w.View(t,r),a=o.computeDocChanges(i),s=o.applyChanges(a);l.assert(0===s.limboChanges.length,"View returned limbo docs before target ack from the server."),l.assert(!!s.snapshot,"applyChanges for new view should always return a snapshot");var u=new E(t,n.targetId,n.resumeToken,o);e.queryViewsByQuery.set(t,u),e.queryViewsByTarget[n.targetId]=u,e.viewHandler([s.snapshot]),e.remoteStore.listen(n)})}).then(function(){return n.targetId})})},t.prototype.unlisten=function(t){var e=this;this.assertSubscribed("unlisten()");var n=this.queryViewsByQuery.get(t);return l.assert(!!n,"Trying to unlisten on query not found:"+t),this.localStore.releaseQuery(t).then(function(){return e.remoteStore.unlisten(n.targetId),e.removeAndCleanupQuery(n).then(function(){return e.localStore.collectGarbage()})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),l.assert(e>=0,"Got negative number of retries for transaction.");var i=this.remoteStore.createTransaction(),r=function(){try{var e=t(i);return!m.isNullOrUndefined(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}};return r().then(function(r){return i.commit().then(function(){return r}).catch(function(i){return 0===e?Promise.reject(i):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),f.forEachNumber(t.targetChanges,function(n,i){var r=e.limboKeysByTarget[n];r&&i.currentStatusUpdate===c.CurrentStatusUpdate.MarkCurrent&&!t.documentUpdates.get(r)&&t.addDocumentUpdate(new s.NoDocument(r,t.snapshotVersion))}),this.localStore.applyRemoteEvent(t).then(function(n){return e.emitNewSnapsAndNotifyLocalStore(n,t)})},t.prototype.applyOnlineStateChange=function(t){var e=[];this.queryViewsByQuery.forEach(function(n,i){var r=i.view.applyOnlineStateChange(t);l.assert(0===r.limboChanges.length,"OnlineState should not affect limbo documents."),r.snapshot&&e.push(r.snapshot)}),this.viewHandler(e)},t.prototype.rejectListen=function(t,e){var n=this;this.assertSubscribed("rejectListens()");var i=this.limboKeysByTarget[t];if(i){this.limboTargetsByKey=this.limboTargetsByKey.remove(i),delete this.limboKeysByTarget[t];var r=new v.SortedMap(u.DocumentKey.comparator);r=r.insert(i,new s.NoDocument(i,g.SnapshotVersion.forDeletedDoc()));var o=new c.RemoteEvent(g.SnapshotVersion.MIN,{},r);return this.applyRemoteEvent(o)}var a=this.queryViewsByTarget[t];return l.assert(!!a,"Unknown targetId: "+t),this.localStore.releaseQuery(a.query).then(function(){return n.removeAndCleanupQuery(a).then(function(){n.errorHandler(a.query,e)})})},t.prototype.applySuccessfulWrite=function(t){var e=this;return this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(t.batch.batchId,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(t){return n.emitNewSnapsAndNotifyLocalStore(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new v.SortedMap(d.primitiveComparator)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var i=n.get(t);i&&(l.assert(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?i.reject(e):i.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){return this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.limboDocumentRefs.removeReferencesForId(t.targetId),this.gcLimboDocuments()},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,i=e;n<i.length;n++){var r=i[n];r instanceof w.AddedLimboDocument?(this.limboDocumentRefs.addReference(r.key,t),this.trackLimboChange(r)):r instanceof w.RemovedLimboDocument?(h.debug(_,"Document no longer in limbo: "+r.key),this.limboDocumentRefs.removeReference(r.key,t)):l.fail("Unknown limbo change: "+JSON.stringify(r))}return this.gcLimboDocuments()},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){h.debug(_,"New document in limbo: "+e);var n=this.targetIdGenerator.next(),i=y.Query.atPath(e.path);this.limboKeysByTarget[n]=e,this.remoteStore.listen(new o.QueryData(i,n,o.QueryPurpose.Listen)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.gcLimboDocuments=function(){var t=this;return this.limboCollector.collectGarbage(null).next(function(e){e.forEach(function(e){var n=t.limboTargetsByKey.get(e);null!==n&&(t.remoteStore.unlisten(n),t.limboTargetsByKey=t.limboTargetsByKey.remove(e),delete t.limboKeysByTarget[n])})}).toPromise()},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){var n=this,i=[],o=[],a=[];return this.queryViewsByQuery.forEach(function(s,u){a.push(Promise.resolve().then(function(){var e=u.view.computeDocChanges(t);return e.needsRefill?n.localStore.executeQuery(u.query).then(function(t){return u.view.computeDocChanges(t,e)}):e}).then(function(t){var a=e&&e.targetChanges[u.targetId],s=u.view.applyChanges(t,a);return n.updateTrackedLimbos(u.targetId,s.limboChanges).then(function(){if(s.snapshot){i.push(s.snapshot);var t=r.LocalViewChanges.fromSnapshot(s.snapshot);o.push(t)}})}))}),Promise.all(a).then(function(){return n.viewHandler(i),n.localStore.notifyLocalViewChanges(o)}).then(function(){return n.localStore.collectGarbage()})},t.prototype.assertSubscribed=function(t){l.assert(null!==this.viewHandler&&null!==this.errorHandler,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleUserChange=function(t){var e=this;return this.currentUser=t,this.localStore.handleUserChange(t).then(function(t){return e.emitNewSnapsAndNotifyLocalStore(t)}).then(function(){return e.remoteStore.handleUserChange(t)})},t}();e.SyncEngine=T},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(3),o=n(9),a=n(29),s=n(2),u=function(){function t(t){this.datastore=t,this.readVersions=r.documentVersionMap(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e=t.version;t instanceof o.NoDocument&&(e=i.SnapshotVersion.forDeletedDoc());var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new s.FirestoreError(s.Code.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){return e.recordVersion(t)}),t})},t.prototype.write=function(t){if(this.committed)throw new s.FirestoreError(s.Code.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?a.Precondition.updateTime(e):a.Precondition.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(i.SnapshotVersion.forDeletedDoc()))throw new s.FirestoreError(s.Code.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?a.Precondition.updateTime(e):a.Precondition.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new a.DeleteMutation(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,i.SnapshotVersion.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();e.Transaction=u},function(t,e,n){"use strict";function i(t,e){var n=function(t){switch(t){case l.ChangeType.Added:return 1;case l.ChangeType.Modified:return 2;case l.ChangeType.Metadata:return 2;case l.ChangeType.Removed:return 0;default:return u.fail("Unknown ChangeType: "+t)}};return n(t)-n(e)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(9),a=n(49),s=n(21),u=n(1),c=n(25),l=n(26),h=function(){function t(t){this.key=t}return t}();e.AddedLimboDocument=h;var d=function(){function t(t){this.key=t}return t}();e.RemovedLimboDocument=d;var f=function(){function t(t,e){this.query=t,this.syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=r.documentKeySet(),this.mutatedKeys=r.documentKeySet(),this.documentSet=new a.DocumentSet(t.docComparator.bind(t))}return t.prototype.computeDocChanges=function(t,e){var n=this,i=e?e.changeSet:new l.DocumentChangeSet,r=e?e.documentSet:this.documentSet,a=e?e.mutatedKeys:this.mutatedKeys,s=r,c=!1,h=this.query.hasLimit()&&r.size===this.query.limit?r.last():null;if(t.inorderTraversal(function(t,e){var d=r.get(t),f=e instanceof o.Document?e:null;if(f&&(u.assert(t.isEqual(f.key),"Mismatching keys found in document changes: "+t+" != "+f.key),f=n.query.matches(f)?f:null),f?(s=s.add(f),a=f.hasLocalMutations?a.add(t):a.delete(t)):(s=s.delete(t),a=a.delete(t)),d&&f){var p=d.data.isEqual(f.data);p&&d.hasLocalMutations===f.hasLocalMutations||(p?i.track({type:l.ChangeType.Metadata,doc:f}):i.track({type:l.ChangeType.Modified,doc:f}),h&&n.query.docComparator(f,h)>0&&(c=!0))}else!d&&f?i.track({type:l.ChangeType.Added,doc:f}):d&&!f&&(i.track({type:l.ChangeType.Removed,doc:d}),h&&(c=!0))}),this.query.hasLimit())for(;s.size>this.query.limit;){var d=s.last();s=s.delete(d.key),i.track({type:l.ChangeType.Removed,doc:d})}return u.assert(!c||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:i,needsRefill:c,mutatedKeys:a}},t.prototype.applyChanges=function(t,e){var n=this;u.assert(!t.needsRefill,"Cannot apply changes that need a refill");var r=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return i(t.type,e.type)||n.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(e);var a=this.updateLimboDocuments(),s=0===this.limboDocuments.size&&this.current,c=s?l.SyncState.Synced:l.SyncState.Local,h=c!==this.syncState;if(this.syncState=c,0!==o.length||h){var d=new l.ViewSnapshot(this.query,t.documentSet,r,o,c===l.SyncState.Local,!t.mutatedKeys.isEmpty(),h);return{snapshot:d,limboChanges:a}}return{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===c.OnlineState.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new l.DocumentChangeSet,mutatedKeys:this.mutatedKeys,needsRefill:!1})):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this.syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){if(t){var e=t.mapping;switch(e instanceof s.ResetMapping?this.syncedDocuments=e.documents:e instanceof s.UpdateMapping&&(this.syncedDocuments=e.applyToKeySet(this.syncedDocuments)),t.currentStatusUpdate){case s.CurrentStatusUpdate.MarkCurrent:this.current=!0;break;case s.CurrentStatusUpdate.MarkNotCurrent:this.current=!1;break;case s.CurrentStatusUpdate.None:break;default:u.fail("Unknown current status update: "+t.currentStatusUpdate)}}},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=r.documentKeySet(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new d(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new h(t))}),n},t}();e.View=f},function(t,e,n){"use strict";function i(t){return c.assert("string"==typeof t,"Persisting non-string stream token not supported."),t}function r(t){return s(t,f.DbMutationBatch.store)}function o(t){return s(t,f.DbDocumentMutation.store)}function a(t){return s(t,f.DbMutationQueue.store)}function s(t,e){return t instanceof v.SimpleDbTransaction?t.store(e):c.fail("Invalid transaction object provided!")}Object.defineProperty(e,"__esModule",{value:!0});var u=n(20),c=n(1),l=n(6),h=n(30),d=n(37),f=n(17),p=n(7),v=n(28),m=function(){function t(t,e){this.userId=t,this.serializer=e,this.garbageCollector=null}return t.forUser=function(e,n){c.assert(""!==e.uid,"UserID must not be an empty string.");var i=e.isAuthenticated()?e.uid:"";return new t(i,n)},t.prototype.start=function(e){var n=this;return t.loadNextBatchIdFromDb(e).next(function(t){return n.nextBatchId=t,a(e).get(n.userId)}).next(function(t){return t||(t=new f.DbMutationQueue(n.userId,u.BATCHID_UNKNOWN,"")),n.metadata=t,n.metadata.lastAcknowledgedBatchId>=n.nextBatchId?n.checkEmpty(e).next(function(t){return c.assert(t,"Reset nextBatchID is only possible when the queue is empty"),n.metadata.lastAcknowledgedBatchId=u.BATCHID_UNKNOWN,a(e).put(n.metadata)}):p.PersistencePromise.resolve()})},t.loadNextBatchIdFromDb=function(t){var e=u.BATCHID_UNKNOWN;return r(t).iterate({reverse:!0},function(t,n,i){var r=t[0],o=t[1];if(o>e&&(e=n.batchId),""===r)i.done();else{var a=l.immediatePredecessor(r);i.skip([a])}}).next(function(){return e+1})},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound(this.keyForBatchId(Number.NEGATIVE_INFINITY),this.keyForBatchId(Number.POSITIVE_INFINITY));return r(t).iterate({range:n},function(t,n,i){e=!1,i.done()}).next(function(){return e})},t.prototype.getNextBatchId=function(t){return p.PersistencePromise.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return p.PersistencePromise.resolve(this.metadata.lastAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;return c.assert(r>this.metadata.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),this.metadata.lastAcknowledgedBatchId=r,this.metadata.lastStreamToken=i(n),a(t).put(this.metadata)},t.prototype.getLastStreamToken=function(t){return p.PersistencePromise.resolve(this.metadata.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.metadata.lastStreamToken=i(e),a(t).put(this.metadata)},t.prototype.addMutationBatch=function(t,e,n){var i=this,a=this.nextBatchId;this.nextBatchId++;var s=new u.MutationBatch(a,e,n),c=this.serializer.toDbMutationBatch(this.userId,s);return r(t).put(c).next(function(){for(var e=[],r=0,s=n;r<s.length;r++){var u=s[r],c=f.DbDocumentMutation.key(i.userId,u.key.path,a);o(t).put(c,f.DbDocumentMutation.PLACEHOLDER)}return p.PersistencePromise.waitFor(e)}).next(function(){return s})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return r(t).get(this.keyForBatchId(e)).next(function(t){return t?n.serializer.fromDbMutationBatch(t):null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,i=Math.max(e,this.metadata.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound(this.keyForBatchId(i)),a=null;return r(t).iterate({range:o},function(t,e,r){e.userId===n.userId&&(c.assert(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound(this.keyForBatchId(u.BATCHID_UNKNOWN),this.keyForBatchId(Number.POSITIVE_INFINITY));return r(t).loadAll(n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this,i=IDBKeyRange.bound(this.keyForBatchId(u.BATCHID_UNKNOWN),this.keyForBatchId(e));return r(t).loadAll(i).next(function(t){return t.map(function(t){return n.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=f.DbDocumentMutation.prefixForPath(this.userId,e.path),a=IDBKeyRange.lowerBound(i),s=[];return o(t).iterate({range:a},function(i,o,a){var u=i[0],l=i[1],h=i[2],f=d.decode(l);if(u!==n.userId||!e.path.isEqual(f))return void a.done();var p=n.keyForBatchId(h);return r(t).get(p).next(function(t){null===t&&c.fail("Dangling document-mutation reference found: "+i+" which points to "+p),s.push(n.serializer.fromDbMutationBatch(t))})}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;c.assert(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var i=e.path,a=i.length+1,s=f.DbDocumentMutation.prefixForPath(this.userId,i),u=IDBKeyRange.lowerBound(s),v=new h.SortedSet(l.primitiveComparator);return o(t).iterate({range:u},function(t,e,r){var o=t[0],s=t[1],u=t[2],c=d.decode(s);return o===n.userId&&i.isPrefixOf(c)?void(c.length===a&&(v=v.add(u))):void r.done()}).next(function(){var e=[],i=[];return v.forEach(function(o){var a=n.keyForBatchId(o);i.push(r(t).get(a).next(function(t){null===t&&c.fail("Dangling document-mutation reference found, which points to "+a),e.push(n.serializer.fromDbMutationBatch(t))}))}),p.PersistencePromise.waitFor(i).next(function(){return e})})},t.prototype.removeMutationBatches=function(t,e){for(var n=r(t),i=o(t),a=[],s=function(t){var e=IDBKeyRange.only(u.keyForBatchId(t.batchId)),r=0,o=n.iterate({range:e},function(t,e,n){return r++,n.delete()});a.push(o.next(function(){c.assert(1===r,"Dangling document-mutation reference found: Missing batch "+t.batchId)}));for(var s=0,l=t.mutations;s<l.length;s++){var h=l[s],d=f.DbDocumentMutation.key(u.userId,h.key.path,t.batchId);a.push(i.delete(d)),null!==u.garbageCollector&&u.garbageCollector.addPotentialGarbageKey(h.key)}},u=this,l=0,h=e;l<h.length;l++){var d=h[l];s(d)}return p.PersistencePromise.waitFor(a)},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return p.PersistencePromise.resolve();var i=IDBKeyRange.lowerBound(f.DbDocumentMutation.prefixForUser(e.userId)),r=[];return o(t).iterate({range:i},function(t,n,i){var o=t[0];if(o!==e.userId)return void i.done();var a=d.decode(t[1]);r.push(a)}).next(function(){c.assert(0===r.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+r.map(function(t){return t.canonicalString()}))})})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=this,i=f.DbDocumentMutation.prefixForPath(this.userId,e.path),r=i[1],a=IDBKeyRange.lowerBound(i),s=!1;return o(t).iterate({range:a,keysOnly:!0},function(t,e,i){var o=t[0],a=t[1];t[2];o===n.userId&&a===r&&(s=!0),i.done()}).next(function(){return s})},t.prototype.keyForBatchId=function(t){return[this.userId,t]},t}();e.IndexedDbMutationQueue=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=n(2),o=n(5),a=n(6),s=n(75),u=n(77),c=n(78),l=n(17),h=n(80),d=n(7),f=n(28),p="IndexedDbPersistence",v=5e3,m=4e3,y="zombiedOwnerId",g="There is another tab open with offline persistence enabled. Only one such tab is allowed at a time. The other tab must be closed or persistence must be disabled.",b="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",w=function(){function t(e,n){this.ownerId=this.generateOwnerId(),this.dbName=e+t.MAIN_DATABASE,this.serializer=new h.LocalSerializer(n),this.localStoragePrefix=e}return t.prototype.start=function(){var e=this;return t.isAvailable()?(i.assert(!this.started,"IndexedDbPersistence double-started!"),this.started=!0,f.SimpleDb.openOrCreate(this.dbName,l.SCHEMA_VERSION,l.createOrUpgradeDb).then(function(t){
e.simpleDb=t}).then(function(){return e.tryAcquireOwnerLease()}).then(function(){e.scheduleOwnerLeaseRefreshes(),e.attachWindowUnloadHook()})):(this.persistenceError=new r.FirestoreError(r.Code.UNIMPLEMENTED,b),Promise.reject(this.persistenceError))},t.prototype.shutdown=function(){var t=this;return i.assert(this.started,"IndexedDbPersistence shutdown without start!"),this.started=!1,this.detachWindowUnloadHook(),this.stopOwnerLeaseRefreshes(),this.releaseOwnerLease().then(function(){t.simpleDb.close()})},t.prototype.getMutationQueue=function(t){return s.IndexedDbMutationQueue.forUser(t,this.serializer)},t.prototype.getQueryCache=function(){return new u.IndexedDbQueryCache(this.serializer)},t.prototype.getRemoteDocumentCache=function(){return new c.IndexedDbRemoteDocumentCache(this.serializer)},t.prototype.runTransaction=function(t,e){var n=this;return this.persistenceError?Promise.reject(this.persistenceError):(o.debug(p,"Starting transaction:",t),this.simpleDb.runTransaction("readwrite",l.ALL_STORES,function(t){return n.ensureOwnerLease(t).next(function(){return e(t)})}))},t.isAvailable=function(){return f.SimpleDb.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.tryAcquireOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[l.DbOwner.store],function(e){var n=e.store(l.DbOwner.store);return n.get("owner").next(function(e){if(t.validOwner(e))return o.debug(p,"Valid owner already. Failing. Current owner:",e),t.persistenceError=new r.FirestoreError(r.Code.FAILED_PRECONDITION,g),d.PersistencePromise.reject(t.persistenceError);var i=new l.DbOwner(t.ownerId,Date.now());return o.debug(p,"No valid owner. Acquiring owner lease. Current owner:",e,"New owner:",i),n.put("owner",i)})})},t.prototype.releaseOwnerLease=function(){var t=this;return this.simpleDb.runTransaction("readwrite",[l.DbOwner.store],function(e){var n=e.store(l.DbOwner.store);return n.get("owner").next(function(e){return null!==e&&e.ownerId===t.ownerId?(o.debug(p,"Releasing owner lease."),n.delete("owner")):d.PersistencePromise.resolve()})})},t.prototype.ensureOwnerLease=function(t){var e=this,n=t.store(l.DbOwner.store);return n.get("owner").next(function(t){return null===t||t.ownerId!==e.ownerId?(e.persistenceError=new r.FirestoreError(r.Code.FAILED_PRECONDITION,g),d.PersistencePromise.reject(e.persistenceError)):d.PersistencePromise.resolve()})},t.prototype.validOwner=function(t){var e=Date.now(),n=e-v,i=e;return null!==t&&(!(t.leaseTimestampMs<n)&&(t.leaseTimestampMs>i?(o.error("Persistence owner-lease is in the future. Discarding.",t),!1):t.ownerId!==this.getZombiedOwnerId()))},t.prototype.scheduleOwnerLeaseRefreshes=function(){var t=this;this.ownerLeaseRefreshHandle=setInterval(function(){var e=t.runTransaction("Refresh owner timestamp",function(e){var n=e.store(l.DbOwner.store);return n.put("owner",new l.DbOwner(t.ownerId,Date.now()))});e.catch(function(e){o.error(e),t.stopOwnerLeaseRefreshes()})},m)},t.prototype.stopOwnerLeaseRefreshes=function(){this.ownerLeaseRefreshHandle&&(clearInterval(this.ownerLeaseRefreshHandle),this.ownerLeaseRefreshHandle=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;this.windowUnloadHandler=function(){t.setZombiedOwnerId(t.ownerId),t.shutdown()},window.addEventListener("unload",this.windowUnloadHandler)},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.getZombiedOwnerId=function(){try{var t=window.localStorage.getItem(this.zombiedOwnerLocalStorageKey());return o.debug(p,"Zombied ownerID from LocalStorage:",t),t}catch(t){return o.error("Failed to get zombie owner id.",t),null}},t.prototype.setZombiedOwnerId=function(t){try{null===t?window.localStorage.removeItem(this.zombiedOwnerLocalStorageKey()):window.localStorage.setItem(this.zombiedOwnerLocalStorageKey(),t)}catch(t){o.error("Failed to set zombie owner id.",t)}},t.prototype.zombiedOwnerLocalStorageKey=function(){return this.localStoragePrefix+y},t.prototype.generateOwnerId=function(){return a.AutoId.newId()},t.MAIN_DATABASE="main",t}();e.IndexedDbPersistence=w},function(t,e,n){"use strict";function i(t){return a(t,p.DbTarget.store)}function r(t){return a(t,p.DbTargetGlobal.store)}function o(t){return a(t,p.DbTargetDocument.store)}function a(t,e){return t instanceof m.SimpleDbTransaction?t.store(e):h.fail("Invalid transaction object provided!")}Object.defineProperty(e,"__esModule",{value:!0});var s=n(8),u=n(16),c=n(3),l=n(4),h=n(1),d=n(6),f=n(37),p=n(17),v=n(7),m=n(28),y=function(){function t(t){this.serializer=t,this.lastRemoteSnapshotVersion=s.SnapshotVersion.MIN,this.metadata=null,this.garbageCollector=null}return t.prototype.start=function(t){var e=this;return r(t).get(p.DbTargetGlobal.key).next(function(t){h.assert(null!==t,"Missing metadata row that should be added by schema migration."),e.metadata=t;var n=t.lastRemoteSnapshotVersion;return e.lastRemoteSnapshotVersion=s.SnapshotVersion.fromTimestamp(new u.Timestamp(n.seconds,n.nanos)),v.PersistencePromise.resolve()})},t.prototype.getHighestTargetId=function(){return this.metadata.highestTargetId},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,this.metadata.lastRemoteSnapshotVersion=e.toTimestamp(),r(t).put(p.DbTargetGlobal.key,this.metadata)},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.metadata.targetCount+=1,n.updateMetadataFromQueryData(e),n.saveMetadata(t)})},t.prototype.updateQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.updateMetadataFromQueryData(e)?n.saveMetadata(t):v.PersistencePromise.resolve()})},t.prototype.removeQueryData=function(t,e){var n=this;return h.assert(this.metadata.targetCount>0,"Removing from an empty query cache"),this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return i(t).delete(e.targetId)}).next(function(){return n.metadata.targetCount-=1,n.saveMetadata(t)})},t.prototype.saveMetadata=function(t){return r(t).put(p.DbTargetGlobal.key,this.metadata)},t.prototype.saveQueryData=function(t,e){return i(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t){var e=!1;return t.targetId>this.metadata.highestTargetId&&(this.metadata.highestTargetId=t.targetId,e=!0),e},Object.defineProperty(t.prototype,"count",{get:function(){return this.metadata.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),a=null;return i(t).iterate({range:o,index:p.DbTarget.queryTargetsIndexName},function(t,i,r){var o=n.serializer.fromDbTarget(i);e.isEqual(o.query)&&(a=o,r.done())}).next(function(){return a})},t.prototype.addMatchingKeys=function(t,e,n){var i=[],r=o(t);return e.forEach(function(t){var e=f.encode(t.path);i.push(r.put(new p.DbTargetDocument(n,e)))}),v.PersistencePromise.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var i=this,r=[],a=o(t);return e.forEach(function(t){var e=f.encode(t.path);r.push(a.delete([n,e])),null!==i.garbageCollector&&i.garbageCollector.addPotentialGarbageKey(t)}),v.PersistencePromise.waitFor(r)},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=o(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return this.notifyGCForRemovedKeys(t,i).next(function(){return n.delete(i)})},t.prototype.notifyGCForRemovedKeys=function(t,e){var n=this,i=o(t);return null!==this.garbageCollector&&this.garbageCollector.isEager?i.iterate({range:e,keysOnly:!0},function(t,e,i){var r=f.decode(t[1]),o=new l.DocumentKey(r);h.assert(null!==n.garbageCollector,"GarbageCollector for query cache set to null during key removal."),n.garbageCollector.addPotentialGarbageKey(o)}):v.PersistencePromise.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),i=o(t),r=c.documentKeySet();return i.iterate({range:n,keysOnly:!0},function(t,e,n){var i=f.decode(t[1]),o=new l.DocumentKey(i);r=r.add(o)}).next(function(){return r})},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){h.assert(null!==t,"Persistence Transaction cannot be null for query cache containsKey");var n=f.encode(e.path),i=IDBKeyRange.bound([n],[d.immediateSuccessor(n)],!1,!0),r=0;return o(t).iterate({index:p.DbTargetDocument.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){r++,n.done()}).next(function(){return r>0})},t}();e.IndexedDbQueryCache=y},function(t,e,n){"use strict";function i(t){return t instanceof c.SimpleDbTransaction?t.store(u.DbRemoteDocument.store):s.fail("Invalid transaction object provided!")}function r(t){return t.path.toArray()}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),a=n(9),s=n(1),u=n(17),c=n(28),l=function(){function t(t){this.serializer=t}return t.prototype.addEntry=function(t,e){return i(t).put(r(e.key),this.serializer.toDbRemoteDocument(e))},t.prototype.removeEntry=function(t,e){return i(t).delete(r(e))},t.prototype.getEntry=function(t,e){var n=this;return i(t).get(r(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=o.documentMap(),s=e.path.toArray(),u=IDBKeyRange.lowerBound(s);return i(t).iterate({range:u},function(t,i,o){var s=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(s.key.path)?s instanceof a.Document&&e.matches(s)&&(r=r.insert(s.key,s)):o.done()}).next(function(){return r})},t}();e.IndexedDbRemoteDocumentCache=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(3),o=n(9),a=n(4),s=n(1),u=n(7),c=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.remoteDocumentCache.getEntry(t,e).next(function(i){return n.computeLocalDocument(t,e,i)})},t.prototype.getDocuments=function(t,e){var n=this,a=[],s=r.maybeDocumentMap();return e.forEach(function(e){a.push(n.getDocument(t,e).next(function(t){t||(t=new o.NoDocument(e,i.SnapshotVersion.forDeletedDoc())),s=s.insert(e,t)}))}),u.PersistencePromise.waitFor(a).next(function(){return s})},t.prototype.getDocumentsMatchingQuery=function(t,e){return a.DocumentKey.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new a.DocumentKey(e)).next(function(t){var e=r.documentMap();return t instanceof o.Document&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(e){return i.computeLocalDocuments(t,e)}).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){for(var a=r.documentKeySet(),s=0,c=e;s<c.length;s++)for(var l=c[s],h=0,d=l.mutations;h<d.length;h++){var f=d[h];n.get(f.key)||(a=a.add(f.key))}var p=[];return a.forEach(function(e){p.push(i.getDocument(t,e).next(function(t){t instanceof o.Document&&(n=n.insert(t.key,t))}))}),u.PersistencePromise.waitFor(p)}).next(function(){return n.forEach(function(t,i){e.matches(i)||(n=n.remove(t))}),n})},t.prototype.computeLocalDocument=function(t,e,n){return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(t){for(var i=0,r=t;i<r.length;i++){var o=r[i];n=o.applyToLocalView(e,n)}return n})},t.prototype.computeLocalDocuments=function(t,e){var n=this,i=[];return e.forEach(function(r,a){i.push(n.computeLocalDocument(t,r,a).next(function(t){t instanceof o.Document?e=e.insert(t.key,t):t instanceof o.NoDocument?e=e.remove(t.key):s.fail("Unknown MaybeDocument: "+t)}))}),u.PersistencePromise.waitFor(i).next(function(){return e})},t}();e.LocalDocumentsView=c},function(t,e,n){"use strict";function i(t){return void 0!==t.documents}Object.defineProperty(e,"__esModule",{value:!0});var r=n(8),o=n(16),a=n(9),s=n(4),u=n(20),c=n(1),l=n(17),h=n(19),d=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document);if(t.noDocument){var e=s.DocumentKey.fromSegments(t.noDocument.path),n=t.noDocument.readTime,i=new o.Timestamp(n.seconds,n.nanos);return new a.NoDocument(e,r.SnapshotVersion.fromTimestamp(i))}return c.fail("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof a.Document){var e=this.remoteSerializer.toDocument(t);return new l.DbRemoteDocument(null,e)}var n=t.key.path.toArray(),i=t.version.toTimestamp(),r=new l.DbTimestamp(i.seconds,i.nanos);return new l.DbRemoteDocument(new l.DbNoDocument(n,r),null)},t.prototype.toDbMutationBatch=function(t,e){var n=this,i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new l.DbMutationBatch(t,e.batchId,e.localWriteTime.toEpochMilliseconds(),i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=o.Timestamp.fromEpochMilliseconds(t.localWriteTimeMs);return new u.MutationBatch(t.batchId,i,n)},t.prototype.fromDbTarget=function(t){var e,n=new o.Timestamp(t.readTime.seconds,t.readTime.nanos),a=r.SnapshotVersion.fromTimestamp(n);return e=i(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new h.QueryData(e,t.targetId,h.QueryPurpose.Listen,a,t.resumeToken)},t.prototype.toDbTarget=function(t){c.assert(h.QueryPurpose.Listen===t.purpose,"Only queries with purpose "+h.QueryPurpose.Listen+" may be stored, got "+t.purpose);var e,n=t.snapshotVersion.toTimestamp(),i=new l.DbTimestamp(n.seconds,n.nanos);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),c.assert("string"==typeof t.resumeToken,"Persisting non-string resume token not supported.");var r=t.resumeToken;return new l.DbTarget(t.targetId,t.query.canonicalId(),i,r,0,e)},t}();e.LocalSerializer=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(47),o=n(16),a=n(3),s=n(20),u=n(21),c=n(1),l=n(5),h=n(12),d=n(79),f=n(7),p=n(19),v=n(27),m=n(88),y="LocalStore",g=function(){function t(t,e,n){this.persistence=t,this.garbageCollector=n,this.localViewReferences=new v.ReferenceSet,this.targetIds={},this.targetIdGenerator=r.TargetIdGenerator.forLocalStore(),this.heldBatchResults=[],this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new d.LocalDocumentsView(this.remoteDocuments,this.mutationQueue),this.garbageCollector.addGarbageSource(this.localViewReferences),this.garbageCollector.addGarbageSource(this.queryCache),this.garbageCollector.addGarbageSource(this.mutationQueue)}return t.prototype.start=function(){var t=this;return this.persistence.runTransaction("Start LocalStore",function(e){return t.startMutationQueue(e).next(function(){return t.startQueryCache(e)})})},t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change",function(n){var i;return e.mutationQueue.getAllMutationBatches(n).next(function(r){return i=r,e.garbageCollector.removeGarbageSource(e.mutationQueue),e.mutationQueue=e.persistence.getMutationQueue(t),e.garbageCollector.addGarbageSource(e.mutationQueue),e.startMutationQueue(n)}).next(function(){return e.localDocuments=new d.LocalDocumentsView(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var r=a.documentKeySet(),o=0,s=[i,t];o<s.length;o++)for(var u=s[o],c=0,l=u;c<l.length;c++)for(var h=l[c],d=0,f=h.mutations;d<f.length;d++){var p=f[d];r=r.add(p.key)}return e.localDocuments.getDocuments(n,r)})})},t.prototype.startQueryCache=function(t){var e=this;return this.queryCache.start(t).next(function(){var t=e.queryCache.getHighestTargetId();e.targetIdGenerator=r.TargetIdGenerator.forLocalStore(t)})},t.prototype.startMutationQueue=function(t){var e=this;return this.mutationQueue.start(t).next(function(){return e.heldBatchResults=[],e.mutationQueue.getHighestAcknowledgedBatchId(t)}).next(function(n){return n!==s.BATCHID_UNKNOWN?e.mutationQueue.getAllMutationBatchesThroughBatchId(t,n):f.PersistencePromise.resolve([])}).next(function(n){return n.length>0?e.mutationQueue.removeMutationBatches(t,n):f.PersistencePromise.resolve()})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations",function(n){var i,r=o.Timestamp.now();return e.mutationQueue.addMutationBatch(n,r,t).next(function(t){i=t;var r=i.keys();return e.localDocuments.getDocuments(n,r)}).next(function(t){return{batchId:i.batchId,changes:t}})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch",function(n){var i;return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){if(e.shouldHoldBatchResult(t.commitVersion))return e.heldBatchResults.push(t),i=a.documentKeySet(),f.PersistencePromise.resolve();var r=new m.RemoteDocumentChangeBuffer(e.remoteDocuments);return e.releaseBatchResults(n,[t],r).next(function(t){return i=t,r.apply(n)})}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,i)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch",function(n){var i,r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(r){return c.assert(null!=r,"Attempt to reject nonexistent batch!"),i=r,e.mutationQueue.getHighestAcknowledgedBatchId(n).next(function(e){return c.assert(t>e,"Acknowledged batches can't be rejected."),i})}).next(function(){return e.removeMutationBatch(n,i)}).next(function(t){return r=t,e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){return this.queryCache.getLastRemoteSnapshotVersion()},t.prototype.applyRemoteEvent=function(t){var e=this,n=new m.RemoteDocumentChangeBuffer(this.remoteDocuments);return this.persistence.runTransaction("Apply remote event",function(r){var o=[];h.forEachNumber(t.targetChanges,function(t,n){var i=e.targetIds[t];if(i){var a=n.mapping;if(a)if(a instanceof u.ResetMapping)o.push(e.queryCache.removeMatchingKeysForTargetId(r,t).next(function(){return e.queryCache.addMatchingKeys(r,a.documents,t)}));else{if(!(a instanceof u.UpdateMapping))return c.fail("Unknown mapping type: "+JSON.stringify(a));o.push(e.queryCache.removeMatchingKeys(r,a.removedDocuments,t).next(function(){return e.queryCache.addMatchingKeys(r,a.addedDocuments,t)}))}var s=n.resumeToken;s.length>0&&(i=i.update({resumeToken:s,snapshotVersion:n.snapshotVersion}),e.targetIds[t]=i,o.push(e.queryCache.updateQueryData(r,i)))}});var s=a.documentKeySet();t.documentUpdates.forEach(function(t,a){s=s.add(t),o.push(n.getEntry(r,t).next(function(r){null==r||a.version.isEqual(i.SnapshotVersion.MIN)||a.version.compareTo(r.version)>=0?n.addEntry(a):l.debug(y,"Ignoring outdated watch update for ",t,". Current version:",r.version," Watch version:",a.version),e.garbageCollector.addPotentialGarbageKey(t)}))});var d=e.queryCache.getLastRemoteSnapshotVersion(),p=t.snapshotVersion;p.isEqual(i.SnapshotVersion.MIN)||(c.assert(p.compareTo(d)>=0,"Watch stream reverted to previous snapshot?? "+p+" < "+d),o.push(e.queryCache.setLastRemoteSnapshotVersion(r,p)));var v;return f.PersistencePromise.waitFor(o).next(function(){return e.releaseHeldBatchResults(r,n)}).next(function(t){return v=t,n.apply(r)}).next(function(){return e.localDocuments.getDocuments(r,s.unionWith(v))})})},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("Notify local view changes",function(n){for(var i=[],r=function(t){i.push(e.queryCache.getQueryData(n,t.query).next(function(n){c.assert(null!==n,"Local view changes contain unallocated query.");var i=n.targetId;e.localViewReferences.addReferences(t.addedKeys,i),e.localViewReferences.removeReferences(t.removedKeys,i)}))},o=0,a=t;o<a.length;o++){var s=a[o];r(s)}return f.PersistencePromise.waitFor(i)})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch",function(n){return void 0===t&&(t=s.BATCHID_UNKNOWN),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query",function(n){var i;return e.queryCache.getQueryData(n,t).next(function(r){if(r)return i=r,f.PersistencePromise.resolve();var o=e.targetIdGenerator.next();return i=new p.QueryData(t,o,p.QueryPurpose.Listen),e.queryCache.addQueryData(n,i)}).next(function(){return c.assert(!e.targetIds[i.targetId],"Tried to allocate an already allocated query: "+t),e.targetIds[i.targetId]=i,i})})},t.prototype.releaseQuery=function(t){var e=this;return this.persistence.runTransaction("Release query",function(n){return e.queryCache.getQueryData(n,t).next(function(i){return c.assert(null!=i,"Tried to release nonexistent query: "+t),e.localViewReferences.removeReferencesForId(i.targetId),delete e.targetIds[i.targetId],e.garbageCollector.isEager?e.queryCache.removeQueryData(n,i):f.PersistencePromise.resolve()}).next(function(){if(h.isEmpty(e.targetIds)){var t=new m.RemoteDocumentChangeBuffer(e.remoteDocuments);return e.releaseHeldBatchResults(n,t).next(function(){t.apply(n)})}return f.PersistencePromise.resolve()})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.collectGarbage=function(){var t=this;return this.persistence.runTransaction("Garbage collection",function(e){return t.garbageCollector.collectGarbage(e).next(function(n){var i=[];return n.forEach(function(n){i.push(t.remoteDocuments.removeEntry(e,n))}),f.PersistencePromise.waitFor(i)})})},t.prototype.releaseHeldBatchResults=function(t,e){for(var n=[],i=0,r=this.heldBatchResults;i<r.length;i++){var o=r[i];if(!this.isRemoteUpToVersion(o.commitVersion))break;n.push(o)}return 0===n.length?f.PersistencePromise.resolve(a.documentKeySet()):(this.heldBatchResults.splice(0,n.length),this.releaseBatchResults(t,n,e))},t.prototype.isRemoteUpToVersion=function(t){var e=this.queryCache.getLastRemoteSnapshotVersion();return t.compareTo(e)<=0||h.isEmpty(this.targetIds)},t.prototype.shouldHoldBatchResult=function(t){return!this.isRemoteUpToVersion(t)||this.heldBatchResults.length>0},t.prototype.releaseBatchResults=function(t,e,n){for(var i=this,r=f.PersistencePromise.resolve(),o=function(e){r=r.next(function(){return i.applyWriteToRemoteDocuments(t,e,n)})},a=0,s=e;a<s.length;a++){var u=s[a];o(u)}return r.next(function(){return i.removeMutationBatches(t,e.map(function(t){return t.batch}))})},t.prototype.removeMutationBatch=function(t,e){return this.removeMutationBatches(t,[e])},t.prototype.removeMutationBatches=function(t,e){for(var n=a.documentKeySet(),i=0,r=e;i<r.length;i++)for(var o=r[i],s=0,u=o.mutations;s<u.length;s++){var c=u[s],l=c.key;n=n.add(l)}return this.mutationQueue.removeMutationBatches(t,e).next(function(){return n})},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var i=e.batch,r=i.keys(),o=f.PersistencePromise.resolve();return r.forEach(function(r){o=o.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);c.assert(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(r,o,e),o?n.addEntry(o):c.assert(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),o},t}();e.LocalStore=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),r=n(3),o=function(){function t(t,e,n){this.query=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e){for(var n=r.documentKeySet(),o=r.documentKeySet(),a=0,s=e.docChanges;a<s.length;a++){var u=s[a];switch(u.type){case i.ChangeType.Added:n=n.add(u.doc.key);break;case i.ChangeType.Removed:o=o.add(u.doc.key)}}return new t(e.query,n,o)},t}();e.LocalViewChanges=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),r=n(20),o=n(13),a=n(1),s=n(6),u=n(30),c=n(7),l=n(27),h=function(){function t(){this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=r.BATCHID_UNKNOWN,this.lastStreamToken=o.emptyByteString(),this.garbageCollector=null,this.batchesByDocumentKey=new u.SortedSet(l.DocReference.compareByKey)}return t.prototype.start=function(t){return 0===this.mutationQueue.length&&(this.nextBatchId=1,this.highestAcknowledgedBatchId=r.BATCHID_UNKNOWN),a.assert(this.highestAcknowledgedBatchId<this.nextBatchId,"highestAcknowledgedBatchId must be less than the nextBatchId"),c.PersistencePromise.resolve()},t.prototype.checkEmpty=function(t){return c.PersistencePromise.resolve(0===this.mutationQueue.length)},t.prototype.getNextBatchId=function(t){return c.PersistencePromise.resolve(this.nextBatchId)},t.prototype.getHighestAcknowledgedBatchId=function(t){return c.PersistencePromise.resolve(this.highestAcknowledgedBatchId)},t.prototype.acknowledgeBatch=function(t,e,n){var i=e.batchId;a.assert(i>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var r=this.indexOfExistingBatchId(i,"acknowledged"),o=this.mutationQueue[r];return a.assert(i===o.batchId,"Queue ordering failure: expected batch "+i+", got batch "+o.batchId),a.assert(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=i,this.lastStreamToken=n,c.PersistencePromise.resolve()},t.prototype.getLastStreamToken=function(t){return c.PersistencePromise.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,c.PersistencePromise.resolve()},t.prototype.addMutationBatch=function(t,e,n){a.assert(0!==n.length,"Mutation batches should not be empty");var i=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){var o=this.mutationQueue[this.mutationQueue.length-1];a.assert(o.batchId<i,"Mutation batchIDs must be monotonically increasing order")}var s=new r.MutationBatch(i,e,n);this.mutationQueue.push(s);for(var u=0,h=n;u<h.length;u++){var d=h[u];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new l.DocReference(d.key,i))}return c.PersistencePromise.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return c.PersistencePromise.resolve(this.findMutationBatch(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,i=Math.max(e,this.highestAcknowledgedBatchId)+1,r=this.indexOfBatchId(i),o=r<0?0:r;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return c.PersistencePromise.resolve(a)}return c.PersistencePromise.resolve(null)},t.prototype.getAllMutationBatches=function(t){return c.PersistencePromise.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesThroughBatchId=function(t,e){var n=this.mutationQueue.length,i=this.indexOfBatchId(e);return i<0?i=0:i>=n?i=n:i++,c.PersistencePromise.resolve(this.getAllLiveMutationBatchesBeforeIndex(i))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,i=new l.DocReference(e,0),r=new l.DocReference(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([i,r],function(t){a.assert(e.isEqual(t.key),"Should only iterate over a single key's batches");var i=n.findMutationBatch(t.targetOrBatchId);a.assert(null!==i,"Batches in the index must exist in the main table"),o.push(i)}),c.PersistencePromise.resolve(o)},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,o=r.length+1,a=r;i.DocumentKey.isDocumentKey(a)||(a=a.child(""));var h=new l.DocReference(new i.DocumentKey(a),0),d=new u.SortedSet(s.primitiveComparator);this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!r.isPrefixOf(e)&&(e.length===o&&(d=d.add(t.targetOrBatchId)),!0)},h);var f=[];return d.forEach(function(t){var e=n.findMutationBatch(t);null!==e&&f.push(e)}),c.PersistencePromise.resolve(f)},t.prototype.removeMutationBatches=function(t,e){var n=e.length;a.assert(n>0,"Should not remove mutations when none exist.");var i=e[0].batchId,r=this.mutationQueue.length,o=this.indexOfExistingBatchId(i,"removed");a.assert(this.mutationQueue[o].batchId===i,"Removed batches must exist in the queue");for(var s=1,u=o+1;s<n&&u<r;){var h=this.mutationQueue[u];h.isTombstone()?u++:(a.assert(h.batchId===e[s].batchId,"Removed batches must be contiguous in the queue"),s++,u++)}if(0===o){for(;u<r;u++){var h=this.mutationQueue[u];if(!h.isTombstone())break}var d=u-o;this.mutationQueue.splice(o,d)}else for(var f=o;f<u;f++)this.mutationQueue[f]=this.mutationQueue[f].toTombstone();for(var p=this.batchesByDocumentKey,v=0,m=e;v<m.length;v++)for(var h=m[v],y=h.batchId,g=0,b=h.mutations;g<b.length;g++){var w=b[g],_=w.key;null!==this.garbageCollector&&this.garbageCollector.addPotentialGarbageKey(_);var E=new l.DocReference(_,y);p=p.delete(E)}return this.batchesByDocumentKey=p,c.PersistencePromise.resolve()},t.prototype.setGarbageCollector=function(t){this.garbageCollector=t},t.prototype.containsKey=function(t,e){var n=new l.DocReference(e,0),i=this.batchesByDocumentKey.firstAfterOrEqual(n);return c.PersistencePromise.resolve(e.isEqual(i&&i.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&a.assert(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),c.PersistencePromise.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var i=this.mutationQueue[n];i.isTombstone()||e.push(i)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return a.assert(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){if(0===this.mutationQueue.length)return 0;var e=this.mutationQueue[0].batchId;return t-e},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return a.assert(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}();e.MemoryMutationQueue=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(1),o=n(5),a=n(83),s=n(85),u=n(86),c="MemoryPersistence",l=function(){function t(){this.mutationQueues={},this.remoteDocumentCache=new u.MemoryRemoteDocumentCache,this.queryCache=new s.MemoryQueryCache,this.started=!1}return t.prototype.start=function(){return i.__awaiter(this,void 0,void 0,function(){
return i.__generator(this,function(t){return r.assert(!this.started,"MemoryPersistence double-started!"),this.started=!0,[2]})})},t.prototype.shutdown=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return r.assert(this.started,"MemoryPersistence shutdown without start!"),this.started=!1,[2]})})},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new a.MemoryMutationQueue,this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e){return o.debug(c,"Starting transaction:",t),e(new h).toPromise()},t}();e.MemoryPersistence=l;var h=function(){function t(){}return t}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),r=n(41),o=n(7),a=n(27),s=n(1),u=function(){function t(){this.queries=new r.ObjectMap(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=i.SnapshotVersion.MIN,this.highestTargetId=0,this.references=new a.ReferenceSet,this.targetCount=0}return t.prototype.start=function(t){return o.PersistencePromise.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(){return this.lastRemoteSnapshotVersion},t.prototype.getHighestTargetId=function(){return this.highestTargetId},t.prototype.setLastRemoteSnapshotVersion=function(t,e){return this.lastRemoteSnapshotVersion=e,o.PersistencePromise.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e)},t.prototype.addQueryData=function(t,e){return s.assert(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,o.PersistencePromise.resolve()},t.prototype.updateQueryData=function(t,e){return s.assert(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),o.PersistencePromise.resolve()},t.prototype.removeQueryData=function(t,e){return s.assert(this.targetCount>0,"Removing a target from an empty cache"),s.assert(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,o.PersistencePromise.resolve()},Object.defineProperty(t.prototype,"count",{get:function(){return this.targetCount},enumerable:!0,configurable:!0}),t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return o.PersistencePromise.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.references.addReferences(e,n),o.PersistencePromise.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){return this.references.removeReferences(e,n),o.PersistencePromise.resolve()},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),o.PersistencePromise.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return o.PersistencePromise.resolve(n)},t.prototype.setGarbageCollector=function(t){this.references.setGarbageCollector(t)},t.prototype.containsKey=function(t,e){return this.references.containsKey(t,e)},t}();e.MemoryQueryCache=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(9),o=n(4),a=n(7),s=function(){function t(){this.docs=i.maybeDocumentMap()}return t.prototype.addEntry=function(t,e){return this.docs=this.docs.insert(e.key,e),a.PersistencePromise.resolve()},t.prototype.removeEntry=function(t,e){return this.docs=this.docs.remove(e),a.PersistencePromise.resolve()},t.prototype.getEntry=function(t,e){return a.PersistencePromise.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=i.documentMap(),s=new o.DocumentKey(e.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var c=u.getNext(),l=c.key,h=c.value;if(!e.path.isPrefixOf(l.path))break;h instanceof r.Document&&e.matches(h)&&(n=n.insert(h.key,h))}return a.PersistencePromise.resolve(n)},t}();e.MemoryRemoteDocumentCache=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(7),o=function(){function t(){this.isEager=!1}return t.prototype.addGarbageSource=function(t){},t.prototype.removeGarbageSource=function(t){},t.prototype.addPotentialGarbageKey=function(t){},t.prototype.collectGarbage=function(t){return r.PersistencePromise.resolve(i.documentKeySet())},t}();e.NoOpGarbageCollector=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(1),o=n(7),a=function(){function t(t){this.remoteDocumentCache=t,this.changes=i.maybeDocumentMap()}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this.assertChanges(),i=n.get(e);return i?o.PersistencePromise.resolve(i):this.remoteDocumentCache.getEntry(t,e)},t.prototype.apply=function(t){var e=this,n=this.assertChanges(),i=[];return n.forEach(function(n,r){i.push(e.remoteDocumentCache.addEntry(t,r))}),this.changes=null,o.PersistencePromise.waitFor(i)},t.prototype.assertChanges=function(){return r.assert(null!==this.changes,"Changes have already been applied."),this.changes},t}();e.RemoteDocumentChangeBuffer=a},function(t,e,n){"use strict";function i(t){t.INTERNAL.registerService("firestore",function(t){return new a.Firestore(t)},l.shallowCopy(h))}function r(t){var e=l.shallowCopy(h);e.Firestore=a.Firestore,t.firestore=e}Object.defineProperty(e,"__esModule",{value:!0});var o=n(32),a=n(66),s=n(33),u=n(45),c=n(34),l=n(12),h={Firestore:a.PublicFirestore,GeoPoint:c.GeoPoint,Blob:o.PublicBlob,Transaction:a.PublicTransaction,WriteBatch:a.PublicWriteBatch,DocumentReference:a.PublicDocumentReference,DocumentSnapshot:a.PublicDocumentSnapshot,Query:a.PublicQuery,QueryDocumentSnapshot:a.PublicQueryDocumentSnapshot,QuerySnapshot:a.PublicQuerySnapshot,CollectionReference:a.PublicCollectionReference,FieldPath:s.FieldPath,FieldValue:u.PublicFieldValue,setLogLevel:a.Firestore.setLogLevel};e.configureForFirebase=i,e.configureForStandalone=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),r=n(91);i.PlatformSupport.setPlatform(new r.BrowserPlatform)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(50),r=n(92),o=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return t.prototype.loadConnection=function(t){return Promise.resolve(new r.WebChannelConnection(t))},t.prototype.newSerializer=function(t){return new i.JsonProtoSerializer(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();e.BrowserPlatform=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(118),r=n(36),o=n(38),a=n(99),s=n(1),u=n(2),c=n(5),l="Connection",h="google.firestore.v1beta1.Firestore",d="v1beta1",f={BatchGetDocuments:"batchGet",Commit:"commit"},p="gl-js/ fire/"+r.SDK_VERSION,v=15,m=function(){function t(t){this.databaseId=t.databaseId,this.pool=new i.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=p},t.prototype.invokeRPC=function(t,e,n){var r=this,a=this.makeUrl(t);return new Promise(function(h,d){r.pool.getObject(function(f){f.listenOnce(i.EventType.COMPLETE,function(){try{switch(f.getLastErrorCode()){case i.ErrorCode.NO_ERROR:var e=f.getResponseJson();c.debug(l,"XHR received:",JSON.stringify(e)),h(e);break;case i.ErrorCode.TIMEOUT:c.debug(l,'RPC "'+t+'" timed out'),d(new u.FirestoreError(u.Code.DEADLINE_EXCEEDED,"Request time out"));break;case i.ErrorCode.HTTP_ERROR:var n=f.getStatus();c.debug(l,'RPC "'+t+'" failed with status:',n,"response text:",f.getResponseText()),n>0?d(new u.FirestoreError(o.mapCodeFromHttpStatus(n),"Server responded with status "+f.getStatusText())):(c.debug(l,'RPC "'+t+'" failed'),d(new u.FirestoreError(u.Code.UNAVAILABLE,"Connection failed.")));break;default:s.fail('RPC "'+t+'" failed with unanticipated webchannel error '+f.getLastErrorCode()+": "+f.getLastError()+", giving up.")}}finally{c.debug(l,'RPC "'+t+'" completed.'),r.pool.releaseObject(f)}});var p=JSON.stringify(e);c.debug(l,"XHR sending: ",a+" "+p);var m={"Content-Type":"text/plain"};r.modifyHeadersForRequest(m,n),f.send(a,"POST",p,m,v)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/",h,"/",t,"/channel"],r=i.createWebChannelTransport(),d={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},httpHeadersOverwriteParam:"$httpHeaders",messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(d.initMessageHeaders,e);var f=n.join("");c.debug(l,"Creating WebChannel: "+f+" "+d);var p=r.createWebChannel(f,d),v=!1,m=!1,y=new a.StreamBridge({sendFn:function(t){m?c.debug(l,"Not sending because WebChannel is closed:",t):(v||(c.debug(l,"Opening WebChannel transport."),p.open(),v=!0),c.debug(l,"WebChannel sending:",t),p.send(t))},closeFn:function(){return p.close()}}),g=function(t,e){p.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return g(i.WebChannel.EventType.OPEN,function(){m||c.debug(l,"WebChannel transport opened.")}),g(i.WebChannel.EventType.CLOSE,function(){m||(m=!0,c.debug(l,"WebChannel transport closed"),y.callOnClose())}),g(i.WebChannel.EventType.ERROR,function(t){m||(m=!0,c.debug(l,"WebChannel transport errored:",t),y.callOnClose(new u.FirestoreError(u.Code.UNAVAILABLE,"The operation could not be completed")))}),g(i.WebChannel.EventType.MESSAGE,function(t){if(!m){var e=t.data[0];s.assert(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){c.debug(l,"WebChannel received error:",n);var i=n.status,r=o.mapCodeFromRpcStatus(i),a=n.message;void 0===r&&(r=u.Code.INTERNAL,a="Unknown error status: "+i+" with message "+n.message),m=!0,y.callOnClose(new u.FirestoreError(r,a)),p.close()}else c.debug(l,"WebChannel received:",e),y.callOnMessage(e)}}),setTimeout(function(){y.callOnOpen()},0),y},t.prototype.makeUrl=function(t){var e=f[t];s.assert(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/",d];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();e.WebChannelConnection=m},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(5),r="ExponentialBackoff",o=function(){function t(t,e,n,i,r){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=i,this.maxDelayMs=r,this.timerPromise=null,this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){this.cancel();var e=this.currentBaseMs+this.jitterDelayMs();this.currentBaseMs>0&&i.debug(r,"Backing off for "+e+" ms "+("(base delay: "+this.currentBaseMs+" ms)")),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,e,t),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();e.ExponentialBackoff=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=n(1),o=n(97),a=function(){function t(t,e,n,i){this.queue=t,this.connection=e,this.credentials=n,this.serializer=i}return t.prototype.newPersistentWriteStream=function(){return new o.PersistentWriteStream(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.newPersistentWatchStream=function(){return new o.PersistentListenStream(this.queue,this.connection,this.credentials,this.serializer)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var o=i.maybeDocumentMap();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);o=o.insert(n.key,n)});var a=[];return t.forEach(function(t){var e=o.get(t);r.assert(!!e,"Missing entity in write response for "+t),a.push(e)}),a})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(i){return n.connection.invokeRPC(t,e,i)})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken(!1).then(function(i){return n.connection.invokeStreamingRPC(t,e,i)})},t}();e.Datastore=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();e.ExistenceFilter=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),r=n(5),o=n(1),a=n(40),s="OnlineStateTracker",u=2,c=1e4,l=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=i.OnlineState.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(i.OnlineState.Unknown),o.assert(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(a.TimerId.OnlineStateTimeout,c,function(){return t.onlineStateTimer=null,o.assert(t.state===i.OnlineState.Unknown,"Timer should be canceled if we transitioned to a different state."),r.debug(s,"Watch stream didn't reach online or offline within "+(c+"ms. Considering client offline.")),t.logClientOfflineWarningIfNecessary(),t.setAndBroadcast(i.OnlineState.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(){this.state===i.OnlineState.Online?(this.setAndBroadcast(i.OnlineState.Unknown),o.assert(0===this.watchStreamFailures,"watchStreamFailures must be 0"),o.assert(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=u&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary(),this.setAndBroadcast(i.OnlineState.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===i.OnlineState.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(){this.shouldWarnClientIsOffline&&(r.error("Could not reach Firestore backend."),this.shouldWarnClientIsOffline=!1)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}();e.OnlineStateTracker=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,r=n(10),o=n(1),a=n(40),s=n(2),u=n(5),c=n(93),l=n(23),h="PersistentStream";!function(t){t[t.Initial=0]="Initial",t[t.Auth=1]="Auth",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t[t.Stopped=5]="Stopped"}(i||(i={}));var d=1e3,f=6e4,p=1.5,v=6e4,m=function(){function t(t,e,n,r,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=o,this.inactivityTimerPromise=null,this.stream=null,this.listener=null,this.backoff=new c.ExponentialBackoff(t,e,d,p,f),this.state=i.Initial}return t.prototype.isStarted=function(){return this.state===i.Backoff||this.state===i.Auth||this.state===i.Open},t.prototype.isOpen=function(){return this.state===i.Open},t.prototype.start=function(t){return this.state===i.Error?void this.performBackoff(t):(o.assert(this.state===i.Initial,"Already started"),this.listener=t,void this.auth())},t.prototype.stop=function(){this.isStarted()&&this.close(i.Stopped)},t.prototype.inhibitBackoff=function(){o.assert(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=i.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.inactivityTimerPromise&&(this.inactivityTimerPromise=this.queue.enqueueAfterDelay(this.idleTimerId,v,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(t){return this.isOpen()?[2,this.close(i.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.inactivityTimerPromise&&(this.inactivityTimerPromise.cancel(),this.inactivityTimerPromise=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,function(){var n;return r.__generator(this,function(r){return o.assert(t===i.Error||l.isNullOrUndefined(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),t!==i.Error?this.backoff.reset():e&&e.code===s.Code.RESOURCE_EXHAUSTED&&(u.error(e.toString()),u.error("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,n=this.listener,this.listener=null,t!==i.Stopped?[2,n.onClose(e)]:[2]})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;o.assert(this.state===i.Initial,"Must be in initial state to auth"),this.state=i.Auth,this.credentialsProvider.getToken(!1).then(function(e){t.startStream(e)},function(e){t.queue.enqueue(function(){return r.__awaiter(t,void 0,void 0,function(){var t;return r.__generator(this,function(n){return this.state!==i.Stopped?(t=new s.FirestoreError(s.Code.UNKNOWN,"Fetching auth token failed: "+e.message),[2,this.handleStreamClose(t)]):[2]})})})})},t.prototype.startStream=function(t){var e=this;if(this.state!==i.Stopped){o.assert(this.state===i.Auth,"Trying to start stream in a non-auth state");var n=function(t,n){e.queue.enqueue(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){return this.stream===t?[2,n()]:[2]})})})};if(null!==this.listener){var a=this.startRpc(t);this.stream=a,this.stream.onOpen(function(){n(a,function(){return o.assert(e.state===i.Auth,"Expected stream to be in state auth, but was "+e.state),e.state=i.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(a,function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(a,function(){return e.onMessage(t)})})}}},t.prototype.performBackoff=function(t){var e=this;o.assert(this.state===i.Error,"Should only perform backoff in an error case"),this.state=i.Backoff,this.backoff.backoffAndRun(function(){return r.__awaiter(e,void 0,void 0,function(){return r.__generator(this,function(e){return this.state===i.Stopped?[2]:(this.state=i.Initial,this.start(t),o.assert(this.isStarted(),"PersistentStream should have started"),[2])})})})},t.prototype.handleStreamClose=function(t){return o.assert(this.isStarted(),"Can't handle server close on non-started stream"),u.debug(h,"close with error: "+t),this.stream=null,this.close(i.Error,t)},t}();e.PersistentStream=m;var y=function(t){function e(e,n,i,r){var o=t.call(this,e,a.TimerId.ListenStreamConnectionBackoff,a.TimerId.ListenStreamIdle,n,i)||this;return o.serializer=r,o}return r.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(m);e.PersistentListenStream=y;var g=function(t){function e(e,n,i,r){var o=t.call(this,e,a.TimerId.WriteStreamConnectionBackoff,a.TimerId.WriteStreamIdle,n,i)||this;return o.serializer=r,o.handshakeComplete_=!1,o}return r.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(e){this.handshakeComplete_=!1,t.prototype.start.call(this,e)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(o.assert(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return o.assert(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){o.assert(this.isOpen(),"Writing handshake requires an opened stream"),o.assert(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;o.assert(this.isOpen(),"Writing mutations requires an opened stream"),o.assert(this.handshakeComplete_,"Handshake must be complete before writing mutations"),o.assert(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(m);e.PersistentWriteStream=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(8),o=n(73),a=n(25),s=n(19),u=n(9),c=n(4),l=n(20),h=n(13),d=n(1),f=n(2),p=n(5),v=n(12),m=n(21),y=n(38),g=n(51),b=n(96),w="RemoteStore",_=10,E=function(){function t(t,e,n,i){this.localStore=t,this.datastore=e,this.pendingWrites=[],this.lastBatchSeen=l.BATCHID_UNKNOWN,this.listenTargets={},this.pendingTargetResponses={},this.accumulatedWatchChanges=[],this.watchStream=null,this.writeStream=null,this.onlineStateTracker=new b.OnlineStateTracker(n,i)}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.isNetworkEnabled=function(){return d.assert(null==this.watchStream==(null==this.writeStream),"WatchStream and WriteStream should both be null or non-null"),null!=this.watchStream},t.prototype.enableNetwork=function(){var t=this;return this.isNetworkEnabled()?Promise.resolve():(this.watchStream=this.datastore.newPersistentWatchStream(),this.writeStream=this.datastore.newPersistentWriteStream(),this.localStore.getLastStreamToken().then(function(e){return t.writeStream.lastStreamToken=e,t.shouldStartWatchStream()?t.startWatchStream():t.onlineStateTracker.set(a.OnlineState.Unknown),t.fillWritePipeline()}))},t.prototype.disableNetwork=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.disableNetworkInternal(),this.onlineStateTracker.set(a.OnlineState.Offline),[2]})})},t.prototype.disableNetworkInternal=function(){this.isNetworkEnabled()&&(this.watchStream.stop(),this.writeStream.stop(),this.cleanUpWatchStreamState(),this.cleanUpWriteStreamState(),this.writeStream=null,this.watchStream=null)},t.prototype.shutdown=function(){return p.debug(w,"RemoteStore shutting down."),this.disableNetworkInternal(),this.onlineStateTracker.set(a.OnlineState.Unknown),Promise.resolve()},t.prototype.listen=function(t){d.assert(!v.contains(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.isNetworkEnabled()&&this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){d.assert(v.contains(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.isNetworkEnabled()&&this.watchStream.isOpen()&&(this.sendUnwatchRequest(t),v.isEmpty(this.listenTargets)&&this.watchStream.markIdle())},t.prototype.sendWatchRequest=function(t){this.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.recordPendingTargetRequest=function(t){this.pendingTargetResponses[t]=(this.pendingTargetResponses[t]||0)+1},t.prototype.startWatchStream=function(){d.assert(this.shouldStartWatchStream(),"startWriteStream() called when shouldStartWatchStream() is false."),this.watchStream.start({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.isNetworkEnabled()&&!this.watchStream.isStarted()&&!v.isEmpty(this.listenTargets)},t.prototype.cleanUpWatchStreamState=function(){this.accumulatedWatchChanges=[],this.pendingTargetResponses={}},t.prototype.onWatchStreamOpen=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){return v.forEachNumber(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return d.assert(this.isNetworkEnabled(),"onWatchStreamClose() should only be called when the network is enabled"),this.cleanUpWatchStreamState(),this.onlineStateTracker.handleWatchStreamFailure(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(a.OnlineState.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(i){return this.onlineStateTracker.set(a.OnlineState.Online),t instanceof g.WatchTargetChange&&t.state===g.WatchTargetChangeState.Removed&&t.cause?[2,this.handleTargetError(t)]:(this.accumulatedWatchChanges.push(t),!e.isEqual(r.SnapshotVersion.MIN)&&e.compareTo(this.localStore.getLastRemoteSnapshotVersion())>=0?(n=this.accumulatedWatchChanges,this.accumulatedWatchChanges=[],[2,this.handleWatchChangeBatch(e,n)]):[2])})})},t.prototype.handleWatchChangeBatch=function(t,e){var n=this,i=new g.WatchChangeAggregator(t,this.listenTargets,this.pendingTargetResponses);i.addChanges(e);var r=i.createRemoteEvent();this.pendingTargetResponses=i.pendingTargetResponses;var o=[];return v.forEachNumber(i.existenceFilters,function(e,i){var a=n.listenTargets[e];if(a){var l=a.query;if(l.isDocumentQuery())if(0===i.count){var h=new c.DocumentKey(l.path),f=new u.NoDocument(h,t);r.addDocumentUpdate(f)}else d.assert(1===i.count,"Single document existence filter with count: "+i.count);else{var p=n.localStore.remoteDocumentKeys(e).then(function(t){if(r.targetChanges[e]){var o=r.targetChanges[e].mapping;null!==o&&(o instanceof m.UpdateMapping?t=o.applyToKeySet(t):(d.assert(o instanceof m.ResetMapping,"Expected either reset or update mapping but got something else: "+o),t=o.documents))}if(t.size!==i.count){r.handleExistenceFilterMismatch(e);var u=new s.QueryData(l,e,a.purpose);n.listenTargets[e]=u,n.sendUnwatchRequest(e);var c=new s.QueryData(l,e,s.QueryPurpose.ExistenceFilterMismatch);n.sendWatchRequest(c)}});o.push(p)}}}),Promise.all(o).then(function(){return v.forEachNumber(r.targetChanges,function(t,e){if(e.resumeToken.length>0){var i=n.listenTargets[t];i&&(n.listenTargets[t]=i.update({resumeToken:e.resumeToken,snapshotVersion:e.snapshotVersion}))}}),n.syncEngine.applyRemoteEvent(r)})},t.prototype.handleTargetError=function(t){var e=this;d.assert(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return v.contains(this.listenTargets,t)?(delete this.listenTargets[t],[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.cleanUpWriteStreamState=function(){this.lastBatchSeen=l.BATCHID_UNKNOWN,p.debug(w,"Stopping write stream with "+this.pendingWrites.length+" pending writes"),this.pendingWrites=[]},t.prototype.fillWritePipeline=function(){return i.__awaiter(this,void 0,void 0,function(){var t=this;return i.__generator(this,function(e){return this.canWriteMutations()?[2,this.localStore.nextMutationBatch(this.lastBatchSeen).then(function(e){return null!==e?(t.commit(e),t.fillWritePipeline()):void(0===t.pendingWrites.length&&t.writeStream.markIdle())})]:[2]})})},t.prototype.canWriteMutations=function(){return this.isNetworkEnabled()&&this.pendingWrites.length<_},t.prototype.outstandingWrites=function(){return this.pendingWrites.length},t.prototype.commit=function(t){d.assert(this.canWriteMutations(),"commit called when batches can't be written"),this.lastBatchSeen=t.batchId,this.pendingWrites.push(t),this.shouldStartWriteStream()?this.startWriteStream():this.isNetworkEnabled()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.isNetworkEnabled()&&!this.writeStream.isStarted()&&this.pendingWrites.length>0},t.prototype.startWriteStream=function(){d.assert(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})},t.prototype.onWriteStreamOpen=function(){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.pendingWrites;e<n.length;e++){var i=n[e];t.writeStream.writeMutations(i.mutations)}})},t.prototype.onMutationResult=function(t,e){var n=this;d.assert(this.pendingWrites.length>0,"Got result for empty pending writes");var i=this.pendingWrites.shift(),r=l.MutationBatchResult.from(i,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(r).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(i){return d.assert(this.isNetworkEnabled(),"onWriteStreamClose() should only be called when the network is enabled"),t&&this.pendingWrites.length>0?(d.assert(!!t,"We have pending writes, but the write stream closed without an error"),e=void 0,e=this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t),[2,e.then(function(){n.shouldStartWriteStream()&&n.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return i.__awaiter(this,void 0,void 0,function(){
return i.__generator(this,function(e){return y.isPermanentError(t.code)||t.code===f.Code.ABORTED?(p.debug(w,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=h.emptyByteString(),[2,this.localStore.setLastStreamToken(h.emptyByteString())]):[2]})})},t.prototype.handleWriteError=function(t){return i.__awaiter(this,void 0,void 0,function(){var e,n=this;return i.__generator(this,function(i){return y.isPermanentError(t.code)?(e=this.pendingWrites.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new o.Transaction(this.datastore)},t.prototype.handleUserChange=function(t){if(p.debug(w,"RemoteStore changing users: uid=",t.uid),this.isNetworkEnabled())return this.disableNetworkInternal(),this.onlineStateTracker.set(a.OnlineState.Unknown),this.enableNetwork()},t}();e.RemoteStore=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),r=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){i.assert(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){i.assert(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){i.assert(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){i.assert(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){i.assert(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){i.assert(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}();e.StreamBridge=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}();e.AsyncObserver=n},function(t,e,n){"use strict";function i(t){r.instances.forEach(function(e){e.logLevel=t})}Object.defineProperty(e,"__esModule",{value:!0});var r=n(53);e.setLogLevel=i;var o=n(53);e.Logger=o.Logger,e.LogLevel=o.LogLevel},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n(103),n(104),n(105)},function(t,e,n){(function(t){var e=function(){if("undefined"!=typeof t)return t;if("undefined"!=typeof window)return window;if("undefined"!=typeof self)return self;throw new Error("unable to locate global object")}();"undefined"==typeof Promise&&(e.Promise=Promise=n(139))}).call(e,function(){return this}())},function(t,e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1}})},function(t,e){String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(!e||e<0?0:+e,t.length)===t})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54);e.assert=i.assert,e.assertionError=i.assertionError;var r=n(55);e.base64=r.base64,e.base64Decode=r.base64Decode,e.base64Encode=r.base64Encode;var o=n(42);e.CONSTANTS=o.CONSTANTS;var a=n(107);e.deepCopy=a.deepCopy,e.deepExtend=a.deepExtend,e.patchProperty=a.patchProperty;var s=n(108);e.Deferred=s.Deferred;var u=n(109);e.getUA=u.getUA,e.isMobileCordova=u.isMobileCordova,e.isNodeSdk=u.isNodeSdk,e.isReactNative=u.isReactNative;var c=n(110);e.ErrorFactory=c.ErrorFactory,e.FirebaseError=c.FirebaseError,e.patchCapture=c.patchCapture;var l=n(56);e.jsonEval=l.jsonEval,e.stringify=l.stringify;var h=n(112);e.decode=h.decode,e.isAdmin=h.isAdmin,e.issuedAtTime=h.issuedAtTime,e.isValidFormat=h.isValidFormat,e.isValidTimestamp=h.isValidTimestamp;var d=n(57);e.clone=d.clone,e.contains=d.contains,e.every=d.every,e.extend=d.extend,e.findKey=d.findKey,e.findValue=d.findValue,e.forEach=d.forEach,e.getAnyKey=d.getAnyKey,e.getCount=d.getCount,e.getValues=d.getValues,e.isEmpty=d.isEmpty,e.isNonNullObject=d.isNonNullObject,e.map=d.map,e.safeGet=d.safeGet;var f=n(113);e.querystring=f.querystring,e.querystringDecode=f.querystringDecode;var p=n(114);e.Sha1=p.Sha1;var v=n(115);e.async=v.async,e.createSubscribe=v.createSubscribe;var m=n(117);e.errorPrefix=m.errorPrefix,e.validateArgCount=m.validateArgCount,e.validateCallback=m.validateCallback,e.validateContextObject=m.validateContextObject,e.validateNamespace=m.validateNamespace;var y=n(116);e.stringLength=y.stringLength,e.stringToByteArray=y.stringToByteArray},function(t,e){"use strict";function n(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=i(t[r],e[r]));return t}function r(t,e,n){t[e]=n}Object.defineProperty(e,"__esModule",{value:!0}),e.deepCopy=n,e.deepExtend=i,e.patchProperty=r},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();e.Deferred=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(42);e.getUA=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(e.getUA())},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isNodeSdk=function(){return i.CONSTANTS.NODE_CLIENT===!0||i.CONSTANTS.NODE_ADMIN===!0}},function(t,e){"use strict";function n(t){var e=r;return r=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i="FirebaseError",r=Error.captureStackTrace;e.patchCapture=n;var o=function(){function t(t,e){this.code=t,this.message=e;if(r)r(this,a.prototype.create);else{var n=Error.apply(this,arguments);this.name=i,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();e.FirebaseError=o,o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,o.prototype.name=i;var a=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,i=this.errors[t],r=this.service+"/"+t;n=void 0===i?"Error":i.replace(this.pattern,function(t,n){var i=e[n];return void 0!==i?i.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+r+").";var a=new o(r,n);for(var s in e)e.hasOwnProperty(s)&&"_"!==s.slice(-1)&&(a[s]=e[s]);return a},t}();e.ErrorFactory=a},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.blockSize=-1}return t}();e.Hash=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(55),r=n(56);e.decode=function(t){var e={},n={},o={},a="";try{var s=t.split(".");e=r.jsonEval(i.base64Decode(s[0])||""),n=r.jsonEval(i.base64Decode(s[1])||""),a=s[2],o=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:o,signature:a}},e.isValidTimestamp=function(t){var n,i,r=e.decode(t).claims,o=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?n=r.nbf:r.hasOwnProperty("iat")&&(n=r.iat),i=r.hasOwnProperty("exp")?r.exp:n+86400),o&&n&&i&&o>=n&&o<=i},e.issuedAtTime=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.hasOwnProperty("iat")?n.iat:null},e.isValidFormat=function(t){var n=e.decode(t),i=n.claims;return!!n.signature&&!!i&&"object"==typeof i&&i.hasOwnProperty("iat")},e.isAdmin=function(t){var n=e.decode(t).claims;return"object"==typeof n&&n.admin===!0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(57);e.querystring=function(t){var e=[];return i.forEach(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),r=n(111),o=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return i.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4],i=0;i<80;i++){i<40?i<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):i<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);var r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;i<e;){if(0==o)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[o]=t.charCodeAt(i),++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}else for(;i<e;)if(r[o]=t[i],++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var i=0,n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},e}(r.Hash);e.Sha1=o},function(t,e){"use strict";function n(t,e){var n=new a(t,e);return n.subscribe.bind(n)}function i(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function r(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}function o(){}Object.defineProperty(e,"__esModule",{value:!0}),e.createSubscribe=n;var a=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,a=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=r(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=o),void 0===i.error&&(i.error=o),void 0===i.complete&&(i.complete=o);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{a.finalError?i.error(a.finalError):i.complete()}catch(t){}}),this.observers.push(i),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();e.async=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54);e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i.assert(r<t.length,"Surrogate pair missing trail surrogate.");var s=t.charCodeAt(r)-56320;o=65536+(a<<10)+s}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e}},function(t,e){"use strict";function n(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=t+" failed: ";return r+=i+" argument "}function i(t,e,i,r){if((!r||i)&&"string"!=typeof i)throw new Error(n(t,e,r)+"must be a valid firebase namespace.")}function r(t,e,i,r){if((!r||i)&&"function"!=typeof i)throw new Error(n(t,e,r)+"must be a valid function.")}function o(t,e,i,r){if((!r||i)&&("object"!=typeof i||null===i))throw new Error(n(t,e,r)+"must be a valid context object.")}Object.defineProperty(e,"__esModule",{value:!0}),e.validateArgCount=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r){var o=t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}},e.errorPrefix=n,e.validateNamespace=i,e.validateCallback=r,e.validateContextObject=o},function(module,exports,__webpack_require__){(function(global){(function(){function l(t){return"string"==typeof t}function n(t,e){t=t.split("."),e=e||k;for(var n=0;n<t.length;n++)if(e=e[t[n]],null==e)return null;return e}function aa(){}function ba(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function p(t){return"array"==ba(t)}function ca(t){var e=ba(t);return"array"==e||"object"==e&&"number"==typeof t.length}function da(t){return"function"==ba(t)}function ea(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ha(t,e,n){return t.call.apply(t.bind,arguments)}function ia(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function r(t,e,n){return r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia,r.apply(null,arguments)}function ja(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function u(t,e){function n(){}n.prototype=e.prototype,t.H=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Ib=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function ka(t){if(Error.captureStackTrace)Error.captureStackTrace(this,ka);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function la(t,e){t=t.split("%s");for(var n="",i=t.length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");ka.call(this,n+t[i])}function ma(t,e){throw new la("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function w(){0!=na&&(pa[this[q]||(this[q]=++fa)]=this),this.i=this.i,this.m=this.m}function sa(t){t:{for(var e=ta,n=t.length,i=l(t)?t.split(""):t,r=0;r<n;r++)if(r in i&&e.call(void 0,i[r],r,t)){e=r;break t}e=-1}return 0>e?null:l(t)?t.charAt(e):t[e]}function ua(t){if(!p(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function va(t){return Array.prototype.concat.apply([],arguments)}function wa(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function xa(t){return/^[\s\xa0]*$/.test(t)}function za(t,e){return t<e?-1:t>e?1:0}function y(t){return-1!=x.indexOf(t)}function Ca(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function Da(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function Ea(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function Fa(t){var e,n={};for(e in t)n[e]=t[e];return n}function Ha(t,e){for(var n,i,r=1;r<arguments.length;r++){i=arguments[r];for(n in i)t[n]=i[n];for(var o=0;o<Ga.length;o++)n=Ga[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Ia(t){return Ia[" "](t),t}function Ja(t,e){var n=Ka;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function Qa(){var t=k.document;return t?t.documentMode:void 0}function Va(t){return Ja(t,function(){for(var e=0,n=ya(String(Ra)).split("."),i=ya(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=za(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||za(0==a[2].length,0==s[2].length)||za(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function A(t,e){this.type=t,this.a=this.target=e,this.Ra=!0}function bb(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Oa){t:{try{Ia(e.nodeName);var r=!0;break t}catch(t){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=l(t.pointerType)?t.pointerType:cb[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}function fb(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ga=r,this.key=++eb,this.Z=this.ba=!1}function gb(t){t.Z=!0,t.listener=null,t.proxy=null,t.src=null,t.ga=null}function hb(t){this.src=t,this.a={},this.b=0}function jb(t,e){var n=e.type;if(n in t.a){var i,r=t.a[n],o=qa(r,e);(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(gb(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ib(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.Z&&o.listener==e&&o.capture==!!n&&o.ga==i)return r}return-1}function nb(t,e,n,i,r){if(i&&i.once)return ob(t,e,n,i,r);if(p(e)){for(var o=0;o<e.length;o++)nb(t,e[o],n,i,r);return null}return n=pb(n),t&&t[db]?t.Ia(e,n,ea(i)?!!i.capture:!!i,r):qb(t,e,n,!1,i,r)}function qb(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=ea(r)?!!r.capture:!!r,s=rb(t);if(s||(t[kb]=s=new hb(t)),n=s.add(e,n,i,a,o),n.proxy)return n;if(i=sb(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)ab||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(tb(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return mb++,n}function sb(){var t=ub,e=Za?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function ob(t,e,n,i,r){if(p(e)){for(var o=0;o<e.length;o++)ob(t,e[o],n,i,r);return null}return n=pb(n),t&&t[db]?t.Ja(e,n,ea(i)?!!i.capture:!!i,r):qb(t,e,n,!0,i,r)}function vb(t,e,n,i,r){if(p(e))for(var o=0;o<e.length;o++)vb(t,e[o],n,i,r);else i=ea(i)?!!i.capture:!!i,n=pb(n),t&&t[db]?(t=t.f,e=String(e).toString(),e in t.a&&(o=t.a[e],n=ib(o,n,i,r),-1<n&&(gb(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=rb(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ib(e,n,i,r)),(n=-1<t?e[t]:null)&&wb(n))}function wb(t){if("number"!=typeof t&&t&&!t.Z){var e=t.src;if(e&&e[db])jb(e.f,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(tb(n),i):e.addListener&&e.removeListener&&e.removeListener(i),mb--,(n=rb(e))?(jb(n,t),0==n.b&&(n.src=null,e[kb]=null)):gb(t)}}}function tb(t){return t in lb?lb[t]:lb[t]="on"+t}function xb(t,e,n,i){var r=!0;if((t=rb(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Z&&(o=yb(o,i),r=r&&!1!==o)}return r}function yb(t,e){var n=t.listener,i=t.ga||t.src;return t.ba&&wb(t),n.call(i,e)}function ub(t,e){if(t.Z)return!0;if(!Za){var i=e||n("window.event");e=new bb(i,this);var r=!0;if(!(0>i.keyCode||void 0!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(t){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.a;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.a=i[o];var a=xb(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.a=i[o],a=xb(i[o],t,!1,e),r=r&&a}return r}return yb(t,new bb(e,this))}function rb(t){return t=t[kb],t instanceof hb?t:null}function pb(t){return da(t)?t:(t[zb]||(t[zb]=function(e){return t.handleEvent(e)}),t[zb])}function B(){w.call(this),this.f=new hb(this),this.N=this,this.J=null}function Ab(t,e,n,i){if(e=t.f.a[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Z&&a.capture==n){var s=a.listener,u=a.ga||a.src;a.ba&&jb(t.f,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Ra}function Bb(t){return!/^\s*$/.test(t)&&/^[\],:{}\s\u2028\u2029]*$/.test(t.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))}function Cb(a){if(a=String(a),Bb(a))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Db(t){var e=[];return Eb(new Fb,t,e),e.join("")}function Fb(){}function Eb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(p(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),Eb(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),r="";for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(o=e[i],"function"!=typeof o&&(n.push(r),Gb(i,n),n.push(":"),Eb(t,o,n),r=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Gb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function Gb(t,e){e.push('"',t.replace(Ib,function(t){var e=Hb[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Hb[t]=e),e}),'"')}function Jb(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Kb(){this.b=this.a=null}function Ob(){var t=Pb,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Lb(){this.next=this.b=this.a=null}function Qb(t){k.setTimeout(function(){throw t},0)}function Sb(){var t=k.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!y("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=r(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!=typeof t&&!y("Trident")&&!y("MSIE")){var e=new t,n={},i=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.za;n.za=null,t()}},function(t){i.next={za:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){k.setTimeout(t,0)}}function Ub(){if(-1!=String(k.Promise).indexOf("[native code]")){var t=k.Promise.resolve(void 0);Tb=function(){t.then(Vb)}}else Tb=function(){var t=Vb;!da(k.setImmediate)||k.Window&&k.Window.prototype&&!y("Edge")&&k.Window.prototype.setImmediate==k.setImmediate?(Rb||(Rb=Sb()),Rb(t)):k.setImmediate(t)}}function Vb(){for(var t;t=Ob();){try{t.a.call(t.b)}catch(t){Qb(t)}var e=Nb;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Wb=!1}function Xb(e,n){B.call(this),this.b=e||1,this.a=n||k,this.c=r(this.qb,this),this.g=t()}function Yb(t){t.ea=!1,t.O&&(t.a.clearTimeout(t.O),t.O=null)}function Zb(t,e,n){if(da(t))n&&(t=r(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=r(t.handleEvent,t)}return 2147483647<Number(e)?-1:k.setTimeout(t,e||0)}function $b(t,e,n){w.call(this),this.f=null!=n?r(t,n):t,this.c=e,this.b=r(this.kb,this),this.a=[]}function ac(t){t.Y=Zb(t.b,t.c),t.f.apply(null,t.a)}function bc(t){w.call(this),this.b=t,this.a={}}function dc(t,e,n,i){p(n)||(n&&(cc[0]=n.toString()),n=cc);for(var r=0;r<n.length;r++){var o=nb(e,n[r],i||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function ec(t){Ca(t.a,function(t,e){this.a.hasOwnProperty(e)&&wb(t)},t),t.a={}}function fc(t,e,n){this.reset(t,e,n,void 0,void 0)}function hc(t){this.f=t,this.b=this.c=this.a=null}function C(t,e){this.name=t,this.value=e}function nc(t){return t.c?t.c:t.a?nc(t.a):(ma("Root logger has no level set."),null)}function qc(t){pc||(pc=new hc(""),oc[""]=pc,pc.c=lc);var e;if(!(e=oc[t])){e=new hc(t);var n=t.lastIndexOf("."),i=t.substr(n+1);n=qc(t.substr(0,n)),n.b||(n.b={}),n.b[i]=e,e.a=n,oc[t]=e}return e}function D(t,e){t&&t.log(jc,e,void 0)}function rc(t,e){t&&t.log(kc,e,void 0)}function E(t,e){t&&t.log(mc,e,void 0)}function sc(){this.a=qc("goog.labs.net.webChannel.WebChannelDebug"),this.b=!0}function tc(t,e,n,i,r,o){F(t,function(){if(t.b)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"="+c+"&"):a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+a})}function uc(t,e,n,i,r,o,a){F(t,function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+o+" "+a})}function G(t,e,n,i){F(t,function(){return"XMLHTTP TEXT ("+e+"): "+vc(t,n)+(i?" "+i:"")})}function wc(t,e){F(t,function(){return"TIMEOUT: "+e})}function H(t,e){E(t.a,e)}function xc(t,e,n){(t=t.a)&&t.log(ic,n||"Exception",e)}function F(t,e){rc(t.a,e)}function J(t,e){(t=t.a)&&t.log(ic,e,void 0)}function vc(t,e){if(!t.b)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(var i=0;i<n.length;i++)if(p(n[i])){var r=n[i];if(!(2>r.length)){var o=r[1];if(p(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<o.length;s++)o[s]=""}}}return Db(n)}catch(n){return H(t,"Exception parsing expected JS array - probably was not JS"),e}}function zc(t){A.call(this,"serverreachability",t)}function Ac(t){yc.dispatchEvent(new zc(yc,t))}function Bc(t){A.call(this,"statevent",t)}function K(t){yc.dispatchEvent(new Bc(yc,t))}function Cc(t){A.call(this,"timingevent",t)}function Dc(t,e,n){yc.dispatchEvent(new Cc(yc,t,e,n))}function Ec(t,e){if(!da(t))throw Error("Fn must not be null and must be a function");return k.setTimeout(function(){t()},e)}function Hc(){}function Ic(t){var e;return(e=t.a)||(e={},Jc(t)&&(e[0]=!0,e[1]=!0),e=t.a=e),e}function Kc(){}function Mc(){A.call(this,"d")}function Nc(){A.call(this,"c")}function Pc(){}function Qc(t){return(t=Jc(t))?new ActiveXObject(t):new XMLHttpRequest}function Jc(t){if(!t.b&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.b=i}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.b}function L(t,e,n,i){this.i=t,this.b=e,this.c=n,this.T=i||1,this.L=new bc(this),this.R=Rc,t=Na?125:void 0,this.S=new Xb(t),this.j=null,this.f=!1,this.l=this.g=this.h=this.J=this.D=this.U=this.s=null,this.u=[],this.a=null,this.G=0,this.m=this.o=null,this.C=-1,this.B=!1,this.N=0,this.I=null,this.v=this.X=this.K=!1}function Sc(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Vc(t,e,n){t.J=1,t.h=Wc(M(e)),t.l=n,t.K=!0,Xc(t,null)}function Yc(t,e,n,i){t.J=1,t.h=Wc(M(e)),t.l=null,t.K=n,Xc(t,i)}function Xc(e,n){e.D=t(),Zc(e),e.g=M(e.h),$c(e.g,"t",e.T),e.G=0,e.a=e.i.ca(e.i.ia()?n:null),0<e.N&&(e.I=new $b(r(e.Sa,e,e.a),e.N)),dc(e.L,e.a,"readystatechange",e.nb),n=e.j?Fa(e.j):{},e.l?(e.o||(e.o="POST"),n["Content-Type"]="application/x-www-form-urlencoded",e.a.fa(e.g,e.o,e.l,n)):(e.o="GET",e.a.fa(e.g,e.o,null,n)),
Ac(1),tc(e.b,e.o,e.g,e.c,e.T,e.l)}function ad(t){var e=N(t.a),n=t.a.Ga(),i=t.a.W();if(!(3>e||3==e&&!Na&&!t.a.V())){t.B||4!=e||7==n||Ac(8==n||0>=i?3:2),bd(t);var r=t.a.W();t.C=r,(n=t.a.V())||H(t.b,function(){return"No response text for uri "+t.g+" status "+r}),t.f=200==r,uc(t.b,t.o,t.g,t.c,t.T,e,r),t.f?((i=cd(t))&&(G(t.b,t.c,i,"Initial handshake response via X-HTTP-Initial-Response"),t.v=!0,dd(t,i)),t.K?(ed(t,e,n),Na&&t.f&&3==e&&fd(t)):(G(t.b,t.c,n,null),dd(t,n)),4==e&&gd(t),t.f&&!t.B&&(4==e?t.i.ta(t):(t.f=!1,Zc(t)))):(400==r&&0<n.indexOf("Unknown SID")?(t.m=3,K(12),D(t.b.a,"XMLHTTP Unknown SID ("+t.c+")")):(t.m=0,K(13),D(t.b.a,"XMLHTTP Bad status "+r+" ("+t.c+")")),gd(t),hd(t))}}function cd(t){return!t.X||t.v?null:t.a&&(t=id(t.a,"X-HTTP-Initial-Response"))&&!xa(t)?t:null}function ed(t,e,n){for(var i=!0;!t.B&&t.G<n.length;){var r=jd(t,n);if(r==Uc){4==e&&(t.m=4,K(14),i=!1),G(t.b,t.c,null,"[Incomplete Response]");break}if(r==Tc){t.m=4,K(15),G(t.b,t.c,n,"[Invalid Chunk]"),i=!1;break}G(t.b,t.c,r,null),dd(t,r)}4==e&&0==n.length&&(t.m=1,K(16),i=!1),t.f=t.f&&i,i||(G(t.b,t.c,n,"[Invalid Chunked Response]"),gd(t),hd(t))}function fd(t){dc(t.L,t.S,"tick",t.mb),t.S.start()}function jd(t,e){var n=t.G,i=e.indexOf("\n",n);return-1==i?Uc:(n=Number(e.substring(n,i)),isNaN(n)?Tc:(i+=1,i+n>e.length?Uc:(e=e.substr(i,n),t.G=i+n,e)))}function Zc(e){e.U=t()+e.R,kd(e,e.R)}function kd(t,e){if(null!=t.s)throw Error("WatchDog timer not null");t.s=Ec(r(t.lb,t),e)}function bd(t){t.s&&(k.clearTimeout(t.s),t.s=null)}function hd(t){t.i.La()||t.B||t.i.ta(t)}function gd(t){bd(t);var e=t.I;e&&"function"==typeof e.$&&e.$(),t.I=null,Yb(t.S),ec(t.L),t.a&&(e=t.a,t.a=null,e.abort(),e.$())}function dd(t,e){try{t.i.Oa(t,e),Ac(4)}catch(e){xc(t.b,e,"Error in httprequest callback")}}function ld(t){if(t.A&&"function"==typeof t.A)return t.A();if(l(t))return t.split("");if(ca(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}return Da(t)}function md(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ca(t)||l(t))ra(t,e,void 0);else{if(t.M&&"function"==typeof t.M)var n=t.M();else if(t.A&&"function"==typeof t.A)n=void 0;else if(ca(t)||l(t)){n=[];for(var i=t.length,r=0;r<i;r++)n.push(r)}else n=Ea(t);i=ld(t),r=i.length;for(var o=0;o<r;o++)e.call(void 0,i[o],n&&n[o],t)}}function O(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof O)for(n=t.M(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function od(t){t.b={},t.a.length=0,t.c=0}function pd(t,e){return!!P(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nd(t),!0)}function nd(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];P(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)i=t.a[e],P(r,i)||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rd(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function Q(t,e){this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1;var n;t instanceof Q?(this.h=void 0!==e?e:t.h,sd(this,t.f),this.j=t.j,td(this,t.b),ud(this,t.i),this.a=t.a,vd(this,wd(t.c)),this.g=t.g):t&&(n=String(t).match(qd))?(this.h=!!e,sd(this,n[1]||"",!0),this.j=xd(n[2]||""),td(this,n[3]||"",!0),ud(this,n[4]),this.a=xd(n[5]||"",!0),vd(this,n[6]||"",!0),this.g=xd(n[7]||"")):(this.h=!!e,this.c=new yd(null,this.h))}function M(t){return new Q(t)}function sd(t,e,n){t.f=n?xd(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function td(t,e,n){t.b=n?xd(e,!0):e}function ud(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function vd(t,e,n){e instanceof yd?(t.c=e,Ed(t.c,t.h)):(n||(e=zd(e,Fd)),t.c=new yd(e,t.h))}function R(t,e,n){t.c.set(e,n)}function $c(t,e,n){p(n)||(n=[String(n)]),Gd(t.c,e,n)}function Wc(e){return R(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^t()).toString(36)),e}function Hd(t){return t instanceof Q?M(t):new Q(t,void 0)}function Id(t,e,n,i){var r=new Q(null,void 0);return t&&sd(r,t),e&&td(r,e),n&&ud(r,n),i&&(r.a=i),r}function xd(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zd(t,e,n){return l(t)?(t=encodeURI(t).replace(e,Jd),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Jd(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function yd(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function S(t){t.a||(t.a=new O,t.b=0,t.c&&rd(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ld(t,e){S(t),e=Kd(t,e),P(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pd(t.a,e))}function Md(t,e){return S(t),e=Kd(t,e),P(t.a.b,e)}function Gd(t,e,n){Ld(t,e),0<n.length&&(t.c=null,t.a.set(Kd(t,e),wa(n)),t.b+=n.length)}function wd(t){var e=new yd;return e.c=t.c,t.a&&(e.a=new O(t.a),e.b=t.b),e}function Kd(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Ed(t,e){e&&!t.f&&(S(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ld(this,e),Gd(this,n,t))},t)),t.f=e}function Nd(){this.a=t()}function Pd(){Od||(Od=new Nd)}function Qd(){Od||(Od=new Nd)}function Rd(t,e){this.a=t,this.b=e,this.c=this.i=null,this.h=!1,this.m=null,this.f=-1,this.l=this.g=null}function Sd(t){H(t.b,"TestConnection: starting stage 2");var e=t.a.I.a;if(null!=e)H(t.b,function(){return"Buffered"}),K(4),e?(K(10),Td(t.a,t,!1)):(K(11),Td(t.a,t,!0));else{t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i;var n=Ud(t.a,t.g,t.m);K(4),$c(n,"TYPE","xmlhttp");var i=t.a.j,r=t.a.K;i&&r&&R(n,i,r),Yc(t.c,n,!1,t.g)}}function Wd(){this.a=this.b=null}function Xd(){this.a=new O}function Yd(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[q]||(t[q]=++fa)):e.charAt(0)+t}function Zd(t,e){this.a=t,this.b=e}function $d(t){this.g=t||ae,k.PerformanceNavigationTiming?(t=k.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(k.oa&&k.oa.Ma&&k.oa.Ma()&&k.oa.Ma().Jb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Xd),this.b=null,this.c=[]}function be(t,e){t.a||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(t.f=t.g,t.a=new Xd,t.b&&(ce(t,t.b),t.b=null))}function de(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function ee(t,e){return t.b?t=t.b==e:t.a?(e=Yd(e),t=P(t.a.a.b,e)):t=!1,t}function ce(t,e){t.a?t.a.add(e):t.b=e}function fe(t,e){if(t.b&&t.b==e)t.b=null;else{var n;(n=t.a)&&(n=Yd(e),n=P(t.a.a.b,n)),n&&pd(t.a.a,Yd(e))}}function ge(t){if(null!=t.b)return t.c.concat(t.b.u);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return ra(t.a.A(),function(t){e=e.concat(t.u)}),e}return wa(t.c)}function he(t,e){t.c=t.c.concat(e)}function ie(){}function je(){this.a=new ie}function ke(t,e,n){var i=n||"";try{md(t,function(t,n){var r=t;ea(t)&&(r=Db(t)),e.push(i+n+"="+encodeURIComponent(r))})}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function le(t,e){var n=new sc;H(n,"TestLoadImage: loading "+t);var i=new Image;i.onload=ja(me,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ja(me,n,i,"TestLoadImage: error",!1,e),i.onabort=ja(me,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ja(me,n,i,"TestLoadImage: timeout",!1,e),k.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}function me(t,e,n,i,r){try{H(t,n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(e){xc(t,e)}}function T(t){B.call(this),this.headers=new O,this.s=t||null,this.c=!1,this.D=this.a=null,this.K=this.B="",this.j=0,this.g="",this.h=this.I=this.u=this.G=!1,this.l=0,this.C=null,this.L=ne,this.v=this.o=!1}function se(t){return z&&Va(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ta(t){return"content-type"==t.toLowerCase()}function qe(t,e){t.c=!1,t.a&&(t.h=!0,t.a.abort(),t.h=!1),t.g=e,t.j=5,te(t),ue(t)}function te(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function ve(t){if(t.c&&"undefined"!=typeof goog)if(t.D[1]&&4==N(t)&&2==t.W())E(t.b,U(t,"Local request error detected and ignored"));else if(t.u&&4==N(t))Zb(t.Na,0,t);else if(t.dispatchEvent("readystatechange"),4==N(t)){E(t.b,U(t,"Request complete")),t.c=!1;try{var e=t.W();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var r;if(r=0===e){var o=String(t.B).match(qd)[1]||null;if(!o&&k.self&&k.self.location){var a=k.self.location.protocol;o=a.substr(0,a.length-1)}r=!oe.test(o?o.toLowerCase():"")}i=r}i?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.j=6,t.g=t.Ha()+" ["+t.W()+"]",te(t))}finally{ue(t)}}}function ue(t,e){if(t.a){re(t);var n=t.a,i=t.D[0]?aa:null;t.a=null,t.D=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(e){(t=t.b)&&t.log(ic,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function re(t){t.a&&t.v&&(t.a.ontimeout=null),t.C&&(k.clearTimeout(t.C),t.C=null)}function N(t){return t.a?t.a.readyState:0}function id(t,e){return t.a?t.a.getResponseHeader(e):null}function U(t,e){return e+" ["+t.K+" "+t.B+" "+t.W()+"]"}function we(t){var e="";return Ca(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function xe(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=we(n),l(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(n=t.indexOf("#"),0>n&&(n=t.length),i=t.indexOf("?"),0>i||i>n){i=n;var r=""}else r=t.substring(i+1,n);t=[t.substr(0,i),r,t.substr(n)],n=t[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return R(t,e,n),t}function ye(t){this.ya=0,this.g=[],this.a=new sc,this.I=new Wd,this.X=this.ua=this.D=this.ja=this.b=this.K=this.j=this.U=this.h=this.L=this.i=null,this.Za=this.R=0,this.Xa=!!n("internalChannelParams.failFast",t),this.ka=this.C=this.s=this.l=this.m=this.f=null,this.u=this.xa=this.N=-1,this.T=this.B=this.v=0,this.Wa=n("internalChannelParams.baseRetryDelayMs",t)||5e3,this.$a=n("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Ya=n("internalChannelParams.forwardChannelMaxRetries",t)||2,this.wa=n("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ta=t&&t.Kb||void 0,this.G=void 0,this.S=t&&t.supportsCrossDomainXhr||!1,this.J="",this.c=new $d(t&&t.concurrentRequestLimit),this.la=new je,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.va=t&&t.fastHandshake||!1)&&!this.o&&(D(this.a.a,"Force backgroundChannelTest when fastHandshake is enabled."),this.o=!0),t&&t.Fa&&this.a.Fa()}function ze(e){if(H(e.a,"disconnect()"),Ae(e),3==e.F){var n=e.R++,i=M(e.D);R(i,"SID",e.J),R(i,"RID",n),R(i,"TYPE","terminate"),Be(e,i),n=new L(e,e.a,n,void 0),n.J=2,n.h=Wc(M(i)),i=!1,k.navigator&&k.navigator.sendBeacon&&(i=k.navigator.sendBeacon(n.h.toString(),"")),!i&&k.Image&&((new Image).src=n.h,i=!0),i||(n.a=n.i.ca(null),n.a.fa(n.h)),n.D=t(),Zc(n)}Ce(e)}function Ae(t){t.C&&(t.C.abort(),t.C=null),t.b&&(t.b.cancel(),t.b=null),t.l&&(k.clearTimeout(t.l),t.l=null),De(t),t.c.cancel(),t.m&&(k.clearTimeout(t.m),t.m=null)}function Ee(t,e){1e3==t.g.length&&J(t.a,function(){return"Already have 1000 queued maps upon queueing "+Db(e)}),t.g.push(new Zd(t.Za++,e)),3==t.F&&Fe(t)}function Fe(t){de(t.c)||t.m||(t.m=Ec(r(t.Qa,t),0),t.v=0)}function Ge(t,e){var n=t.c;return(n.b?1:n.a?n.a.a.c:0)>=t.c.f-(t.m?1:0)?(J(t.a,"Unexpected retry request is scheduled."),!1):t.m?(H(t.a,"Use the retry request that is already scheduled."),t.g=e.u.concat(t.g),!0):!(1==t.F||2==t.F||t.v>=(t.Xa?0:t.Ya))&&(H(t.a,"Going to retry POST"),t.m=Ec(r(t.Qa,t,e),He(t,t.v)),t.v++,!0)}function Je(t,e){var n;n=e?e.c:t.R++;var i=M(t.D);R(i,"SID",t.J),R(i,"RID",n),R(i,"AID",t.N),Be(t,i),t.h&&t.i&&xe(i,t.h,t.i),n=new L(t,t.a,n,t.v+1),null===t.h&&(n.j=t.i),e&&(t.g=e.u.concat(t.g)),e=Ie(t,n),n.setTimeout(Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random())),ce(t.c,n),Vc(n,i,e)}function Be(t,e){t.f&&md({},function(t,n){R(e,n,t)})}function Ie(t,e){var n=Math.min(t.g.length,1e3),i=t.f?r(t.f.ab,t.f,t):null;t:for(var o=t.g,a=-1;;){var s=["count="+n];-1==a?0<n?(a=o[0].a,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=o[c].a,h=o[c].b;if(l-=a,0>l)a=Math.max(0,o[c].a-100),u=!1;else try{ke(h,s,"req"+l+"_")}catch(t){i&&i(h)}}if(u){i=s.join("&");break t}}return t=t.g.splice(0,n),e.u=t,i}function Ke(t){if(!t.b&&!t.l){t.T=1;var e=t.Pa;Tb||Ub(),Wb||(Tb(),Wb=!0),Pb.add(e,t),t.B=0}}function Le(t){return t.b||t.l?(J(t.a,"Request already in progress"),!1):!(3<=t.B)&&(H(t.a,"Going to retry GET"),t.T++,t.l=Ec(r(t.Pa,t),He(t,t.B)),t.B++,!0)}function Td(t,e,n){H(t.a,"Test Connection Finished");var i=e.l;i&&be(t.c,i),t.ka=n,t.u=e.f,H(t.a,"connectChannel_()"),t.D=Me(t,t.ja),Fe(t)}function Vd(t,e){H(t.a,"Test Connection Failed"),t.u=e.f,V(t,2)}function De(t){null!=t.s&&(k.clearTimeout(t.s),t.s=null)}function He(t,e){var n=t.Wa+Math.floor(Math.random()*t.$a);return t.qa()||(H(t.a,"Inactive channel"),n*=2),n*e}function V(t,e){if(F(t.a,"Error code "+e),2==e){var n=null;t.f&&(n=null);var i=r(t.pb,t);n||(n=new Q("//www.google.com/images/cleardot.gif"),k.location&&"http"==k.location.protocol||sd(n,"https"),Wc(n)),le(n.toString(),i)}else K(2);H(t.a,"HttpChannel: error - "+e),t.F=0,t.f&&t.f.Ba(e),Ce(t),Ae(t)}function Ce(t){if(t.F=0,t.u=-1,t.f){var e=ge(t.c);0==e.length&&0==t.g.length||(H(t.a,function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.g.length}),t.c.c.length=0,wa(t.g),t.g.length=0),t.f.Aa()}}function Me(t,e){return e=Ne(t,null,e),H(t.a,"GetForwardChannelUri: "+e),e}function Ud(t,e,n){return e=Ne(t,t.ia()?e:null,n),H(t.a,"GetBackChannelUri: "+e),e}function Ne(t,e,n){var i=Hd(n);if(""!=i.b)e&&td(i,e+"."+i.b),ud(i,i.i);else{var r,o=k.location;r=e?e+"."+o.hostname:o.hostname,i=Id(o.protocol,r,o.port,n)}return t.U&&Ca(t.U,function(t,e){R(i,e,t)}),e=t.j,n=t.K,e&&n&&R(i,e,n),R(i,"VER",t.na),Be(t,i),i}function Oe(){}function Pe(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var i=arguments[n];if(0==i.lastIndexOf("/",0))e=i;else{var r;(r=""==e)||(r=e.length-1,r=0<=r&&e.indexOf("/",r)==r),e+=r?i:"/"+i}}return e}function Qe(){if(z&&!(10<=Number(Wa)))throw Error("Environmental error: no available transport.")}function W(t,e){B.call(this),this.a=new ye(e),this.b=t,this.o=e&&e.testUrl?e.testUrl:Pe(this.b,"test"),this.c=qc("goog.labs.net.webChannel.WebChannelBaseTransport"),this.g=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ea&&(t?t["X-WebChannel-Client-Profile"]=e.Ea:t={"X-WebChannel-Client-Profile":e.Ea}),this.a.L=t,(t=e&&e.httpHeadersOverwriteParam)&&!xa(t)&&(this.a.h=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.j=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xa(e)&&(this.a.j=e,t=this.g,null!==t&&e in t&&(t=this.g,e in t&&delete t[e],D(this.c,"Ignore httpSessionIdParam also specified with messageUrlParams: "+e))),this.h=new Re(this)}function Se(t){Mc.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Te(){Nc.call(this),this.status=1}function Re(t){this.a=t}function Ve(){this.b=[],this.a=[]}function We(t){return 0==t.b.length&&(t.b=t.a,t.b.reverse(),t.a=[]),t.b.pop()}function Xe(t){return t.b.length+t.a.length}function Ye(t,e){if(w.call(this),this.h=t||0,this.c=e||10,this.h>this.c)throw Error(Ze);this.a=new Ve,this.b=new Xd,this.g=null,this.aa()}function af(t){if("function"==typeof t.$)t.$();else for(var e in t)t[e]=null}function $e(t){return Xe(t.a)+t.b.a.c}function bf(t,e){this.a=t,this.b=e}function cf(t){if(this.a=[],t)t:{if(t instanceof cf){var e=t.M();if(t=t.A(),0>=this.a.length){for(var n=this.a,i=0;i<e.length;i++)n.push(new bf(e[i],t[i]));break t}}else e=Ea(t),t=Da(t);for(i=0;i<e.length;i++)df(this,e[i],t[i])}}function df(t,e,n){var i=t.a;for(i.push(new bf(e,n)),e=i.length-1,t=t.a,n=t[e];0<e&&(i=e-1>>1,t[i].a>n.a);)t[e]=t[i],e=i;t[e]=n}function ef(){cf.call(this)}function Y(t,e){this.f=new ef,Ye.call(this,t,e)}function Z(t,e,n,i){this.l=t,this.j=!!i,Y.call(this,e,n)}var g,goog=goog||{},k=this,q="closure_uid_"+(1e9*Math.random()>>>0),fa=0,t=Date.now||function(){return+new Date};u(ka,Error),ka.prototype.name="CustomError",u(la,ka),la.prototype.name="AssertionError";var na=0,pa={};w.prototype.i=!1,w.prototype.$=function(){if(!this.i&&(this.i=!0,this.w(),0!=na)){var t=this[q]||(this[q]=++fa);if(0!=na&&this.m&&0<this.m.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete pa[t]}},w.prototype.w=function(){if(this.m)for(;this.m.length;)this.m.shift()()};var qa=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(l(t))return l(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},ra=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,r=l(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},ya=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},x;t:{var Aa=k.navigator;if(Aa){var Ba=Aa.userAgent;if(Ba){x=Ba;break t}}x=""}var Ga="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");Ia[" "]=aa;var La=y("Opera"),z=y("Trident")||y("MSIE"),Ma=y("Edge"),Na=Ma||z,Oa=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),Pa=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),Ra;t:{var Sa="",Ta=function(){var t=x;return Oa?/rv:([^\);]+)(\)|;)/.exec(t):Ma?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Pa?/WebKit\/(\S+)/.exec(t):La?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(Ta&&(Sa=Ta?Ta[1]:""),z){var Ua=Qa();if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break t}}Ra=Sa}var Ka={},Wa,Xa=k.document;Wa=Xa&&z?Qa()||("CSS1Compat"==Xa.compatMode?parseInt(Ra,10):5):void 0;var Ya=Object.freeze||function(t){return t},Za=!z||9<=Number(Wa),$a=z&&!Va("9"),ab=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return k.addEventListener("test",aa,e),k.removeEventListener("test",aa,e),t}();A.prototype.b=function(){this.Ra=!1},u(bb,A);var cb=Ya({2:"touch",3:"pen",4:"mouse"});bb.prototype.b=function(){bb.H.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$a)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var db="closure_listenable_"+(1e6*Math.random()|0),eb=0;hb.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=ib(t,e,i,r);return-1<a?(e=t[a],n||(e.ba=!1)):(e=new fb(e,this.src,o,!!i,r),e.ba=n,t.push(e)),e};var kb="closure_lm_"+(1e6*Math.random()|0),lb={},mb=0,zb="__closure_events_fn_"+(1e9*Math.random()>>>0);u(B,w),B.prototype[db]=!0,g=B.prototype,g.addEventListener=function(t,e,n,i){nb(this,t,e,n,i)},g.removeEventListener=function(t,e,n,i){vb(this,t,e,n,i)},g.dispatchEvent=function(t){var e,n=this.J;if(n)for(e=[];n;n=n.J)e.push(n);n=this.N;var i=t.type||t;if(l(t))t=new A(t,n);else if(t instanceof A)t.target=t.target||n;else{var r=t;t=new A(i,n),Ha(t,r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.a=e[o];r=Ab(a,i,!0,t)&&r}if(a=t.a=n,r=Ab(a,i,!0,t)&&r,r=Ab(a,i,!1,t)&&r,e)for(o=0;o<e.length;o++)a=t.a=e[o],r=Ab(a,i,!1,t)&&r;return r},g.w=function(){if(B.H.w.call(this),this.f){var t,e=this.f,n=0;for(t in e.a){for(var i=e.a[t],r=0;r<i.length;r++)++n,gb(i[r]);delete e.a[t],e.b--}}this.J=null},g.Ia=function(t,e,n,i){return this.f.add(String(t),e,!1,n,i)},g.Ja=function(t,e,n,i){return this.f.add(String(t),e,!0,n,i)};var Hb={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Ib=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;Jb.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Nb=new Jb(function(){return new Lb},function(t){t.reset()});Kb.prototype.add=function(t,e){var n=Nb.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Lb.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Lb.prototype.reset=function(){this.next=this.b=this.a=null};var Rb,Tb,Wb=!1,Pb=new Kb;u(Xb,B),g=Xb.prototype,g.ea=!1,g.O=null,g.qb=function(){if(this.ea){var e=t()-this.g;0<e&&e<.8*this.b?this.O=this.a.setTimeout(this.c,this.b-e):(this.O&&(this.a.clearTimeout(this.O),this.O=null),this.dispatchEvent("tick"),this.ea&&(this.O=this.a.setTimeout(this.c,this.b),this.g=t()))}},g.start=function(){this.ea=!0,this.O||(this.O=this.a.setTimeout(this.c,this.b),this.g=t())},g.w=function(){Xb.H.w.call(this),Yb(this),delete this.a},u($b,w),g=$b.prototype,g.ha=!1,g.Y=null,g.cb=function(t){this.a=arguments,this.Y?this.ha=!0:ac(this)},g.w=function(){$b.H.w.call(this),this.Y&&(k.clearTimeout(this.Y),this.Y=null,this.ha=!1,this.a=[])},g.kb=function(){this.Y=null,this.ha&&(this.ha=!1,ac(this))},u(bc,w);var cc=[];bc.prototype.w=function(){bc.H.w.call(this),ec(this)},bc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fc.prototype.a=null;var gc=0;fc.prototype.reset=function(e,n,i,r,o){"number"==typeof o||gc++,r||t(),delete this.a},C.prototype.toString=function(){return this.name};var ic=new C("SEVERE",1e3),jc=new C("WARNING",900),kc=new C("INFO",800),lc=new C("CONFIG",700),mc=new C("FINE",500);hc.prototype.log=function(t,e,n){if(t.value>=nc(this).value)for(da(e)&&(e=e()),t=new fc(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var oc={},pc=null;sc.prototype.Fa=function(){this.b=!1};var yc=new B;u(zc,A),u(Bc,A),u(Cc,A);var Fc={NO_ERROR:0,rb:1,yb:2,xb:3,ub:4,wb:5,zb:6,Ua:7,TIMEOUT:8,Cb:9},Gc={tb:"complete",Gb:"success",Va:"error",Ua:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",vb:"downloadprogress",Hb:"uploadprogress"};Hc.prototype.a=null;var Lc={OPEN:"a",sb:"b",Va:"c",Bb:"d"};u(Mc,A),u(Nc,A);var Oc;u(Pc,Hc),Oc=new Pc;var Rc=45e3,Tc={},Uc={};g=L.prototype,g.setTimeout=function(t){this.R=t},g.nb=function(t){t=t.target;var e=this.I;e&&3==N(t)?(H(this.b,"Throttling readystatechange."),e.cb()):this.Sa(t)},g.Sa=function(t){try{t==this.a?ad(this):D(this.b.a,"Called back with an unexpected xmlhttp")}catch(t){if(H(this.b,"Failed call to OnXmlHttpReadyStateChanged_"),this.a&&this.a.V()){var e=this;xc(this.b,t,function(){return"ResponseText: "+e.a.V()})}else xc(this.b,t,"No response text")}finally{}},g.mb=function(){if(this.a){var t=N(this.a),e=this.a.V();this.G<e.length&&(bd(this),ed(this,t,e),this.f&&4!=t&&Zc(this))}},g.cancel=function(){this.B=!0,gd(this)},g.lb=function(){this.s=null;var e=t();0<=e-this.U?(this.f&&J(this.b,"Received watchdog timeout even though request loaded successfully"),wc(this.b,this.g),2!=this.J&&(Ac(3),K(17)),gd(this),this.m=2,hd(this)):(D(this.b.a,"WatchDog timer called too early"),kd(this,this.U-e))},g=O.prototype,g.A=function(){nd(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},g.M=function(){return nd(this),this.a.concat()},g.get=function(t,e){return P(this.b,t)?this.b[t]:e},g.set=function(t,e){P(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},g.forEach=function(t,e){for(var n=this.M(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var qd=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Q.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zd(e,Ad,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zd(e,Ad,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(zd(n,"/"==n.charAt(0)?Bd:Cd,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",zd(n,Dd)),t.join("")},Q.prototype.resolve=function(t){var e=M(this),n=!!t.f;n?sd(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?td(e,t.b):n=null!=t.i;var i=t.a;if(n)ud(e,t.i);else if(n=!!t.a){if("/"!=i.charAt(0))if(this.b&&!this.a)i="/"+i;else{var r=e.a.lastIndexOf("/");-1!=r&&(i=e.a.substr(0,r+1)+i)}if(r=i,".."==r||"."==r)i="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var o=[],a=0;a<r.length;){var s=r[a++];"."==s?i&&a==r.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),i&&a==r.length&&o.push("")):(o.push(s),i=!0)}i=o.join("/")}else i=r}return n?e.a=i:n=""!==t.c.toString(),n?vd(e,wd(t.c)):n=!!t.g,n&&(e.g=t.g),e};var Ad=/[#\/\?@]/g,Cd=/[#\?:]/g,Bd=/[#\?]/g,Fd=/[#\?@]/g,Dd=/#/g;g=yd.prototype,g.add=function(t,e){S(this),this.c=null,t=Kd(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},g.forEach=function(t,e){S(this),this.a.forEach(function(n,i){ra(n,function(n){t.call(e,n,i,this)},this)},this)},g.M=function(){S(this);for(var t=this.a.A(),e=this.a.M(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},g.A=function(t){S(this);var e=[];if(l(t))Md(this,t)&&(e=va(e,this.a.get(Kd(this,t))));else{t=this.a.A();for(var n=0;n<t.length;n++)e=va(e,t[n])}return e},g.set=function(t,e){return S(this),this.c=null,t=Kd(this,t),Md(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},g.get=function(t,e){return t=t?this.A(t):[],0<t.length?String(t[0]):e},g.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.M(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.A(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var Od=null;Nd.prototype.set=function(t){this.a=t},Nd.prototype.reset=function(){this.set(t())},Nd.prototype.get=function(){return this.a},u(Qd,Pd),g=Rd.prototype,g.P=null,g.ca=function(t){return this.a.ca(t)},g.abort=function(){this.c&&(this.c.cancel(),this.c=null),this.f=-1},g.La=function(){return!1},g.Oa=function(t,e){if(this.f=t.C,0==this.P){if(H(this.b,"TestConnection: Got data for stage 1"),!this.a.o&&(t=t.a)){var n=id(t,"X-Client-Wire-Protocol");this.l=n?n:null,this.a.j&&((t=id(t,"X-HTTP-Session-Id"))?this.a.K=t:D(this.b.a,"Missing X_HTTP_SESSION_ID in the handshake response"))}if(e){try{var i=this.a.la.a.parse(e)}catch(t){return xc(this.b,t),void Vd(this.a,this)}this.g=i[0]}else H(this.b,"TestConnection: Null responseText"),Vd(this.a,this)}else 1==this.P&&(this.h?K(6):"11111"==e?(K(5),this.h=!0,(!z||10<=Number(Wa))&&(this.f=200,this.c.cancel(),H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0))):(K(7),this.h=!1))},g.ta=function(){this.f=this.c.C,this.c.f?0==this.P?(this.P=1,H(this.b,"TestConnection: request complete for initial check"),Sd(this)):1==this.P&&(H(this.b,"TestConnection: request complete for stage 2"),this.h?(H(this.b,"Test connection succeeded; using streaming connection"),K(11),Td(this.a,this,!0)):(H(this.b,"Test connection failed; not using streaming"),K(10),Td(this.a,this,!1))):(H(this.b,"TestConnection: request failed, in state "+this.P),0==this.P?K(8):1==this.P&&K(9),Vd(this.a,this))},g.ia=function(){return this.a.ia()},g.qa=function(){return this.a.qa()},Xd.prototype.add=function(t){this.a.set(Yd(t),t)},Xd.prototype.A=function(){return this.a.A()};var ae=10;$d.prototype.cancel=function(){this.c=ge(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(ra(this.a.A(),function(t){t.cancel()}),od(this.a.a))},ie.prototype.stringify=function(t){return k.JSON.stringify(t,void 0)},ie.prototype.parse=function(t){return k.JSON.parse(t,void 0)},u(T,B);var ne="";T.prototype.b=qc("goog.net.XhrIo");var oe=/^https?$/i,pe=["POST","PUT"];g=T.prototype,g.fa=function(t,e,n,i){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.g="",this.j=0,this.K=e,this.G=!1,this.c=!0,this.a=Qc(this.s?this.s:Oc),this.D=Ic(this.s?this.s:Oc),this.a.onreadystatechange=r(this.Na,this);try{E(this.b,U(this,"Opening Xhr")),this.I=!0,this.a.open(e,String(t),!0),this.I=!1}catch(t){return E(this.b,U(this,"Error opening Xhr: "+t.message)),void qe(this,t)}t=n||"";var o=new O(this.headers);i&&md(i,function(t,e){o.set(e,t)}),i=sa(o.M()),n=k.FormData&&t instanceof k.FormData,!(0<=qa(pe,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.L&&(this.a.responseType=this.L),"withCredentials"in this.a&&this.a.withCredentials!==this.o&&(this.a.withCredentials=this.o);try{re(this),0<this.l&&(this.v=se(this.a),E(this.b,U(this,"Will abort after "+this.l+"ms if incomplete, xhr2 "+this.v)),this.v?(this.a.timeout=this.l,this.a.ontimeout=r(this.Ka,this)):this.C=Zb(this.Ka,this.l,this)),E(this.b,U(this,"Sending request")),this.u=!0,this.a.send(t),this.u=!1}catch(t){E(this.b,U(this,"Send error: "+t.message)),qe(this,t)}},g.Ka=function(){"undefined"!=typeof goog&&this.a&&(this.g="Timed out after "+this.l+"ms, aborting",this.j=8,E(this.b,U(this,this.g)),this.dispatchEvent("timeout"),this.abort(8))},g.abort=function(t){this.a&&this.c&&(E(this.b,U(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.j=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ue(this))},g.w=function(){this.a&&(this.c&&(this.c=!1,this.h=!0,this.a.abort(),this.h=!1),ue(this,!0)),T.H.w.call(this)},g.Na=function(){this.i||(this.I||this.u||this.h?ve(this):this.jb())},g.jb=function(){ve(this)},g.W=function(){try{return 2<N(this)?this.a.status:-1}catch(t){return-1}},g.Ha=function(){try{return 2<N(this)?this.a.statusText:""}catch(t){return E(this.b,"Can not get status: "+t.message),""}},g.V=function(){try{return this.a?this.a.responseText:""}catch(t){return E(this.b,"Can not get responseText: "+t.message),""}},g.eb=function(t){if(this.a){var e=this.a.responseText;t&&0==e.indexOf(t)&&(e=e.substring(t.length));t:{if(t=e,k.JSON)try{var n=k.JSON.parse(t);break t}catch(t){}n=Cb(t)}return n}},g.Ga=function(){return this.j},g.hb=function(){return l(this.g)?this.g:String(this.g)},g=ye.prototype,g.na=8,g.F=1,g.La=function(){return 0==this.F},g.Qa=function(t){if(this.m=null,H(this.a,"startForwardChannel_"),1==this.F)if(t)J(this.a,"Not supposed to retry the open");else{H(this.a,"open_()"),this.R=Math.floor(1e5*Math.random()),t=this.R++;var e=new L(this,this.a,t,void 0),n=this.i;this.L&&(n?(n=Fa(n),Ha(n,this.L)):n=this.L),null===this.h&&(e.j=n);var i=Ie(this,e),r=M(this.D);R(r,"RID",t),R(r,"CVER",22),this.o&&this.j&&R(r,"X-HTTP-Session-Id",this.j),Be(this,r),this.h&&n&&xe(r,this.h,n),ce(this.c,e),this.va?(R(r,"$req",i),R(r,"SID","null"),e.X=!0,Vc(e,r,null)):Vc(e,r,i),this.F=2}else 3==this.F&&(t?Je(this,t):0==this.g.length?H(this.a,"startForwardChannel_ returned: nothing to send"):de(this.c)?J(this.a,"startForwardChannel_ returned: connection already in progress"):(Je(this),H(this.a,"startForwardChannel_ finished, sent request")))},g.Pa=function(){this.l=null,H(this.a,"Creating new HttpRequest"),this.b=new L(this,this.a,"rpc",this.T),null===this.h&&(this.b.j=this.i),this.b.N=0;var t=M(this.ua);R(t,"RID","rpc"),R(t,"SID",this.J),R(t,"CI",this.ka?"0":"1"),R(t,"AID",this.N),Be(this,t),R(t,"TYPE","xmlhttp"),this.h&&this.i&&xe(t,this.h,this.i),this.G&&this.b.setTimeout(this.G),Yc(this.b,t,!0,this.X),H(this.a,"New Request created")},g.Oa=function(t,e){if(0!=this.F&&(this.b==t||ee(this.c,t)))if(this.u=t.C,
!t.v&&ee(this.c,t)&&3==this.F){try{var n=this.la.a.parse(e)}catch(t){n=null}if(p(n)&&3==n.length)if(e=n,0==e[0])t:if(H(this.a,"Server claims our backchannel is missing."),this.l)H(this.a,"But we are currently starting the request.");else{if(this.b){if(!(this.b.D+3e3<t.D))break t;De(this),this.b.cancel(),this.b=null}else D(this.a.a,"We do not have a BackChannel established");Le(this),K(18)}else this.xa=e[1],t=this.xa-this.N,0<t&&(e=e[2],H(this.a,e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),37500>e&&this.ka&&0==this.B&&!this.s&&(this.s=Ec(r(this.ib,this),6e3)));else H(this.a,"Bad POST response data returned"),V(this,11)}else if((t.v||this.b==t)&&De(this),!xa(e))for(e=n=this.la.a.parse(e),n=0;n<e.length;n++){var i=e[n];if(this.N=i[0],i=i[1],2==this.F)if("c"==i[0]){this.J=i[1],this.X=i[2];var o=i[3];null!=o&&(this.na=o,F(this.a,"VER="+this.na)),o=i[4],null!=o&&(this.ya=o,F(this.a,"SVER="+this.ya)),i=i[5],null!=i&&"number"==typeof i&&0<i&&(this.G=i*=1.5,F(this.a,"backChannelRequestTimeoutMs_="+i)),this.o&&(i=t.a)&&((o=id(i,"X-Client-Wire-Protocol"))&&be(this.c,o),this.j&&((i=id(i,"X-HTTP-Session-Id"))?(this.K=i,R(this.D,this.j,i)):D(this.a.a,"Missing X_HTTP_SESSION_ID in the handshake response"))),this.F=3,this.f&&this.f.Da(),i=t,this.ua=Ud(this,this.X,this.ja),i.v?(H(this.a,"Upgrade the handshake request to a backchannel."),fe(this.c,i),(o=this.G)&&i.setTimeout(o),i.s&&(bd(i),Zc(i)),this.b=i):Ke(this)}else"stop"!=i[0]&&"close"!=i[0]||V(this,7);else 3==this.F&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?V(this,7):ze(this):"noop"!=i[0]&&this.f&&this.f.Ca(i),this.B=0)}},g.ib=function(){null!=this.s&&(this.s=null,this.b.cancel(),this.b=null,Le(this),K(19))},g.ta=function(e){H(this.a,"Request complete");var n=null;if(this.b==e){De(this),this.b=null;var i=2}else{if(!ee(this.c,e))return;n=e.u,fe(this.c,e),i=1}if(this.u=e.C,0!=this.F)if(e.f)1==i?(Dc(e.l?e.l.length:0,t()-e.D,this.v),Fe(this)):Ke(this);else{var r=e.m;if(3==r||0==r&&0<this.u)H(this.a,"Not retrying due to error type");else{var o=this;if(H(this.a,function(){return"Maybe retrying, last error: "+Sc(r,o.u)}),1==i&&Ge(this,e)||2==i&&Le(this))return;H(this.a,"Exceeded max number of retries")}switch(n&&0<n.length&&he(this.c,n),H(this.a,"Error: HTTP request failed"),r){case 1:V(this,5);break;case 4:V(this,10);break;case 3:V(this,6);break;default:V(this,2)}}},g.pb=function(t){t?(F(this.a,"Successfully pinged google.com"),K(2)):(F(this.a,"Failed to ping google.com"),K(1))},g.ca=function(t){if(t&&!this.S)throw Error("Can't create secondary domain capable XhrIo object.");return t=new T(this.Ta),t.o=this.S,t},g.qa=function(){return!!this.f&&!0},g.ia=function(){return this.S},new Qd,g=Oe.prototype,g.Da=function(){},g.Ca=function(){},g.Ba=function(){},g.Aa=function(){},g.ab=function(){},Qe.prototype.a=function(t,e){return new W(t,e)},u(W,B),g=W.prototype,g.addEventListener=function(t,e,n,i){W.H.addEventListener.call(this,t,e,n,i)},g.removeEventListener=function(t,e,n,i){W.H.removeEventListener.call(this,t,e,n,i)},g.fb=function(){this.a.f=this.h,this.l&&(this.a.S=!0);var t=this.a,e=this.o,n=this.b,i=this.g||void 0;H(t.a,"connect()"),K(0),t.ja=n,t.U=i||{},t.o&&(H(t.a,"connect() bypassed channel-test."),t.I.b=[],t.I.a=!1),H(t.a,"connectTest_()"),t.C=new Rd(t,t.a),null===t.h&&(t.C.i=t.i),n=e,t.h&&t.i&&(n=xe(e,t.h,t.i)),t=t.C,t.m=n,e=Me(t.a,t.m),K(3),n=t.a.I.b,null!=n?(t.g=n[0],t.P=1,Sd(t)):($c(e,"MODE","init"),!t.a.o&&t.a.j&&$c(e,"X-HTTP-Session-Id",t.a.j),t.c=new L(t,t.b,void 0,void 0),t.c.j=t.i,Yc(t.c,e,!1,null),t.P=0)},g.close=function(){ze(this.a)},g.gb=function(t){if(l(t)){var e={};e.__data__=t,Ee(this.a,e)}else this.j?(e={},e.__data__=Db(t),Ee(this.a,e)):Ee(this.a,t)},g.w=function(){this.a.f=null,delete this.h,ze(this.a),delete this.a,W.H.w.call(this)},u(Se,Mc),u(Te,Nc),u(Re,Oe),Re.prototype.Da=function(){rc(this.a.c,"WebChannel opened on "+this.a.b),this.a.dispatchEvent("a")},Re.prototype.Ca=function(t){this.a.dispatchEvent(new Se(t))},Re.prototype.Ba=function(t){rc(this.a.c,"WebChannel aborted on "+this.a.b+" due to channel error: "+t),this.a.dispatchEvent(new Te(t))},Re.prototype.Aa=function(){rc(this.a.c,"WebChannel closed on "+this.a.b),this.a.dispatchEvent("b")};var Ue=ja(function(t,e){function n(){}n.prototype=t.prototype;var i=new n;return t.apply(i,Array.prototype.slice.call(arguments,1)),i},Qe);Ve.prototype.A=function(){for(var t=[],e=this.b.length-1;0<=e;--e)t.push(this.b[e]);var n=this.a.length;for(e=0;e<n;++e)t.push(this.a[e]);return t},u(Ye,w);var Ze="[goog.structs.Pool] Min can not be greater than max";g=Ye.prototype,g.da=function(){var e=t();if(!(null!=this.g&&0>e-this.g)){for(var n;0<Xe(this.a)&&(n=We(this.a),!this.sa(n));)this.aa();return!n&&$e(this)<this.c&&(n=this.pa()),n&&(this.g=e,this.b.add(n)),n}},g.ob=function(t){return!!pd(this.b.a,Yd(t))&&(this.ma(t),!0)},g.ma=function(t){pd(this.b.a,Yd(t)),this.sa(t)&&$e(this)<this.c?this.a.a.push(t):af(t)},g.aa=function(){for(var t=this.a;$e(this)<this.h;){var e=this.pa();t.a.push(e)}for(;$e(this)>this.c&&0<Xe(this.a);)af(We(t))},g.pa=function(){return{}},g.sa=function(t){return"function"!=typeof t.bb||t.bb()},g.w=function(){if(Ye.H.w.call(this),0<this.b.a.c)throw Error("[goog.structs.Pool] Objects not released");delete this.b;for(var t=this.a;0!=t.b.length||0!=t.a.length;)af(We(t));delete this.a},cf.prototype.A=function(){for(var t=this.a,e=[],n=t.length,i=0;i<n;i++)e.push(t[i].b);return e},cf.prototype.M=function(){for(var t=this.a,e=[],n=t.length,i=0;i<n;i++)e.push(t[i].a);return e},u(ef,cf),u(Y,Ye),g=Y.prototype,g.da=function(t,e){return t?(df(this.f,void 0!==e?e:100,t),void this.ra()):Y.H.da.call(this)},g.ra=function(){for(var t=this.f;0<t.a.length;){var e=this.da();if(!e)break;var n=t,i=n.a,r=i.length,o=i[0];if(0>=r)o=void 0;else{if(1==r)ua(i);else{i[0]=i.pop(),i=0,n=n.a,r=n.length;for(var a=n[i];i<r>>1;){var s=2*i+1,u=2*i+2;if(s=u<r&&n[u].a<n[s].a?u:s,n[s].a>a.a)break;n[i]=n[s],i=s}n[i]=a}o=o.b}o.apply(this,[e])}},g.ma=function(t){Y.H.ma.call(this,t),this.ra()},g.aa=function(){Y.H.aa.call(this),this.ra()},g.w=function(){Y.H.w.call(this),k.clearTimeout(void 0),ua(this.f.a),this.f=null},u(Z,Y),Z.prototype.pa=function(){var t=new T,e=this.l;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.j&&(t.o=!0),t},Z.prototype.sa=function(t){return!t.i&&!t.a},Qe.prototype.createWebChannel=Qe.prototype.a,W.prototype.send=W.prototype.gb,W.prototype.open=W.prototype.fb,W.prototype.close=W.prototype.close,Fc.NO_ERROR=0,Fc.TIMEOUT=8,Fc.HTTP_ERROR=6,Gc.COMPLETE="complete",Kc.EventType=Lc,Lc.OPEN="a",Lc.CLOSE="b",Lc.ERROR="c",Lc.MESSAGE="d",B.prototype.listen=B.prototype.Ia,Z.prototype.getObject=Z.prototype.da,Z.prototype.releaseObject=Z.prototype.ob,T.prototype.listenOnce=T.prototype.Ja,T.prototype.getLastError=T.prototype.hb,T.prototype.getLastErrorCode=T.prototype.Ga,T.prototype.getStatus=T.prototype.W,T.prototype.getStatusText=T.prototype.Ha,T.prototype.getResponseJson=T.prototype.eb,T.prototype.getResponseText=T.prototype.V,T.prototype.getResponseText=T.prototype.V,T.prototype.send=T.prototype.fa,module.exports={createWebChannelTransport:Ue,ErrorCode:Fc,EventType:Gc,WebChannel:Kc,XhrIoPool:Z}}).call("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(exports,function(){return this}())},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Invitation=void 0;var r=n(11),o=i(r);n(129);var a=n(43);e.Invitation={view:function(){return[(0,o.default)("div",{class:"container"},(0,o.default)(a.Header,null),(0,o.default)("div",{class:"containerInvetation"},(0,o.default)("div",{class:"mainInvtation"},"      "),(0,o.default)("div",{class:"subInvtation"},"    ,   "),(0,o.default)("div",{class:"invitationButton",href:"/selection/1",oncreate:o.default.route.link}," "),(0,o.default)("div",{class:"logo"},"wizCol.com")))]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Mooskal=void 0;var r=n(11),o=i(r);n(130);e.Mooskal={view:function(){return[(0,o.default)(".flashBody",[(0,o.default)(".mainFlash",[(0,o.default)("a",{class:"titleFlash",href:"http://www.delib.org"},"Delib.org"),(0,o.default)(".subTitle"," ")])])]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var n="rgb(212, 212, 212)";e.state.choose!==t?(e.state.choose=t,"against"===t?e.state={choose:"against",against:"red",for:n}:"for"===t?e.state={choose:"for",against:n,for:"green"}:e.state={choose:"none",against:n,for:n}):e.state={choose:"none",against:n,for:n},setTimeout(function(){c.default.instance.next(),c.default.instance.count-1<=c.default.instance.center&&a.default.route.set("/voting/1")},400)}Object.defineProperty(e,"__esModule",{value:!0}),e.Card=void 0;var o=n(11),a=i(o);n(131);var s=n(122),u=n(31),c=i(u),l=n(58);i(l),e.Card={oninit:function(t){t.state={choose:"none",against:"rgb(212, 212, 212)",for:"rgb(212, 212, 212)"}},oncreate:function(t){var e=window.innerHeight,n=window.innerWidth,i=t.dom,r=t.dom.children[0],o=t.dom.children[1],a=t.dom.children[0].clientWidth,s=t.dom.children[0].clientHeight,u=s/a,c=.7855*e;r.style.height=c+"px",r.style.width=c/u+"px",o.style.width=c/u+"px",i.style.width=c/u+"px",n>e&&(console.log("width",n,c/u),i.style.left=(n-c/u)/2+"px",console.log((n-c/u)/2+"px"))},view:function(t){return[(0,a.default)("div",{class:"carousel-item cardContainer"},(0,a.default)("img",{src:t.attrs.imgSrc}),(0,a.default)("table",{class:"cardButtons"},(0,a.default)("tr",null,(0,a.default)("td",{class:"cardButton",onclick:function(){r("against",t)}},(0,a.default)(s.Plus,{color:t.state.against,buttonType:"against"})),(0,a.default)("td",{class:"cardButton",onclick:function(){r("for",t)}},(0,a.default)(s.Plus,{color:t.state.for,buttonType:"for"})))))]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Plus=void 0;var r=n(11),o=i(r);e.Plus={oninit:function(t){t.state={buttonType:"M19.4355+35.747C22.0716+35.1462+25.2125+30.9723+27.1197+29.065C33.4241+22.7608+44.3097+11.3599+35.6577+2.70852C33.0293+0.0802555+27.5646-0.817755+24.0757+0.926661C23.4594+1.23483+19.4882+4.34966+19.1756+4.19338C15.931+2.57098+13.4594-0.825659+8.41029+0.184229C0.629955+1.74038-1.57159+10.9035+1.06016+17.483C2.96816+22.2531+7.76245+26.2169+11.3791+29.6776C13.1352+31.358+17.2562+36.2436+19.4355+35.747Z"}},view:function(t){return"for"==t.attrs.buttonType?t.state.buttonType="M19.4355+35.747C22.0716+35.1462+25.2125+30.9723+27.1197+29.065C33.4241+22.7608+44.3097+11.3599+35.6577+2.70852C33.0293+0.0802555+27.5646-0.817755+24.0757+0.926661C23.4594+1.23483+19.4882+4.34966+19.1756+4.19338C15.931+2.57098+13.4594-0.825659+8.41029+0.184229C0.629955+1.74038-1.57159+10.9035+1.06016+17.483C2.96816+22.2531+7.76245+26.2169+11.3791+29.6776C13.1352+31.358+17.2562+36.2436+19.4355+35.747Z":t.state.buttonType="M26.8131+30.0401C28.2217+28.6314+29.4357+27.1422+30.7559+25.6334C34.9099+20.8861+44.517+11.8722+36.4768+2.67237C34.1413+1.03712e-05+25.0157-1.55098+22.4064+2.36314C21.7635+3.32749+22.437+4.61131+21.7106+5.61015C21.5824+5.78639+20.0979+7.39912+20.3963+7.69752C20.9319+8.23298+22.2139+7.81727+22.4064+8.77986C22.6205+9.85044+20.9795+10.5292+21.3241+11.563C21.6981+12.6851+23.3937+12.8128+23.5661+14.1915C23.7375+15.5634+22.1579+16.2734+22.4064+17.5159C22.5648+18.308+24.7113+18.0859+24.1072+19.294C23.4987+20.511+21.6333+22.541+21.6333+22.541C21.6333+22.541+21.6927+20.1085+21.1694+19.0621C20.7209+18.165+19.0947+18.1438+19.4686+16.8974C20.435+13.6761+19.2368+16.5112+18.6182+14.0369C18.4198+13.2435+19.4359+12.3704+19.0821+11.4857C18.7549+10.6677+17.1942+10.5178+17.072+9.78489C16.8789+8.62596+18.396+8.07432+18.2317+6.92442C18.178+6.54847+16.6441+6.60969+16.3762+6.07402C15.5678+4.4571+16.9267+2.44502+15.062+1.51274C8.64401-1.69591+1.29072+3.04249+0.141147+9.93949C-1.18208+17.8783+7.09435+25.4622+12.588+30.0401C13.1712+30.526+15.1108+31.8911+16.0517+32.6851C18.0119+34.3393+19.1442+35.7219+19.7006+36.6114",(0,o.default)("svg",{height:"40px",width:"40px",viewBox:"0 0 40 40"},[(0,o.default)("g",[(0,o.default)("g",{id:"favorite"},[(0,o.default)("path",{style:"fill:"+t.attrs.color,d:t.state.buttonType})])])])}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;var r=n(11),o=i(r);n(132),n(44);var a=n(60),s=i(a),u=n(31),c=i(u),l=n(43),h=n(121);e.Selection={oninit:function(t){t.state={crsl:{},next:!1,instance:{}}},oncreate:function(t){var e=document.getElementById("carouselSelection");c.default.instance=s.default.Carousel.init(e,{fullWidth:!1,height:1e3})},view:function(t){return[(0,o.default)("div",{class:"container"},(0,o.default)(l.Header,null),(0,o.default)("div",{class:"subHeader"},"      "),(0,o.default)("div",{id:"carouselSelection"},(0,o.default)("div",{class:"carousel carousel-slider"},(0,o.default)(h.Card,{imgSrc:"https://www.terminalx.com/pub/media/catalog/product/cache/small_image/360x480/beff4985b56e3afdbeabfc89641a4582/x/0/x027500006-11520265126.jpg"}),(0,o.default)(h.Card,{imgSrc:"https://www.terminalx.com/pub/media/catalog/product/cache/small_image/360x480/beff4985b56e3afdbeabfc89641a4582/x/0/x042260005-11523973418.jpg"}),(0,o.default)(h.Card,{imgSrc:"https://www.terminalx.com/pub/media/catalog/product/cache/small_image/360x480/beff4985b56e3afdbeabfc89641a4582/x/0/x042210027-11521982466.jpg"}),(0,o.default)(h.Card,{imgSrc:"https://www.terminalx.com/pub/media/catalog/product/cache/small_image/360x480/beff4985b56e3afdbeabfc89641a4582/x/0/x069050006-11520265132.jpg"}))))]}}},function(t,e,n){(function(t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=void 0,n(133);e.Menu={view:function(){return t("table",{class:"votingMenu"},t("tr",null,t("td",{class:"votingMenuButton"},""),t("td",{class:"votingMenuButton"},"")))}}}).call(e,n(11))},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){console.dir(t),console.log(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.VotingCard=void 0;var o=n(11),a=i(o);n(44);e.VotingCard={oninit:function(t){t.state={showVoters:!1}},view:function(t){return[t.attrs.options.map(function(e,n){return(0,a.default)("table",{class:"cardVoting",key:n},(0,a.default)("tr",{class:"cardVotingRow"},(0,a.default)("td",{class:"votingPanel",onclick:function(){t.state.showVoters?t.state.showVoters=!1:t.state.showVoters=!0}},t.state.showVoters?(0,a.default)("div",{class:"votersName"},(0,a.default)("span",{class:"badge pink white-text"},""),(0,a.default)("span",{class:"badge white-text"},"")):(0,a.default)("div",{class:"votingBar"},(0,a.default)("div",{class:"votingBarProgress",style:"width:"+e.percent+"%"},(0,a.default)("div",{class:"votingBarProgressText"},e.percent+"%")))),(0,a.default)("td",{class:"imgVoteCell",onclick:function(t){r(t,e.id)}},(0,a.default)("img",{class:"imgVoteCellImg",src:e.src,id:e.id}))))})]}}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(59),o=i(r);n(137),o.default.initializeApp({apiKey:"AIzaSyB9WWEP32uiDLC01nwGYrsUak-Tg96-l6M",authDomain:"votewiz.firebaseapp.com",databaseURL:"https://votewiz.firebaseio.com",projectId:"votewiz",storageBucket:"votewiz.appspot.com",messagingSenderId:"315314502868"});var a=o.default.firestore();e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var r=n(59),o=i(r);n(136);var a=n(31),s=i(a);o.default.auth().signInAnonymously().catch(function(t){consle.error(t.code),consle.error(t.message)}),o.default.auth().onAuthStateChanged(function(t){t?(console.log("User is signed in."),s.default.user.isAnonymous=t.isAnonymous,s.default.user.uid=t.uid):console.log("User is signed out")})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(63)},function(t,e,n){n(64)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){v&&f&&(v=!1,f.length?p=f.concat(p):m=-1,p.length&&s())}function s(){if(!v){var t=r(a);v=!0;for(var e=p.length;e;){for(f=p,p=[];++m<e;)f&&f[m].run();m=-1,e=p.length}f=null,v=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,d=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var f,p=[],v=!1,m=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||v||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e,n){(function(e){"use strict";function n(){}function i(t,e){return function(){t.apply(e,arguments)}}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a:s)(e.promise,t._value);var i;try{i=n(t._value)}catch(t){return void s(e.promise,t)}a(e.promise,i)}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(i(n,e),t)}t._state=1,t._value=e,u(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(t){if(n)return;n=!0,s(e,t)}}var h=setTimeout;r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var i=new this.constructor(n);return o(this,new c(t,e,i)),i},r.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},r.all=function(t){return new r(function(e,n){function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(t,e)},n)}r[t]=a,0===--o&&e(r)}catch(t){n(t)}}if(!t||"undefined"==typeof t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);for(var o=r.length,a=0;a<r.length;a++)i(a,r[a])})},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},r._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){h(t,0)},r._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},t.exports=r}).call(e,n(61).setImmediate)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return v[p]=i,f(p),p++}function r(t){delete v[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function a(t){if(m)setTimeout(a,0,t);else{var e=v[t];if(e){m=!0;try{o(e)}finally{r(t),m=!1}}}}function s(){f=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function c(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),f=function(n){t.postMessage(e+n,"*")}}function l(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},f=function(e){t.port2.postMessage(e)}}function h(){var t=y.documentElement;f=function(e){var n=y.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function d(){f=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var f,p=1,v={},m=!1,y=t.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(t);g=g&&g.setTimeout?g:t,"[object process]"==={}.toString.call(t.process)?s():u()?c():t.MessageChannel?l():y&&"onreadystatechange"in y.createElement("script")?h():d(),g.setImmediate=i,g.clearImmediate=r}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(138))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}]);